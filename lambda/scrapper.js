!function(e,t){for(var i in t)e[i]=t[i]}(exports,function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=161)}([function(e,t){e.exports=require("stream")},function(e,t){e.exports=require("util")},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("path")},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assert=void 0;t.assert=(e,t)=>{if(!e)throw new Error(t)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assert=void 0;t.assert=(e,t)=>{if(!e)throw new Error(t)}},function(e,t){e.exports=require("buffer")},function(e,t){e.exports=require("events")},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.helper=t.debugError=void 0;const s=i(37),a=i(38),c=i(4),l=i(18);function d(e,t,i){return e.on(t,i),{emitter:e,eventName:t,handler:i}}function u(e){for(const t of e)t.emitter.removeListener(t.eventName,t.handler);e.length=0}function h(e){return"string"==typeof e||e instanceof String}function p(e,...t){if(h(e))return c.assert(0===t.length,"Cannot evaluate a string with arguments"),e;return`(${e})(${t.map((function(e){return Object.is(e,void 0)?"undefined":JSON.stringify(e)})).join(",")})`}async function f(){if(!l.isNode)throw new Error("Cannot load the fs module API outside of Node.");const e=await Promise.resolve().then(()=>o(i(2)));return e.promises?e:e.default}t.debugError=a.debug("puppeteer:error"),t.helper={evaluationString:p,pageBindingInitString:function(e,t){return p((function(e,t){const i=window,n=i[t];i[t]=(...i)=>{const r=window[t];let o=r.callbacks;o||(o=new Map,r.callbacks=o);const s=(r.lastSeq||0)+1;r.lastSeq=s;const a=new Promise((e,t)=>o.set(s,{resolve:e,reject:t}));return n(JSON.stringify({type:e,name:t,seq:s,args:i})),a}}),e,t)},pageBindingDeliverResultString:function(e,t,i){return p((function(e,t,i){window[e].callbacks.get(t).resolve(i),window[e].callbacks.delete(t)}),e,t,i)},pageBindingDeliverErrorString:function(e,t,i,n){return p((function(e,t,i,n){const r=new Error(i);r.stack=n,window[e].callbacks.get(t).reject(r),window[e].callbacks.delete(t)}),e,t,i,n)},pageBindingDeliverErrorValueString:function(e,t,i){return p((function(e,t,i){window[e].callbacks.get(t).reject(i),window[e].callbacks.delete(t)}),e,t,i)},makePredicateString:function(e,t){return`\n    (() => {\n      ${t?`const predicateQueryHandler = ${t};`:""}\n      const checkWaitForOptions = ${function(e,t,i){if(!e)return i;if(!t&&!i)return e;const n=e.nodeType===Node.TEXT_NODE?e.parentElement:e,r=window.getComputedStyle(n),o=r&&"hidden"!==r.visibility&&function(){const e=n.getBoundingClientRect();return!!(e.top||e.bottom||e.width||e.height)}();return t===o||i===!o?e:null}};\n      return (${e})(...args)\n    })() `},readProtocolStream:async function(e,t,i){if(!l.isNode&&i)throw new Error("Cannot write to a path outside of Node.js environment.");const n=l.isNode?await f():null;let r,o=!1;i&&n&&(r=await n.promises.open(i,"w"));const s=[];for(;!o;){const a=await e.send("IO.read",{handle:t});o=a.eof;const c=Buffer.from(a.data,a.base64Encoded?"base64":void 0);s.push(c),i&&n&&await n.promises.writeFile(r,c)}i&&await r.close(),await e.send("IO.close",{handle:t});let a=null;try{a=Buffer.concat(s)}finally{return a}},waitWithTimeout:async function(e,t,i){let n;const r=new s.TimeoutError(`waiting for ${t} failed: timeout ${i}ms exceeded`),o=new Promise((e,t)=>n=t);let a=null;i&&(a=setTimeout(()=>n(r),i));try{return await Promise.race([e,o])}finally{a&&clearTimeout(a)}},waitForEvent:async function(e,t,i,n,r){let o,a,c;const l=new Promise((e,t)=>{a=e,c=t}),h=d(e,t,async e=>{await i(e)&&a(e)});function p(){u([h]),clearTimeout(o)}n&&(o=setTimeout(()=>{c(new s.TimeoutError("Timeout exceeded while waiting for event"))},n));const f=await Promise.race([l,r]).then(e=>(p(),e),e=>{throw p(),e});if(f instanceof Error)throw f;return f},isString:h,isNumber:function(e){return"number"==typeof e||e instanceof Number},importFSModule:f,addEventListener:d,removeEventListeners:u,valueFromRemoteObject:function(e){if(c.assert(!e.objectId,"Cannot extract value when objectId is given"),e.unserializableValue){if("bigint"===e.type&&"undefined"!=typeof BigInt)return BigInt(e.unserializableValue.replace("n",""));switch(e.unserializableValue){case"-0":return-0;case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error("Unsupported unserializable value: "+e.unserializableValue)}}return e.value},getExceptionMessage:function(e){if(e.exception)return e.exception.description||e.exception.value;let t=e.text;if(e.stackTrace)for(const i of e.stackTrace.callFrames){const e=i.url+":"+i.lineNumber+":"+i.columnNumber;t+=`\n    at ${i.functionName||"<anonymous>"} (${e})`}return t},releaseObject:async function(e,i){i.objectId&&await e.send("Runtime.releaseObject",{objectId:i.objectId}).catch(e=>{t.debugError(e)})}}},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.helper=t.debugError=void 0;const s=i(40),a=i(41),c=i(5),l=i(19);function d(e,t,i){return e.on(t,i),{emitter:e,eventName:t,handler:i}}function u(e){for(const t of e)t.emitter.removeListener(t.eventName,t.handler);e.length=0}function h(e){return"string"==typeof e||e instanceof String}function p(e,...t){if(h(e))return c.assert(0===t.length,"Cannot evaluate a string with arguments"),e;return`(${e})(${t.map((function(e){return Object.is(e,void 0)?"undefined":JSON.stringify(e)})).join(",")})`}async function f(){if(!l.isNode)throw new Error("Cannot load the fs module API outside of Node.");const e=await Promise.resolve().then(()=>o(i(2)));return e.promises?e:e.default}t.debugError=a.debug("puppeteer:error"),t.helper={evaluationString:p,pageBindingInitString:function(e,t){return p((function(e,t){const i=window,n=i[t];i[t]=(...i)=>{const r=window[t];let o=r.callbacks;o||(o=new Map,r.callbacks=o);const s=(r.lastSeq||0)+1;r.lastSeq=s;const a=new Promise((e,t)=>o.set(s,{resolve:e,reject:t}));return n(JSON.stringify({type:e,name:t,seq:s,args:i})),a}}),e,t)},pageBindingDeliverResultString:function(e,t,i){return p((function(e,t,i){window[e].callbacks.get(t).resolve(i),window[e].callbacks.delete(t)}),e,t,i)},pageBindingDeliverErrorString:function(e,t,i,n){return p((function(e,t,i,n){const r=new Error(i);r.stack=n,window[e].callbacks.get(t).reject(r),window[e].callbacks.delete(t)}),e,t,i,n)},pageBindingDeliverErrorValueString:function(e,t,i){return p((function(e,t,i){window[e].callbacks.get(t).reject(i),window[e].callbacks.delete(t)}),e,t,i)},makePredicateString:function(e,t){return`\n    (() => {\n      ${t?`const predicateQueryHandler = ${t};`:""}\n      const checkWaitForOptions = ${function(e,t,i){if(!e)return i;if(!t&&!i)return e;const n=e.nodeType===Node.TEXT_NODE?e.parentElement:e,r=window.getComputedStyle(n),o=r&&"hidden"!==r.visibility&&function(){const e=n.getBoundingClientRect();return!!(e.top||e.bottom||e.width||e.height)}();return t===o||i===!o?e:null}};\n      return (${e})(...args)\n    })() `},readProtocolStream:async function(e,t,i){if(!l.isNode&&i)throw new Error("Cannot write to a path outside of Node.js environment.");const n=l.isNode?await f():null;let r,o=!1;i&&n&&(r=await n.promises.open(i,"w"));const s=[];for(;!o;){const a=await e.send("IO.read",{handle:t});o=a.eof;const c=Buffer.from(a.data,a.base64Encoded?"base64":void 0);s.push(c),i&&n&&await n.promises.writeFile(r,c)}i&&await r.close(),await e.send("IO.close",{handle:t});let a=null;try{a=Buffer.concat(s)}finally{return a}},waitWithTimeout:async function(e,t,i){let n;const r=new s.TimeoutError(`waiting for ${t} failed: timeout ${i}ms exceeded`),o=new Promise((e,t)=>n=t);let a=null;i&&(a=setTimeout(()=>n(r),i));try{return await Promise.race([e,o])}finally{a&&clearTimeout(a)}},waitForEvent:async function(e,t,i,n,r){let o,a,c;const l=new Promise((e,t)=>{a=e,c=t}),h=d(e,t,async e=>{await i(e)&&a(e)});function p(){u([h]),clearTimeout(o)}n&&(o=setTimeout(()=>{c(new s.TimeoutError("Timeout exceeded while waiting for event"))},n));const f=await Promise.race([l,r]).then(e=>(p(),e),e=>{throw p(),e});if(f instanceof Error)throw f;return f},isString:h,isNumber:function(e){return"number"==typeof e||e instanceof Number},importFSModule:f,addEventListener:d,removeEventListeners:u,valueFromRemoteObject:function(e){if(c.assert(!e.objectId,"Cannot extract value when objectId is given"),e.unserializableValue){if("bigint"===e.type&&"undefined"!=typeof BigInt)return BigInt(e.unserializableValue.replace("n",""));switch(e.unserializableValue){case"-0":return-0;case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error("Unsupported unserializable value: "+e.unserializableValue)}}return e.value},getExceptionMessage:function(e){if(e.exception)return e.exception.description||e.exception.value;let t=e.text;if(e.stackTrace)for(const i of e.stackTrace.callFrames){const e=i.url+":"+i.lineNumber+":"+i.columnNumber;t+=`\n    at ${i.functionName||"<anonymous>"} (${e})`}return t},releaseObject:async function(e,i){i.objectId&&await e.send("Runtime.releaseObject",{objectId:i.objectId}).catch(e=>{t.debugError(e)})}}},function(e,t){e.exports=require("url")},function(e,t,i){"use strict";const n=i(10),r=i(1),o=i(2),s=i(44),a=i(75),c=i(26),l=(e,t,i)=>{a["resolve"+e](t,(e,t)=>{if(e){switch(e.code){case a.NODATA:case a.NOTFOUND:case a.NOTIMP:case a.SERVFAIL:case a.CONNREFUSED:case"EAI_AGAIN":return i(null,[])}return i(e)}return i(null,Array.isArray(t)?t:[].concat(t||[]))})},d=e.exports.dnsCache=new Map;function u(e,t){let i=!1,n=[],r=0;e.on("error",e=>{i||(i=!0,t(e))}),e.on("readable",()=>{let t;for(;null!==(t=e.read());)n.push(t),r+=t.length}),e.on("end",()=>{if(i)return;let e;i=!0;try{e=Buffer.concat(n,r)}catch(e){return t(e)}t(null,e)})}e.exports.resolveHostname=(e,t)=>{if(!(e=e||{}).host||c.isIP(e.host)){let i={host:e.host,servername:e.servername||!1};return t(null,i)}let i;if(d.has(e.host)&&(i=d.get(e.host),!i.expires||i.expires>=Date.now()))return t(null,{host:i.value.host,servername:i.value.servername,_cached:!0});l(4,e.host,(n,r)=>{if(n)return i?t(null,i.value):t(n);if(r&&r.length){let i={host:r[0]||e.host,servername:e.servername||e.host};return d.set(e.host,{value:i,expires:Date.now()+3e5}),t(null,i)}l(6,e.host,(n,r)=>{if(n)return i?t(null,i.value):t(n);if(r&&r.length){let i={host:r[0]||e.host,servername:e.servername||e.host};return d.set(e.host,{value:i,expires:Date.now()+3e5}),t(null,i)}try{a.lookup(e.host,{},(n,r)=>{if(n)return i?t(null,i.value):t(n);if(!r&&i)return t(null,i.value);let o={host:r||e.host,servername:e.servername||e.host};return d.set(e.host,{value:o,expires:Date.now()+3e5}),t(null,o)})}catch(n){return i?t(null,i.value):t(n)}})})},e.exports.parseConnectionUrl=e=>{e=e||"";let t={};return[n.parse(e,!0)].forEach(e=>{let i;switch(e.protocol){case"smtp:":t.secure=!1;break;case"smtps:":t.secure=!0;break;case"direct:":t.direct=!0}!isNaN(e.port)&&Number(e.port)&&(t.port=Number(e.port)),e.hostname&&(t.host=e.hostname),e.auth&&(i=e.auth.split(":"),t.auth||(t.auth={}),t.auth.user=i.shift(),t.auth.pass=i.join(":")),Object.keys(e.query||{}).forEach(i=>{let n=t,r=i,o=e.query[i];switch(isNaN(o)||(o=Number(o)),o){case"true":o=!0;break;case"false":o=!1}if(0===i.indexOf("tls."))r=i.substr(4),t.tls||(t.tls={}),n=t.tls;else if(i.indexOf(".")>=0)return;r in n||(n[r]=o)})}),t},e.exports._logFunc=(e,t,i,n,r,...o)=>{let s={};Object.keys(i||{}).forEach(e=>{"level"!==e&&(s[e]=i[e])}),Object.keys(n||{}).forEach(e=>{"level"!==e&&(s[e]=n[e])}),e[t](s,r,...o)},e.exports.getLogger=(t,i)=>{let n={},o=["trace","debug","info","warn","error","fatal"];if(!(t=t||{}).logger)return o.forEach(e=>{n[e]=()=>!1}),n;let s=t.logger;return!0===t.logger&&(s=function(e){let t=0,i=new Map;e.forEach(e=>{e.length>t&&(t=e.length)}),e.forEach(e=>{let n=e.toUpperCase();n.length<t&&(n+=" ".repeat(t-n.length)),i.set(e,n)});let n=(e,t,n,...o)=>{let s="";t&&("server"===t.tnx?s="S: ":"client"===t.tnx&&(s="C: "),t.sid&&(s="["+t.sid+"] "+s),t.cid&&(s="[#"+t.cid+"] "+s)),(n=r.format(n,...o)).split(/\r?\n/).forEach(t=>{console.log("[%s] %s %s",(new Date).toISOString().substr(0,19).replace(/T/," "),i.get(e),s+t)})},o={};return e.forEach(e=>{o[e]=n.bind(null,e)}),o}(o)),o.forEach(t=>{n[t]=(n,r,...o)=>{e.exports._logFunc(s,t,i,n,r,...o)}}),n},e.exports.callbackPromise=(e,t)=>function(){let i=Array.from(arguments),n=i.shift();n?t(n):e(...i)},e.exports.resolveContent=(t,i,n)=>{let r;n||(r=new Promise((t,i)=>{n=e.exports.callbackPromise(t,i)}));let a,c=t&&t[i]&&t[i].content||t[i],l=("object"==typeof t[i]&&t[i].encoding||"utf8").toString().toLowerCase().replace(/[-_\s]/g,"");if(!c)return n(null,c);if("object"==typeof c){if("function"==typeof c.pipe)return u(c,(e,r)=>{if(e)return n(e);t[i]=r,n(null,r)});if(/^https?:\/\//i.test(c.path||c.href))return a=s(c.path||c.href),u(a,n);if(/^data:/i.test(c.path||c.href)){let e=(c.path||c.href).match(/^data:((?:[^;]*;)*(?:[^,]*)),(.*)$/i);return n(null,e?/\bbase64$/i.test(e[1])?Buffer.from(e[2],"base64"):Buffer.from(decodeURIComponent(e[2])):Buffer.from(0))}if(c.path)return u(o.createReadStream(c.path),n)}return"string"!=typeof t[i].content||["utf8","usascii","ascii"].includes(l)||(c=Buffer.from(t[i].content,l)),setImmediate(()=>n(null,c)),r},e.exports.assign=function(){let e=Array.from(arguments),t=e.shift()||{};return e.forEach(e=>{Object.keys(e||{}).forEach(i=>{["tls","auth"].includes(i)&&e[i]&&"object"==typeof e[i]?(t[i]||(t[i]={}),Object.keys(e[i]).forEach(n=>{t[i][n]=e[i][n]})):t[i]=e[i]})}),t},e.exports.encodeXText=e=>{if(!/[^\x21-\x2A\x2C-\x3C\x3E-\x7E]/.test(e))return e;let t=Buffer.from(e),i="";for(let e=0,n=t.length;e<n;e++){let n=t[e];i+=n<33||n>126||43===n||61===n?"+"+(n<16?"0":"")+n.toString(16).toUpperCase():String.fromCharCode(n)}return i}},function(e,t,i){try{var n=i(1);if("function"!=typeof n.inherits)throw"";e.exports=n.inherits}catch(t){e.exports=i(192)}},function(e,t){e.exports=require("zlib")},function(e){e.exports=JSON.parse('{"_from":"nodemailer","_id":"nodemailer@6.5.0","_inBundle":false,"_integrity":"sha512-Tm4RPrrIZbnqDKAvX+/4M+zovEReiKlEXWDzG4iwtpL9X34MJY+D5LnQPH/+eghe8DLlAVshHAJZAZWBGhkguw==","_location":"/nodemailer","_phantomChildren":{},"_requested":{"type":"tag","registry":true,"raw":"nodemailer","name":"nodemailer","escapedName":"nodemailer","rawSpec":"","saveSpec":null,"fetchSpec":"latest"},"_requiredBy":["#USER","/"],"_resolved":"https://registry.npmjs.org/nodemailer/-/nodemailer-6.5.0.tgz","_shasum":"d12c28d8d48778918e25f1999d97910231b175d9","_spec":"nodemailer","_where":"C:\\\\Users\\\\Abubakar\\\\Desktop\\\\Fiverr Projects\\\\netlifywebsite","author":{"name":"Andris Reinman"},"bugs":{"url":"https://github.com/nodemailer/nodemailer/issues"},"bundleDependencies":false,"deprecated":false,"description":"Easy as cake e-mail sending from your Node.js applications","devDependencies":{"bunyan":"1.8.15","chai":"4.3.0","eslint-config-nodemailer":"1.2.0","eslint-config-prettier":"8.1.0","grunt":"1.3.0","grunt-cli":"1.3.2","grunt-eslint":"23.0.0","grunt-mocha-test":"0.13.3","libbase64":"1.2.1","libmime":"5.0.0","libqp":"1.1.0","mocha":"8.3.0","nodemailer-ntlm-auth":"1.0.1","proxy":"1.0.2","proxy-test-server":"1.0.0","sinon":"9.2.4","smtp-server":"3.8.0"},"engines":{"node":">=6.0.0"},"homepage":"https://nodemailer.com/","keywords":["Nodemailer"],"license":"MIT","main":"lib/nodemailer.js","name":"nodemailer","repository":{"type":"git","url":"git+https://github.com/nodemailer/nodemailer.git"},"scripts":{"test":"grunt"},"version":"6.5.0"}')},function(e,t){e.exports=require("crypto")},function(e,t){e.exports=require("os")},function(e,t){e.exports=require("http")},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNode=void 0,t.isNode=!("undefined"==typeof process||!process.version)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNode=void 0,t.isNode=!("undefined"==typeof process||!process.version)},function(e,t,i){"use strict";const n={};function r(e,t,i){i||(i=Error);class r extends i{constructor(e,i,n){super(function(e,i,n){return"string"==typeof t?t:t(e,i,n)}(e,i,n))}}r.prototype.name=i.name,r.prototype.code=e,n[e]=r}function o(e,t){if(Array.isArray(e)){const i=e.length;return e=e.map(e=>String(e)),i>2?`one of ${t} ${e.slice(0,i-1).join(", ")}, or `+e[i-1]:2===i?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,i){let n;var r,s;let a;if("string"==typeof t&&(r="not ",t.substr(!s||s<0?0:+s,r.length)===r)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,i){return(void 0===i||i>e.length)&&(i=e.length),e.substring(i-t.length,i)===t}(e," argument"))a=`The ${e} ${n} ${o(t,"type")}`;else{a=`The "${e}" ${function(e,t,i){return"number"!=typeof i&&(i=0),!(i+t.length>e.length)&&-1!==e.indexOf(t,i)}(e,".")?"property":"argument"} ${n} ${o(t,"type")}`}return a+=". Received type "+typeof i,a}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=n},function(e,t,i){"use strict";const n={};function r(e,t,i){i||(i=Error);class r extends i{constructor(e,i,n){super(function(e,i,n){return"string"==typeof t?t:t(e,i,n)}(e,i,n))}}r.prototype.name=i.name,r.prototype.code=e,n[e]=r}function o(e,t){if(Array.isArray(e)){const i=e.length;return e=e.map(e=>String(e)),i>2?`one of ${t} ${e.slice(0,i-1).join(", ")}, or `+e[i-1]:2===i?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,i){let n;var r,s;let a;if("string"==typeof t&&(r="not ",t.substr(!s||s<0?0:+s,r.length)===r)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,i){return(void 0===i||i>e.length)&&(i=e.length),e.substring(i-t.length,i)===t}(e," argument"))a=`The ${e} ${n} ${o(t,"type")}`;else{a=`The "${e}" ${function(e,t,i){return"number"!=typeof i&&(i=0),!(i+t.length>e.length)&&-1!==e.indexOf(t,i)}(e,".")?"property":"argument"} ${n} ${o(t,"type")}`}return a+=". Received type "+typeof i,a}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=n},function(e,t,i){try{var n=i(1);if("function"!=typeof n.inherits)throw"";e.exports=n.inherits}catch(t){e.exports=i(281)}},function(e,t,i){"use strict";const n={};function r(e,t,i){i||(i=Error);class r extends i{constructor(e,i,n){super(function(e,i,n){return"string"==typeof t?t:t(e,i,n)}(e,i,n))}}r.prototype.name=i.name,r.prototype.code=e,n[e]=r}function o(e,t){if(Array.isArray(e)){const i=e.length;return e=e.map(e=>String(e)),i>2?`one of ${t} ${e.slice(0,i-1).join(", ")}, or `+e[i-1]:2===i?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,i){let n;var r,s;let a;if("string"==typeof t&&(r="not ",t.substr(!s||s<0?0:+s,r.length)===r)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,i){return(void 0===i||i>e.length)&&(i=e.length),e.substring(i-t.length,i)===t}(e," argument"))a=`The ${e} ${n} ${o(t,"type")}`;else{a=`The "${e}" ${function(e,t,i){return"number"!=typeof i&&(i=0),!(i+t.length>e.length)&&-1!==e.indexOf(t,i)}(e,".")?"property":"argument"} ${n} ${o(t,"type")}`}return a+=". Received type "+typeof i,a}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=n},function(e,t,i){"use strict";const n={};function r(e,t,i){i||(i=Error);class r extends i{constructor(e,i,n){super(function(e,i,n){return"string"==typeof t?t:t(e,i,n)}(e,i,n))}}r.prototype.name=i.name,r.prototype.code=e,n[e]=r}function o(e,t){if(Array.isArray(e)){const i=e.length;return e=e.map(e=>String(e)),i>2?`one of ${t} ${e.slice(0,i-1).join(", ")}, or `+e[i-1]:2===i?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,i){let n;var r,s;let a;if("string"==typeof t&&(r="not ",t.substr(!s||s<0?0:+s,r.length)===r)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,i){return(void 0===i||i>e.length)&&(i=e.length),e.substring(i-t.length,i)===t}(e," argument"))a=`The ${e} ${n} ${o(t,"type")}`;else{a=`The "${e}" ${function(e,t,i){return"number"!=typeof i&&(i=0),!(i+t.length>e.length)&&-1!==e.indexOf(t,i)}(e,".")?"property":"argument"} ${n} ${o(t,"type")}`}return a+=". Received type "+typeof i,a}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=n},function(e,t){e.exports=require("https")},function(e,t){e.exports=require("net")},function(e,t,i){"use strict";var n=Object.keys||function(e){var t=[];for(var i in e)t.push(i);return t};e.exports=l;var r=i(84),o=i(88);i(12)(l,r);for(var s=n(o.prototype),a=0;a<s.length;a++){var c=s[a];l.prototype[c]||(l.prototype[c]=o.prototype[c])}function l(e){if(!(this instanceof l))return new l(e);r.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||process.nextTick(u,this)}function u(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},function(e,t,i){"use strict";var n=Object.keys||function(e){var t=[];for(var i in e)t.push(i);return t};e.exports=l;var r=i(92),o=i(96);i(12)(l,r);for(var s=n(o.prototype),a=0;a<s.length;a++){var c=s[a];l.prototype[c]||(l.prototype[c]=o.prototype[c])}function l(e){if(!(this instanceof l))return new l(e);r.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||process.nextTick(u,this)}function u(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},function(e,t,i){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=i(210):e.exports=i(212)},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EventEmitter=void 0;const r=n(i(217));t.EventEmitter=class{constructor(){this.eventsMap=new Map,this.emitter=r.default(this.eventsMap)}on(e,t){return this.emitter.on(e,t),this}off(e,t){return this.emitter.off(e,t),this}removeListener(e,t){return this.off(e,t),this}addListener(e,t){return this.on(e,t),this}emit(e,t){return this.emitter.emit(e,t),this.eventListenersCount(e)>0}once(e,t){const i=n=>{t(n),this.off(e,i)};return this.on(e,i)}listenerCount(e){return this.eventListenersCount(e)}removeAllListeners(e){return e?this.eventsMap.delete(e):this.eventsMap.clear(),this}eventListenersCount(e){return this.eventsMap.has(e)?this.eventsMap.get(e).length:0}}},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EventEmitter=void 0;const r=n(i(235));t.EventEmitter=class{constructor(){this.eventsMap=new Map,this.emitter=r.default(this.eventsMap)}on(e,t){return this.emitter.on(e,t),this}off(e,t){return this.emitter.off(e,t),this}removeListener(e,t){return this.off(e,t),this}addListener(e,t){return this.on(e,t),this}emit(e,t){return this.emitter.emit(e,t),this.eventListenersCount(e)>0}once(e,t){const i=n=>{t(n),this.off(e,i)};return this.on(e,i)}listenerCount(e){return this.eventListenersCount(e)}removeAllListeners(e){return e?this.eventsMap.delete(e):this.eventsMap.clear(),this}eventListenersCount(e){return this.eventsMap.has(e)?this.eventsMap.get(e).length:0}}},function(e,t,i){"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),EMPTY_BUFFER:Buffer.alloc(0),NOOP:()=>{}}},function(e,t,i){try{var n=i(1);if("function"!=typeof n.inherits)throw"";e.exports=n.inherits}catch(t){e.exports=i(294)}},function(e,t,i){"use strict";var n=Object.keys||function(e){var t=[];for(var i in e)t.push(i);return t};e.exports=l;var r=i(138),o=i(142);i(33)(l,r);for(var s=n(o.prototype),a=0;a<s.length;a++){var c=s[a];l.prototype[c]||(l.prototype[c]=o.prototype[c])}function l(e){if(!(this instanceof l))return new l(e);r.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||process.nextTick(u,this)}function u(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},function(e,t,i){"use strict";var n=Object.keys||function(e){var t=[];for(var i in e)t.push(i);return t};e.exports=l;var r=i(146),o=i(150);i(22)(l,r);for(var s=n(o.prototype),a=0;a<s.length;a++){var c=s[a];l.prototype[c]||(l.prototype[c]=o.prototype[c])}function l(e){if(!(this instanceof l))return new l(e);r.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||process.nextTick(u,this)}function u(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},function(e,t){e.exports=require("child_process")},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.puppeteerErrors=t.TimeoutError=void 0;class n extends Error{constructor(e){super(e),this.name=this.constructor.name,Error.captureStackTrace(this,this.constructor)}}class r extends n{}t.TimeoutError=r,t.puppeteerErrors={TimeoutError:r}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debug=void 0;const n=i(18);t.debug=e=>n.isNode?i(29)(e):(...t)=>{const i=globalThis.__PUPPETEER_DEBUG;if(!i)return;("*"===i||(i.endsWith("*")?e.startsWith(i):e===i))&&console.log(e+":",...t)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CDPSession=t.CDPSessionEmittedEvents=t.Connection=t.ConnectionEmittedEvents=void 0;const n=i(4),r=i(38),o=r.debug("puppeteer:protocol:SEND ►"),s=r.debug("puppeteer:protocol:RECV ◀"),a=i(30);t.ConnectionEmittedEvents={Disconnected:Symbol("Connection.Disconnected")};class c extends a.EventEmitter{constructor(e,t,i=0){super(),this._lastId=0,this._sessions=new Map,this._closed=!1,this._callbacks=new Map,this._url=e,this._delay=i,this._transport=t,this._transport.onmessage=this._onMessage.bind(this),this._transport.onclose=this._onClose.bind(this)}static fromSession(e){return e._connection}session(e){return this._sessions.get(e)||null}url(){return this._url}send(e,...t){const i=t.length?t[0]:void 0,n=this._rawSend({method:e,params:i});return new Promise((t,i)=>{this._callbacks.set(n,{resolve:t,reject:i,error:new Error,method:e})})}_rawSend(e){const t=++this._lastId,i=JSON.stringify(Object.assign({},e,{id:t}));return o(i),this._transport.send(i),t}async _onMessage(e){this._delay&&await new Promise(e=>setTimeout(e,this._delay)),s(e);const t=JSON.parse(e);if("Target.attachedToTarget"===t.method){const e=t.params.sessionId,i=new l(this,t.params.targetInfo.type,e);this._sessions.set(e,i)}else if("Target.detachedFromTarget"===t.method){const e=this._sessions.get(t.params.sessionId);e&&(e._onClosed(),this._sessions.delete(t.params.sessionId))}if(t.sessionId){const e=this._sessions.get(t.sessionId);e&&e._onMessage(t)}else if(t.id){const e=this._callbacks.get(t.id);e&&(this._callbacks.delete(t.id),t.error?e.reject(d(e.error,e.method,t)):e.resolve(t.result))}else this.emit(t.method,t.params)}_onClose(){if(!this._closed){this._closed=!0,this._transport.onmessage=null,this._transport.onclose=null;for(const e of this._callbacks.values())e.reject(u(e.error,`Protocol error (${e.method}): Target closed.`));this._callbacks.clear();for(const e of this._sessions.values())e._onClosed();this._sessions.clear(),this.emit(t.ConnectionEmittedEvents.Disconnected)}}dispose(){this._onClose(),this._transport.close()}async createSession(e){const{sessionId:t}=await this.send("Target.attachToTarget",{targetId:e.targetId,flatten:!0});return this._sessions.get(t)}}t.Connection=c,t.CDPSessionEmittedEvents={Disconnected:Symbol("CDPSession.Disconnected")};class l extends a.EventEmitter{constructor(e,t,i){super(),this._callbacks=new Map,this._connection=e,this._targetType=t,this._sessionId=i}send(e,...t){if(!this._connection)return Promise.reject(new Error(`Protocol error (${e}): Session closed. Most likely the ${this._targetType} has been closed.`));const i=t.length?t[0]:void 0,n=this._connection._rawSend({sessionId:this._sessionId,method:e,params:i||{}});return new Promise((t,i)=>{this._callbacks.set(n,{resolve:t,reject:i,error:new Error,method:e})})}_onMessage(e){if(e.id&&this._callbacks.has(e.id)){const t=this._callbacks.get(e.id);this._callbacks.delete(e.id),e.error?t.reject(d(t.error,t.method,e)):t.resolve(e.result)}else n.assert(!e.id),this.emit(e.method,e.params)}async detach(){if(!this._connection)throw new Error(`Session already detached. Most likely the ${this._targetType} has been closed.`);await this._connection.send("Target.detachFromTarget",{sessionId:this._sessionId})}_onClosed(){for(const e of this._callbacks.values())e.reject(u(e.error,`Protocol error (${e.method}): Target closed.`));this._callbacks.clear(),this._connection=null,this.emit(t.CDPSessionEmittedEvents.Disconnected)}}function d(e,t,i){let n=`Protocol error (${t}): ${i.error.message}`;return"data"in i.error&&(n+=" "+i.error.data),u(e,n)}function u(e,t){return e.message=t,e}t.CDPSession=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.puppeteerErrors=t.TimeoutError=void 0;class n extends Error{constructor(e){super(e),this.name=this.constructor.name,Error.captureStackTrace(this,this.constructor)}}class r extends n{}t.TimeoutError=r,t.puppeteerErrors={TimeoutError:r}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debug=void 0;const n=i(19);t.debug=e=>n.isNode?i(29)(e):(...t)=>{const i=globalThis.__PUPPETEER_DEBUG;if(!i)return;("*"===i||(i.endsWith("*")?e.startsWith(i):e===i))&&console.log(e+":",...t)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CDPSession=t.CDPSessionEmittedEvents=t.Connection=t.ConnectionEmittedEvents=void 0;const n=i(5),r=i(41),o=r.debug("puppeteer:protocol:SEND ►"),s=r.debug("puppeteer:protocol:RECV ◀"),a=i(31);t.ConnectionEmittedEvents={Disconnected:Symbol("Connection.Disconnected")};class c extends a.EventEmitter{constructor(e,t,i=0){super(),this._lastId=0,this._sessions=new Map,this._closed=!1,this._callbacks=new Map,this._url=e,this._delay=i,this._transport=t,this._transport.onmessage=this._onMessage.bind(this),this._transport.onclose=this._onClose.bind(this)}static fromSession(e){return e._connection}session(e){return this._sessions.get(e)||null}url(){return this._url}send(e,...t){const i=t.length?t[0]:void 0,n=this._rawSend({method:e,params:i});return new Promise((t,i)=>{this._callbacks.set(n,{resolve:t,reject:i,error:new Error,method:e})})}_rawSend(e){const t=++this._lastId,i=JSON.stringify(Object.assign({},e,{id:t}));return o(i),this._transport.send(i),t}async _onMessage(e){this._delay&&await new Promise(e=>setTimeout(e,this._delay)),s(e);const t=JSON.parse(e);if("Target.attachedToTarget"===t.method){const e=t.params.sessionId,i=new l(this,t.params.targetInfo.type,e);this._sessions.set(e,i)}else if("Target.detachedFromTarget"===t.method){const e=this._sessions.get(t.params.sessionId);e&&(e._onClosed(),this._sessions.delete(t.params.sessionId))}if(t.sessionId){const e=this._sessions.get(t.sessionId);e&&e._onMessage(t)}else if(t.id){const e=this._callbacks.get(t.id);e&&(this._callbacks.delete(t.id),t.error?e.reject(d(e.error,e.method,t)):e.resolve(t.result))}else this.emit(t.method,t.params)}_onClose(){if(!this._closed){this._closed=!0,this._transport.onmessage=null,this._transport.onclose=null;for(const e of this._callbacks.values())e.reject(u(e.error,`Protocol error (${e.method}): Target closed.`));this._callbacks.clear();for(const e of this._sessions.values())e._onClosed();this._sessions.clear(),this.emit(t.ConnectionEmittedEvents.Disconnected)}}dispose(){this._onClose(),this._transport.close()}async createSession(e){const{sessionId:t}=await this.send("Target.attachToTarget",{targetId:e.targetId,flatten:!0});return this._sessions.get(t)}}t.Connection=c,t.CDPSessionEmittedEvents={Disconnected:Symbol("CDPSession.Disconnected")};class l extends a.EventEmitter{constructor(e,t,i){super(),this._callbacks=new Map,this._connection=e,this._targetType=t,this._sessionId=i}send(e,...t){if(!this._connection)return Promise.reject(new Error(`Protocol error (${e}): Session closed. Most likely the ${this._targetType} has been closed.`));const i=t.length?t[0]:void 0,n=this._connection._rawSend({sessionId:this._sessionId,method:e,params:i||{}});return new Promise((t,i)=>{this._callbacks.set(n,{resolve:t,reject:i,error:new Error,method:e})})}_onMessage(e){if(e.id&&this._callbacks.has(e.id)){const t=this._callbacks.get(e.id);this._callbacks.delete(e.id),e.error?t.reject(d(t.error,t.method,e)):t.resolve(e.result)}else n.assert(!e.id),this.emit(e.method,e.params)}async detach(){if(!this._connection)throw new Error(`Session already detached. Most likely the ${this._targetType} has been closed.`);await this._connection.send("Target.detachFromTarget",{sessionId:this._sessionId})}_onClosed(){for(const e of this._callbacks.values())e.reject(u(e.error,`Protocol error (${e.method}): Target closed.`));this._callbacks.clear(),this._connection=null,this.emit(t.CDPSessionEmittedEvents.Disconnected)}}function d(e,t,i){let n=`Protocol error (${t}): ${i.error.message}`;return"data"in i.error&&(n+=" "+i.error.data),u(e,n)}function u(e,t){return e.message=t,e}t.CDPSession=l},function(e,t){e.exports=require("assert")},function(e,t,i){"use strict";const n=i(17),r=i(25),o=i(10),s=i(13),a=i(0).PassThrough,c=i(164),l=i(14);e.exports=function(e,t){return function e(t,i){(i=i||{}).fetchRes=i.fetchRes||new a,i.cookies=i.cookies||new c,i.redirects=i.redirects||0,i.maxRedirects=isNaN(i.maxRedirects)?5:i.maxRedirects,i.cookie&&([].concat(i.cookie||[]).forEach(e=>{i.cookies.set(e,t)}),i.cookie=!1);let d,u,h,p=i.fetchRes,f=o.parse(t),A=(i.method||"").toString().trim().toUpperCase()||"GET",m=!1,g="https:"===f.protocol?r:n,y={"accept-encoding":"gzip,deflate","user-agent":"nodemailer/"+l.version};Object.keys(i.headers||{}).forEach(e=>{y[e.toLowerCase().trim()]=i.headers[e]}),i.userAgent&&(y["user-agent"]=i.userAgent);f.auth&&(y.Authorization="Basic "+Buffer.from(f.auth).toString("base64"));(d=i.cookies.get(t))&&(y.cookie=d);if(i.body){if(!1!==i.contentType&&(y["Content-Type"]=i.contentType||"application/x-www-form-urlencoded"),"function"==typeof i.body.pipe)y["Transfer-Encoding"]="chunked",u=i.body,u.on("error",e=>{m||(m=!0,e.type="FETCH",e.sourceUrl=t,p.emit("error",e))});else{if(i.body instanceof Buffer)u=i.body;else if("object"==typeof i.body)try{u=Buffer.from(Object.keys(i.body).map(e=>{let t=i.body[e].toString().trim();return encodeURIComponent(e)+"="+encodeURIComponent(t)}).join("&"))}catch(e){if(m)return;return m=!0,e.type="FETCH",e.sourceUrl=t,void p.emit("error",e)}else u=Buffer.from(i.body.toString().trim());y["Content-Type"]=i.contentType||"application/x-www-form-urlencoded",y["Content-Length"]=u.length}A=(i.method||"").toString().trim().toUpperCase()||"POST"}let _={method:A,host:f.hostname,path:f.path,port:f.port?f.port:"https:"===f.protocol?443:80,headers:y,rejectUnauthorized:!1,agent:!1};i.tls&&Object.keys(i.tls).forEach(e=>{_[e]=i.tls[e]});try{h=g.request(_)}catch(e){return m=!0,setImmediate(()=>{e.type="FETCH",e.sourceUrl=t,p.emit("error",e)}),p}i.timeout&&h.setTimeout(i.timeout,()=>{if(m)return;m=!0,h.abort();let e=new Error("Request Timeout");e.type="FETCH",e.sourceUrl=t,p.emit("error",e)});return h.on("error",e=>{m||(m=!0,e.type="FETCH",e.sourceUrl=t,p.emit("error",e))}),h.on("response",n=>{let r;if(!m){switch(n.headers["content-encoding"]){case"gzip":case"deflate":r=s.createUnzip()}if(n.headers["set-cookie"]&&[].concat(n.headers["set-cookie"]||[]).forEach(e=>{i.cookies.set(e,t)}),[301,302,303,307,308].includes(n.statusCode)&&n.headers.location){if(i.redirects++,i.redirects>i.maxRedirects){m=!0;let e=new Error("Maximum redirect count exceeded");return e.type="FETCH",e.sourceUrl=t,p.emit("error",e),void h.abort()}return i.method="GET",i.body=!1,e(o.resolve(t,n.headers.location),i)}if(p.statusCode=n.statusCode,p.headers=n.headers,n.statusCode>=300&&!i.allowErrorResponse){m=!0;let e=new Error("Invalid status code "+n.statusCode);return e.type="FETCH",e.sourceUrl=t,p.emit("error",e),void h.abort()}n.on("error",e=>{m||(m=!0,e.type="FETCH",e.sourceUrl=t,p.emit("error",e),h.abort())}),r?(n.pipe(r).pipe(p),r.on("error",e=>{m||(m=!0,e.type="FETCH",e.sourceUrl=t,p.emit("error",e),h.abort())})):n.pipe(p)}}),setImmediate(()=>{if(u)try{if("function"==typeof u.pipe)return u.pipe(h);h.write(u)}catch(e){return m=!0,e.type="FETCH",e.sourceUrl=t,void p.emit("error",e)}h.end()}),p}(e,t)},e.exports.Cookies=c},function(e,t,i){"use strict";const n=i(79),r=i(80),o=i(76);e.exports={isPlainText:(e,t)=>"string"==typeof e&&!(t?/[\x00-\x08\x0b\x0c\x0e-\x1f"\u0080-\uFFFF]/:/[\x00-\x08\x0b\x0c\x0e-\x1f\u0080-\uFFFF]/).test(e),hasLongerLines:(e,t)=>e.length>131072||new RegExp("^.{"+(t+1)+",}","m").test(e),encodeWord(e,t,i){let o;t=(t||"Q").toString().toUpperCase().trim().charAt(0);if((i=i||0)&&i>7+"UTF-8".length&&(i-=7+"UTF-8".length),"Q"===t?o=r.encode(e).replace(/[^a-z0-9!*+\-/=]/gi,e=>{let t=e.charCodeAt(0).toString(16).toUpperCase();return" "===e?"_":"="+(1===t.length?"0"+t:t)}):"B"===t&&(o="string"==typeof e?e:n.encode(e),i=i?Math.max(3,(i-i%4)/4*3):0),i&&("B"!==t?o:n.encode(e)).length>i)if("Q"===t)o=this.splitMimeEncodedString(o,i).join("?= =?UTF-8?"+t+"?");else{let e=[],r="";for(let t=0,s=o.length;t<s;t++){let s=o.charAt(t);Buffer.byteLength(r+s)<=i||0===t?r+=s:(e.push(n.encode(r)),r=s)}r&&e.push(n.encode(r)),o=e.length>1?e.join("?= =?UTF-8?"+t+"?"):e.join("")}else"B"===t&&(o=n.encode(e));return"=?UTF-8?"+t+"?"+o+("?="===o.substr(-2)?"":"?=")},encodeWords(e,t,i,n){let r;i=i||0;let o=e.match(/(?:^|\s)([^\s]*["\u0080-\uFFFF])/);if(!o)return e;if(n)return this.encodeWord(e,t,i);let s=e.match(/(["\u0080-\uFFFF][^\s]*)[^"\u0080-\uFFFF]*$/);if(!s)return e;let a=o.index+(o[0].match(/[^\s]/)||{index:0}).index,c=s.index+(s[1]||"").length;return r=(a?e.substr(0,a):"")+this.encodeWord(e.substring(a,c),t||"Q",i)+(c<e.length?e.substr(c):""),r},buildHeaderValue(e){let t=[];return Object.keys(e.params||{}).forEach(i=>{let n=e.params[i];!this.isPlainText(n,!0)||n.length>=75?this.buildHeaderParam(i,n,50).forEach(e=>{/[\s"\\;:/=(),<>@[\]?]|^[-']|'$/.test(e.value)&&"*"!==e.key.substr(-1)?t.push(e.key+"="+JSON.stringify(e.value)):t.push(e.key+"="+e.value)}):/[\s'"\\;:/=(),<>@[\]?]|^-/.test(n)?t.push(i+"="+JSON.stringify(n)):t.push(i+"="+n)}),e.value+(t.length?"; "+t.join("; "):"")},buildHeaderParam(e,t,i){let n,r,o,s,a,c,l=[],d="string"==typeof t?t:(t||"").toString(),u=0;if(i=i||50,this.isPlainText(t,!0)){if(d.length<=i)return[{key:e,value:d}];d=d.replace(new RegExp(".{"+i+"}","g"),e=>(l.push({line:e}),"")),d&&l.push({line:d})}else{if(/[\uD800-\uDBFF]/.test(d)){for(n=[],a=0,c=d.length;a<c;a++)r=d.charAt(a),o=r.charCodeAt(0),o>=55296&&o<=56319&&a<c-1?(r+=d.charAt(a+1),n.push(r),a++):n.push(r);d=n}s="utf-8''";let e=!0;for(u=0,a=0,c=d.length;a<c;a++){if(r=d[a],e)r=this.safeEncodeURIComponent(r);else if(r=" "===r?r:this.safeEncodeURIComponent(r),r!==d[a]){if(!((this.safeEncodeURIComponent(s)+r).length>=i)){e=!0,a=u,s="";continue}l.push({line:s,encoded:e}),s="",u=a-1}(s+r).length>=i?(l.push({line:s,encoded:e}),s=r=" "===d[a]?" ":this.safeEncodeURIComponent(d[a]),r===d[a]?(e=!1,u=a-1):e=!0):s+=r}s&&l.push({line:s,encoded:e})}return l.map((t,i)=>({key:e+"*"+i+(t.encoded?"*":""),value:t.line}))},parseHeaderValue(e){let t,i={value:!1,params:{}},n=!1,r="",o="value",s=!1,a=!1;for(let c=0,l=e.length;c<l;c++)if(t=e.charAt(c),"key"===o){if("="===t){n=r.trim().toLowerCase(),o="value",r="";continue}r+=t}else{if(a)r+=t;else{if("\\"===t){a=!0;continue}s&&t===s?s=!1:s||'"'!==t?s||";"!==t?r+=t:(!1===n?i.value=r.trim():i.params[n]=r.trim(),o="key",r=""):s=t}a=!1}return"value"===o?!1===n?i.value=r.trim():i.params[n]=r.trim():r.trim()&&(i.params[r.trim().toLowerCase()]=""),Object.keys(i.params).forEach(e=>{let t,n,r,o;(r=e.match(/(\*(\d+)|\*(\d+)\*|\*)$/))&&(t=e.substr(0,r.index),n=Number(r[2]||r[3])||0,i.params[t]&&"object"==typeof i.params[t]||(i.params[t]={charset:!1,values:[]}),o=i.params[e],0===n&&"*"===r[0].substr(-1)&&(r=o.match(/^([^']*)'[^']*'(.*)$/))&&(i.params[t].charset=r[1]||"iso-8859-1",o=r[2]),i.params[t].values[n]=o,delete i.params[e])}),Object.keys(i.params).forEach(e=>{let t;i.params[e]&&Array.isArray(i.params[e].values)&&(t=i.params[e].values.map(e=>e||"").join(""),i.params[e].charset?i.params[e]="=?"+i.params[e].charset+"?Q?"+t.replace(/[=?_\s]/g,e=>{let t=e.charCodeAt(0).toString(16);return" "===e?"_":"%"+(t.length<2?"0":"")+t}).replace(/%/g,"=")+"?=":i.params[e]=t)}),i},detectExtension:e=>o.detectExtension(e),detectMimeType:e=>o.detectMimeType(e),foldLines(e,t,i){t=t||76;let n,r,o=0,s=(e=(e||"").toString()).length,a="";for(;o<s;){if(n=e.substr(o,t),n.length<t){a+=n;break}(r=n.match(/^[^\n\r]*(\r?\n|\r)/))?(n=r[0],a+=n,o+=n.length):((r=n.match(/(\s+)[^\s]*$/))&&r[0].length-(i?(r[1]||"").length:0)<n.length?n=n.substr(0,n.length-(r[0].length-(i?(r[1]||"").length:0))):(r=e.substr(o+n.length).match(/^[^\s]+(\s*)/))&&(n+=r[0].substr(0,r[0].length-(i?0:(r[1]||"").length))),a+=n,o+=n.length,o<s&&(a+="\r\n"))}return a},splitMimeEncodedString:(e,t)=>{let i,n,r,o,s=[];for(t=Math.max(t||0,12);e.length;){for(i=e.substr(0,t),(n=i.match(/[=][0-9A-F]?$/i))&&(i=i.substr(0,n.index)),o=!1;!o;)o=!0,(n=e.substr(i.length).match(/^[=]([0-9A-F]{2})/i))&&(r=parseInt(n[1],16),r<194&&r>127&&(i=i.substr(0,i.length-3),o=!1));i.length&&s.push(i),e=e.substr(i.length)}return s},encodeURICharComponent:e=>{let t="",i=e.charCodeAt(0).toString(16).toUpperCase();if(i.length%2&&(i="0"+i),i.length>2)for(let e=0,n=i.length/2;e<n;e++)t+="%"+i.substr(e,2);else t+="%"+i;return t},safeEncodeURIComponent(e){e=(e||"").toString();try{e=encodeURIComponent(e)}catch(t){return e.replace(/[^\x00-\x1F *'()<>@,;:\\"[\]?=\u007F-\uFFFF]+/g,"")}return e.replace(/[\x00-\x1F *'()<>@,;:\\"[\]?=\u007F-\uFFFF]/g,e=>this.encodeURICharComponent(e))}}},function(e,t){e.exports=require("tls")},function(e,t,i){"use strict";var n=i(193).Buffer,r=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===r||!r(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=l,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=d,this.end=u,t=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,i=function(e,t,i){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==i?i:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var i=e.toString("utf16le",t);if(i){var n=i.charCodeAt(i.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,i)}return t}function d(e,t){var i=(e.length-t)%3;return 0===i?e.toString("base64",t):(this.lastNeed=3-i,this.lastTotal=3,1===i?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-i))}function u(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,i;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<e.length?t?t+this.text(e,i):this.text(e,i):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var i=function(e,t,i){var n=t.length-1;if(n<i)return 0;var r=s(t[n]);if(r>=0)return r>0&&(e.lastNeed=r-1),r;if(--n<i||-2===r)return 0;if((r=s(t[n]))>=0)return r>0&&(e.lastNeed=r-2),r;if(--n<i||-2===r)return 0;if((r=s(t[n]))>=0)return r>0&&(2===r?r=0:e.lastNeed=r-3),r;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=i;var n=e.length-(i-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,i){var n=i(0);"disable"===process.env.READABLE_STREAM&&n?(e.exports=n.Readable,Object.assign(e.exports,n),e.exports.Stream=n):((t=e.exports=i(92)).Stream=n||t,t.Readable=t,t.Writable=i(96),t.Duplex=i(28),t.Transform=i(97),t.PassThrough=i(202),t.finished=i(61),t.pipeline=i(203))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserContext=t.Browser=void 0;const n=i(4),r=i(8),o=i(216),s=i(30),a=i(39),c=new Map([["geolocation","geolocation"],["midi","midi"],["notifications","notifications"],["camera","videoCapture"],["microphone","audioCapture"],["background-sync","backgroundSync"],["ambient-light-sensor","sensors"],["accelerometer","sensors"],["gyroscope","sensors"],["magnetometer","sensors"],["accessibility-events","accessibilityEvents"],["clipboard-read","clipboardReadWrite"],["clipboard-write","clipboardReadWrite"],["payment-handler","paymentHandler"],["idle-detection","idleDetection"],["midi-sysex","midiSysex"]]);class l extends s.EventEmitter{constructor(e,t,i,n,r,o){super(),this._ignoreHTTPSErrors=i,this._defaultViewport=n,this._process=r,this._connection=e,this._closeCallback=o||function(){},this._defaultContext=new d(this._connection,this,null),this._contexts=new Map;for(const e of t)this._contexts.set(e,new d(this._connection,this,e));this._targets=new Map,this._connection.on(a.ConnectionEmittedEvents.Disconnected,()=>this.emit("disconnected")),this._connection.on("Target.targetCreated",this._targetCreated.bind(this)),this._connection.on("Target.targetDestroyed",this._targetDestroyed.bind(this)),this._connection.on("Target.targetInfoChanged",this._targetInfoChanged.bind(this))}static async create(e,t,i,n,r,o){const s=new l(e,t,i,n,r,o);return await e.send("Target.setDiscoverTargets",{discover:!0}),s}process(){return this._process}async createIncognitoBrowserContext(){const{browserContextId:e}=await this._connection.send("Target.createBrowserContext"),t=new d(this._connection,this,e);return this._contexts.set(e,t),t}browserContexts(){return[this._defaultContext,...Array.from(this._contexts.values())]}defaultBrowserContext(){return this._defaultContext}async _disposeContext(e){await this._connection.send("Target.disposeBrowserContext",{browserContextId:e||void 0}),this._contexts.delete(e)}async _targetCreated(e){const t=e.targetInfo,{browserContextId:i}=t,r=i&&this._contexts.has(i)?this._contexts.get(i):this._defaultContext,s=new o.Target(t,r,()=>this._connection.createSession(t),this._ignoreHTTPSErrors,this._defaultViewport);n.assert(!this._targets.has(e.targetInfo.targetId),"Target should not exist before targetCreated"),this._targets.set(e.targetInfo.targetId,s),await s._initializedPromise&&(this.emit("targetcreated",s),r.emit("targetcreated",s))}async _targetDestroyed(e){const t=this._targets.get(e.targetId);t._initializedCallback(!1),this._targets.delete(e.targetId),t._closedCallback(),await t._initializedPromise&&(this.emit("targetdestroyed",t),t.browserContext().emit("targetdestroyed",t))}_targetInfoChanged(e){const t=this._targets.get(e.targetInfo.targetId);n.assert(t,"target should exist before targetInfoChanged");const i=t.url(),r=t._isInitialized;t._targetInfoChanged(e.targetInfo),r&&i!==t.url()&&(this.emit("targetchanged",t),t.browserContext().emit("targetchanged",t))}wsEndpoint(){return this._connection.url()}async newPage(){return this._defaultContext.newPage()}async _createPageInContext(e){const{targetId:t}=await this._connection.send("Target.createTarget",{url:"about:blank",browserContextId:e||void 0}),i=await this._targets.get(t);n.assert(await i._initializedPromise,"Failed to create target for page");return await i.page()}targets(){return Array.from(this._targets.values()).filter(e=>e._isInitialized)}target(){return this.targets().find(e=>"browser"===e.type())}async waitForTarget(e,t={}){const{timeout:i=3e4}=t,n=this.targets().find(e);if(n)return n;let o;const s=new Promise(e=>o=e);this.on("targetcreated",a),this.on("targetchanged",a);try{return i?await r.helper.waitWithTimeout(s,"target",i):await s}finally{this.removeListener("targetcreated",a),this.removeListener("targetchanged",a)}function a(t){e(t)&&o(t)}}async pages(){return(await Promise.all(this.browserContexts().map(e=>e.pages()))).reduce((e,t)=>e.concat(t),[])}async version(){return(await this._getVersion()).product}async userAgent(){return(await this._getVersion()).userAgent}async close(){await this._closeCallback.call(null),this.disconnect()}disconnect(){this._connection.dispose()}isConnected(){return!this._connection._closed}_getVersion(){return this._connection.send("Browser.getVersion")}}t.Browser=l;class d extends s.EventEmitter{constructor(e,t,i){super(),this._connection=e,this._browser=t,this._id=i}targets(){return this._browser.targets().filter(e=>e.browserContext()===this)}waitForTarget(e,t={}){return this._browser.waitForTarget(t=>t.browserContext()===this&&e(t),t)}async pages(){return(await Promise.all(this.targets().filter(e=>"page"===e.type()).map(e=>e.page()))).filter(e=>!!e)}isIncognito(){return!!this._id}async overridePermissions(e,t){const i=t.map(e=>{const t=c.get(e);if(!t)throw new Error("Unknown permission: "+e);return t});await this._connection.send("Browser.grantPermissions",{origin:e,browserContextId:this._id||void 0,permissions:i})}async clearPermissionOverrides(){await this._connection.send("Browser.resetPermissions",{browserContextId:this._id||void 0})}newPage(){return this._browser._createPageInContext(this._id)}browser(){return this._browser}async close(){n.assert(this._id,"Non-incognito profiles cannot be closed!"),await this._browser._disposeContext(this._id)}}t.BrowserContext=d},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ElementHandle=t.JSHandle=t.createJSHandle=void 0;const s=i(4),a=i(8),c=i(64),l=i(18);function d(e,t){const i=e.frame();if("node"===t.subtype&&i){const n=i._frameManager;return new h(e,e._client,t,n.page(),n)}return new u(e,e._client,t)}t.createJSHandle=d;class u{constructor(e,t,i){this._disposed=!1,this._context=e,this._client=t,this._remoteObject=i}executionContext(){return this._context}async evaluate(e,...t){return await this.executionContext().evaluate(e,this,...t)}async evaluateHandle(e,...t){return await this.executionContext().evaluateHandle(e,this,...t)}async getProperty(e){const t=await this.evaluateHandle((e,t)=>{const i={__proto__:null};return i[t]=e[t],i},e),i=(await t.getProperties()).get(e)||null;return await t.dispose(),i}async getProperties(){const e=await this._client.send("Runtime.getProperties",{objectId:this._remoteObject.objectId,ownProperties:!0}),t=new Map;for(const i of e.result)i.enumerable&&t.set(i.name,d(this._context,i.value));return t}async jsonValue(){if(this._remoteObject.objectId){const e=await this._client.send("Runtime.callFunctionOn",{functionDeclaration:"function() { return this; }",objectId:this._remoteObject.objectId,returnByValue:!0,awaitPromise:!0});return a.helper.valueFromRemoteObject(e.result)}return a.helper.valueFromRemoteObject(this._remoteObject)}asElement(){return null}async dispose(){this._disposed||(this._disposed=!0,await a.helper.releaseObject(this._client,this._remoteObject))}toString(){if(this._remoteObject.objectId){return"JSHandle@"+(this._remoteObject.subtype||this._remoteObject.type)}return"JSHandle:"+a.helper.valueFromRemoteObject(this._remoteObject)}}t.JSHandle=u;class h extends u{constructor(e,t,i,n,r){super(e,t,i),this._client=t,this._remoteObject=i,this._page=n,this._frameManager=r}asElement(){return this}async contentFrame(){const e=await this._client.send("DOM.describeNode",{objectId:this._remoteObject.objectId});return"string"!=typeof e.node.frameId?null:this._frameManager.frame(e.node.frameId)}async _scrollIntoViewIfNeeded(){const e=await this.evaluate(async(e,t)=>{if(!e.isConnected)return"Node is detached from document";if(e.nodeType!==Node.ELEMENT_NODE)return"Node is not of type HTMLElement";if(!t)return e.scrollIntoView({block:"center",inline:"center",behavior:"instant"}),!1;return 1!==await new Promise(t=>{const i=new IntersectionObserver(e=>{t(e[0].intersectionRatio),i.disconnect()});i.observe(e)})&&e.scrollIntoView({block:"center",inline:"center",behavior:"instant"}),!1},this._page.isJavaScriptEnabled());if(e)throw new Error(e)}async _clickablePoint(){const[e,t]=await Promise.all([this._client.send("DOM.getContentQuads",{objectId:this._remoteObject.objectId}).catch(a.debugError),this._client.send("Page.getLayoutMetrics")]);if(!e||!e.quads.length)throw new Error("Node is either not visible or not an HTMLElement");const{clientWidth:i,clientHeight:n}=t.layoutViewport,r=e.quads.map(e=>this._fromProtocolQuad(e)).map(e=>this._intersectQuadWithViewport(e,i,n)).filter(e=>function(e){let t=0;for(let i=0;i<e.length;++i){const n=e[i],r=e[(i+1)%e.length];t+=(n.x*r.y-r.x*n.y)/2}return Math.abs(t)}(e)>1);if(!r.length)throw new Error("Node is either not visible or not an HTMLElement");const o=r[0];let s=0,c=0;for(const e of o)s+=e.x,c+=e.y;return{x:s/4,y:c/4}}_getBoxModel(){const e={objectId:this._remoteObject.objectId};return this._client.send("DOM.getBoxModel",e).catch(e=>a.debugError(e))}_fromProtocolQuad(e){return[{x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},{x:e[6],y:e[7]}]}_intersectQuadWithViewport(e,t,i){return e.map(e=>({x:Math.min(Math.max(e.x,0),t),y:Math.min(Math.max(e.y,0),i)}))}async hover(){await this._scrollIntoViewIfNeeded();const{x:e,y:t}=await this._clickablePoint();await this._page.mouse.move(e,t)}async click(e={}){await this._scrollIntoViewIfNeeded();const{x:t,y:i}=await this._clickablePoint();await this._page.mouse.click(t,i,e)}async select(...e){for(const t of e)s.assert(a.helper.isString(t),'Values must be strings. Found value "'+t+'" of type "'+typeof t+'"');return this.evaluate((e,t)=>{if("select"!==e.nodeName.toLowerCase())throw new Error("Element is not a <select> element.");const i=Array.from(e.options);e.value=void 0;for(const n of i)if(n.selected=t.includes(n.value),n.selected&&!e.multiple)break;return e.dispatchEvent(new Event("input",{bubbles:!0})),e.dispatchEvent(new Event("change",{bubbles:!0})),i.filter(e=>e.selected).map(e=>e.value)},e)}async uploadFile(...e){const t=await this.evaluate(e=>e.multiple);if(s.assert(e.length<=1||t,"Multiple file uploads only work with <input type=file multiple>"),!l.isNode)throw new Error("JSHandle#uploadFile can only be used in Node environments.");const n=await Promise.resolve().then(()=>o(i(3))),r=await a.helper.importFSModule(),c=await Promise.all(e.map(async e=>{const t=n.resolve(e);try{await r.promises.access(t,r.constants.R_OK)}catch(t){if("ENOENT"===t.code)throw new Error(e+" does not exist or is not readable")}return t})),{objectId:d}=this._remoteObject,{node:u}=await this._client.send("DOM.describeNode",{objectId:d}),{backendNodeId:h}=u;0===c.length?await this.evaluate(e=>{e.files=(new DataTransfer).files,e.dispatchEvent(new Event("input",{bubbles:!0})),e.dispatchEvent(new Event("change",{bubbles:!0}))}):await this._client.send("DOM.setFileInputFiles",{objectId:d,files:c,backendNodeId:h})}async tap(){await this._scrollIntoViewIfNeeded();const{x:e,y:t}=await this._clickablePoint();await this._page.touchscreen.tap(e,t)}async focus(){await this.evaluate(e=>e.focus())}async type(e,t){await this.focus(),await this._page.keyboard.type(e,t)}async press(e,t){await this.focus(),await this._page.keyboard.press(e,t)}async boundingBox(){const e=await this._getBoxModel();if(!e)return null;const t=e.model.border,i=Math.min(t[0],t[2],t[4],t[6]),n=Math.min(t[1],t[3],t[5],t[7]);return{x:i,y:n,width:Math.max(t[0],t[2],t[4],t[6])-i,height:Math.max(t[1],t[3],t[5],t[7])-n}}async boxModel(){const e=await this._getBoxModel();if(!e)return null;const{content:t,padding:i,border:n,margin:r,width:o,height:s}=e.model;return{content:this._fromProtocolQuad(t),padding:this._fromProtocolQuad(i),border:this._fromProtocolQuad(n),margin:this._fromProtocolQuad(r),width:o,height:s}}async screenshot(e={}){let t=!1,i=await this.boundingBox();s.assert(i,"Node is either not visible or not an HTMLElement");const n=this._page.viewport();if(n&&(i.width>n.width||i.height>n.height)){const e={width:Math.max(n.width,Math.ceil(i.width)),height:Math.max(n.height,Math.ceil(i.height))};await this._page.setViewport(Object.assign({},n,e)),t=!0}await this._scrollIntoViewIfNeeded(),i=await this.boundingBox(),s.assert(i,"Node is either not visible or not an HTMLElement"),s.assert(0!==i.width,"Node has 0 width."),s.assert(0!==i.height,"Node has 0 height.");const{layoutViewport:{pageX:r,pageY:o}}=await this._client.send("Page.getLayoutMetrics"),a=Object.assign({},i);a.x+=r,a.y+=o;const c=await this._page.screenshot(Object.assign({},{clip:a},e));return t&&await this._page.setViewport(n),c}async $(e){const{updatedSelector:t,queryHandler:i}=c.getQueryHandlerAndSelector(e);return i.queryOne(this,t)}async $$(e){const{updatedSelector:t,queryHandler:i}=c.getQueryHandlerAndSelector(e);return i.queryAll(this,t)}async $eval(e,t,...i){const n=await this.$(e);if(!n)throw new Error(`Error: failed to find element matching selector "${e}"`);const r=await n.evaluate(t,...i);return await n.dispose(),r}async $$eval(e,t,...i){const{updatedSelector:n,queryHandler:r}=c.getQueryHandlerAndSelector(e),o=await r.queryAllArray(this,n),s=await o.evaluate(t,...i);return await o.dispose(),s}async $x(e){const t=await this.evaluateHandle((e,t)=>{const i=(e.ownerDocument||e).evaluate(t,e,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE),n=[];let r;for(;r=i.iterateNext();)n.push(r);return n},e),i=await t.getProperties();await t.dispose();const n=[];for(const e of i.values()){const t=e.asElement();t&&n.push(t)}return n}async isIntersectingViewport(){return await this.evaluate(async e=>await new Promise(t=>{const i=new IntersectionObserver(e=>{t(e[0].intersectionRatio),i.disconnect()});i.observe(e)})>0)}}t.ElementHandle=h},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserContext=t.Browser=void 0;const n=i(5),r=i(9),o=i(234),s=i(31),a=i(42),c=new Map([["geolocation","geolocation"],["midi","midi"],["notifications","notifications"],["camera","videoCapture"],["microphone","audioCapture"],["background-sync","backgroundSync"],["ambient-light-sensor","sensors"],["accelerometer","sensors"],["gyroscope","sensors"],["magnetometer","sensors"],["accessibility-events","accessibilityEvents"],["clipboard-read","clipboardReadWrite"],["clipboard-write","clipboardReadWrite"],["payment-handler","paymentHandler"],["idle-detection","idleDetection"],["midi-sysex","midiSysex"]]);class l extends s.EventEmitter{constructor(e,t,i,n,r,o){super(),this._ignoreHTTPSErrors=i,this._defaultViewport=n,this._process=r,this._connection=e,this._closeCallback=o||function(){},this._defaultContext=new d(this._connection,this,null),this._contexts=new Map;for(const e of t)this._contexts.set(e,new d(this._connection,this,e));this._targets=new Map,this._connection.on(a.ConnectionEmittedEvents.Disconnected,()=>this.emit("disconnected")),this._connection.on("Target.targetCreated",this._targetCreated.bind(this)),this._connection.on("Target.targetDestroyed",this._targetDestroyed.bind(this)),this._connection.on("Target.targetInfoChanged",this._targetInfoChanged.bind(this))}static async create(e,t,i,n,r,o){const s=new l(e,t,i,n,r,o);return await e.send("Target.setDiscoverTargets",{discover:!0}),s}process(){return this._process}async createIncognitoBrowserContext(){const{browserContextId:e}=await this._connection.send("Target.createBrowserContext"),t=new d(this._connection,this,e);return this._contexts.set(e,t),t}browserContexts(){return[this._defaultContext,...Array.from(this._contexts.values())]}defaultBrowserContext(){return this._defaultContext}async _disposeContext(e){await this._connection.send("Target.disposeBrowserContext",{browserContextId:e||void 0}),this._contexts.delete(e)}async _targetCreated(e){const t=e.targetInfo,{browserContextId:i}=t,r=i&&this._contexts.has(i)?this._contexts.get(i):this._defaultContext,s=new o.Target(t,r,()=>this._connection.createSession(t),this._ignoreHTTPSErrors,this._defaultViewport);n.assert(!this._targets.has(e.targetInfo.targetId),"Target should not exist before targetCreated"),this._targets.set(e.targetInfo.targetId,s),await s._initializedPromise&&(this.emit("targetcreated",s),r.emit("targetcreated",s))}async _targetDestroyed(e){const t=this._targets.get(e.targetId);t._initializedCallback(!1),this._targets.delete(e.targetId),t._closedCallback(),await t._initializedPromise&&(this.emit("targetdestroyed",t),t.browserContext().emit("targetdestroyed",t))}_targetInfoChanged(e){const t=this._targets.get(e.targetInfo.targetId);n.assert(t,"target should exist before targetInfoChanged");const i=t.url(),r=t._isInitialized;t._targetInfoChanged(e.targetInfo),r&&i!==t.url()&&(this.emit("targetchanged",t),t.browserContext().emit("targetchanged",t))}wsEndpoint(){return this._connection.url()}async newPage(){return this._defaultContext.newPage()}async _createPageInContext(e){const{targetId:t}=await this._connection.send("Target.createTarget",{url:"about:blank",browserContextId:e||void 0}),i=await this._targets.get(t);n.assert(await i._initializedPromise,"Failed to create target for page");return await i.page()}targets(){return Array.from(this._targets.values()).filter(e=>e._isInitialized)}target(){return this.targets().find(e=>"browser"===e.type())}async waitForTarget(e,t={}){const{timeout:i=3e4}=t,n=this.targets().find(e);if(n)return n;let o;const s=new Promise(e=>o=e);this.on("targetcreated",a),this.on("targetchanged",a);try{return i?await r.helper.waitWithTimeout(s,"target",i):await s}finally{this.removeListener("targetcreated",a),this.removeListener("targetchanged",a)}function a(t){e(t)&&o(t)}}async pages(){return(await Promise.all(this.browserContexts().map(e=>e.pages()))).reduce((e,t)=>e.concat(t),[])}async version(){return(await this._getVersion()).product}async userAgent(){return(await this._getVersion()).userAgent}async close(){await this._closeCallback.call(null),this.disconnect()}disconnect(){this._connection.dispose()}isConnected(){return!this._connection._closed}_getVersion(){return this._connection.send("Browser.getVersion")}}t.Browser=l;class d extends s.EventEmitter{constructor(e,t,i){super(),this._connection=e,this._browser=t,this._id=i}targets(){return this._browser.targets().filter(e=>e.browserContext()===this)}waitForTarget(e,t={}){return this._browser.waitForTarget(t=>t.browserContext()===this&&e(t),t)}async pages(){return(await Promise.all(this.targets().filter(e=>"page"===e.type()).map(e=>e.page()))).filter(e=>!!e)}isIncognito(){return!!this._id}async overridePermissions(e,t){const i=t.map(e=>{const t=c.get(e);if(!t)throw new Error("Unknown permission: "+e);return t});await this._connection.send("Browser.grantPermissions",{origin:e,browserContextId:this._id||void 0,permissions:i})}async clearPermissionOverrides(){await this._connection.send("Browser.resetPermissions",{browserContextId:this._id||void 0})}newPage(){return this._browser._createPageInContext(this._id)}browser(){return this._browser}async close(){n.assert(this._id,"Non-incognito profiles cannot be closed!"),await this._browser._disposeContext(this._id)}}t.BrowserContext=d},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ElementHandle=t.JSHandle=t.createJSHandle=void 0;const s=i(5),a=i(9),c=i(68),l=i(19);function d(e,t){const i=e.frame();if("node"===t.subtype&&i){const n=i._frameManager;return new h(e,e._client,t,n.page(),n)}return new u(e,e._client,t)}t.createJSHandle=d;class u{constructor(e,t,i){this._disposed=!1,this._context=e,this._client=t,this._remoteObject=i}executionContext(){return this._context}async evaluate(e,...t){return await this.executionContext().evaluate(e,this,...t)}async evaluateHandle(e,...t){return await this.executionContext().evaluateHandle(e,this,...t)}async getProperty(e){const t=await this.evaluateHandle((e,t)=>{const i={__proto__:null};return i[t]=e[t],i},e),i=(await t.getProperties()).get(e)||null;return await t.dispose(),i}async getProperties(){const e=await this._client.send("Runtime.getProperties",{objectId:this._remoteObject.objectId,ownProperties:!0}),t=new Map;for(const i of e.result)i.enumerable&&t.set(i.name,d(this._context,i.value));return t}async jsonValue(){if(this._remoteObject.objectId){const e=await this._client.send("Runtime.callFunctionOn",{functionDeclaration:"function() { return this; }",objectId:this._remoteObject.objectId,returnByValue:!0,awaitPromise:!0});return a.helper.valueFromRemoteObject(e.result)}return a.helper.valueFromRemoteObject(this._remoteObject)}asElement(){return null}async dispose(){this._disposed||(this._disposed=!0,await a.helper.releaseObject(this._client,this._remoteObject))}toString(){if(this._remoteObject.objectId){return"JSHandle@"+(this._remoteObject.subtype||this._remoteObject.type)}return"JSHandle:"+a.helper.valueFromRemoteObject(this._remoteObject)}}t.JSHandle=u;class h extends u{constructor(e,t,i,n,r){super(e,t,i),this._client=t,this._remoteObject=i,this._page=n,this._frameManager=r}asElement(){return this}async contentFrame(){const e=await this._client.send("DOM.describeNode",{objectId:this._remoteObject.objectId});return"string"!=typeof e.node.frameId?null:this._frameManager.frame(e.node.frameId)}async _scrollIntoViewIfNeeded(){const e=await this.evaluate(async(e,t)=>{if(!e.isConnected)return"Node is detached from document";if(e.nodeType!==Node.ELEMENT_NODE)return"Node is not of type HTMLElement";if(!t)return e.scrollIntoView({block:"center",inline:"center",behavior:"instant"}),!1;return 1!==await new Promise(t=>{const i=new IntersectionObserver(e=>{t(e[0].intersectionRatio),i.disconnect()});i.observe(e)})&&e.scrollIntoView({block:"center",inline:"center",behavior:"instant"}),!1},this._page.isJavaScriptEnabled());if(e)throw new Error(e)}async _clickablePoint(){const[e,t]=await Promise.all([this._client.send("DOM.getContentQuads",{objectId:this._remoteObject.objectId}).catch(a.debugError),this._client.send("Page.getLayoutMetrics")]);if(!e||!e.quads.length)throw new Error("Node is either not visible or not an HTMLElement");const{clientWidth:i,clientHeight:n}=t.layoutViewport,r=e.quads.map(e=>this._fromProtocolQuad(e)).map(e=>this._intersectQuadWithViewport(e,i,n)).filter(e=>function(e){let t=0;for(let i=0;i<e.length;++i){const n=e[i],r=e[(i+1)%e.length];t+=(n.x*r.y-r.x*n.y)/2}return Math.abs(t)}(e)>1);if(!r.length)throw new Error("Node is either not visible or not an HTMLElement");const o=r[0];let s=0,c=0;for(const e of o)s+=e.x,c+=e.y;return{x:s/4,y:c/4}}_getBoxModel(){const e={objectId:this._remoteObject.objectId};return this._client.send("DOM.getBoxModel",e).catch(e=>a.debugError(e))}_fromProtocolQuad(e){return[{x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},{x:e[6],y:e[7]}]}_intersectQuadWithViewport(e,t,i){return e.map(e=>({x:Math.min(Math.max(e.x,0),t),y:Math.min(Math.max(e.y,0),i)}))}async hover(){await this._scrollIntoViewIfNeeded();const{x:e,y:t}=await this._clickablePoint();await this._page.mouse.move(e,t)}async click(e={}){await this._scrollIntoViewIfNeeded();const{x:t,y:i}=await this._clickablePoint();await this._page.mouse.click(t,i,e)}async select(...e){for(const t of e)s.assert(a.helper.isString(t),'Values must be strings. Found value "'+t+'" of type "'+typeof t+'"');return this.evaluate((e,t)=>{if("select"!==e.nodeName.toLowerCase())throw new Error("Element is not a <select> element.");const i=Array.from(e.options);e.value=void 0;for(const n of i)if(n.selected=t.includes(n.value),n.selected&&!e.multiple)break;return e.dispatchEvent(new Event("input",{bubbles:!0})),e.dispatchEvent(new Event("change",{bubbles:!0})),i.filter(e=>e.selected).map(e=>e.value)},e)}async uploadFile(...e){const t=await this.evaluate(e=>e.multiple);if(s.assert(e.length<=1||t,"Multiple file uploads only work with <input type=file multiple>"),!l.isNode)throw new Error("JSHandle#uploadFile can only be used in Node environments.");const n=await Promise.resolve().then(()=>o(i(3))),r=await a.helper.importFSModule(),c=await Promise.all(e.map(async e=>{const t=n.resolve(e);try{await r.promises.access(t,r.constants.R_OK)}catch(t){if("ENOENT"===t.code)throw new Error(e+" does not exist or is not readable")}return t})),{objectId:d}=this._remoteObject,{node:u}=await this._client.send("DOM.describeNode",{objectId:d}),{backendNodeId:h}=u;0===c.length?await this.evaluate(e=>{e.files=(new DataTransfer).files,e.dispatchEvent(new Event("input",{bubbles:!0})),e.dispatchEvent(new Event("change",{bubbles:!0}))}):await this._client.send("DOM.setFileInputFiles",{objectId:d,files:c,backendNodeId:h})}async tap(){await this._scrollIntoViewIfNeeded();const{x:e,y:t}=await this._clickablePoint();await this._page.touchscreen.tap(e,t)}async focus(){await this.evaluate(e=>e.focus())}async type(e,t){await this.focus(),await this._page.keyboard.type(e,t)}async press(e,t){await this.focus(),await this._page.keyboard.press(e,t)}async boundingBox(){const e=await this._getBoxModel();if(!e)return null;const t=e.model.border,i=Math.min(t[0],t[2],t[4],t[6]),n=Math.min(t[1],t[3],t[5],t[7]);return{x:i,y:n,width:Math.max(t[0],t[2],t[4],t[6])-i,height:Math.max(t[1],t[3],t[5],t[7])-n}}async boxModel(){const e=await this._getBoxModel();if(!e)return null;const{content:t,padding:i,border:n,margin:r,width:o,height:s}=e.model;return{content:this._fromProtocolQuad(t),padding:this._fromProtocolQuad(i),border:this._fromProtocolQuad(n),margin:this._fromProtocolQuad(r),width:o,height:s}}async screenshot(e={}){let t=!1,i=await this.boundingBox();s.assert(i,"Node is either not visible or not an HTMLElement");const n=this._page.viewport();if(n&&(i.width>n.width||i.height>n.height)){const e={width:Math.max(n.width,Math.ceil(i.width)),height:Math.max(n.height,Math.ceil(i.height))};await this._page.setViewport(Object.assign({},n,e)),t=!0}await this._scrollIntoViewIfNeeded(),i=await this.boundingBox(),s.assert(i,"Node is either not visible or not an HTMLElement"),s.assert(0!==i.width,"Node has 0 width."),s.assert(0!==i.height,"Node has 0 height.");const{layoutViewport:{pageX:r,pageY:o}}=await this._client.send("Page.getLayoutMetrics"),a=Object.assign({},i);a.x+=r,a.y+=o;const c=await this._page.screenshot(Object.assign({},{clip:a},e));return t&&await this._page.setViewport(n),c}async $(e){const{updatedSelector:t,queryHandler:i}=c.getQueryHandlerAndSelector(e);return i.queryOne(this,t)}async $$(e){const{updatedSelector:t,queryHandler:i}=c.getQueryHandlerAndSelector(e);return i.queryAll(this,t)}async $eval(e,t,...i){const n=await this.$(e);if(!n)throw new Error(`Error: failed to find element matching selector "${e}"`);const r=await n.evaluate(t,...i);return await n.dispose(),r}async $$eval(e,t,...i){const{updatedSelector:n,queryHandler:r}=c.getQueryHandlerAndSelector(e),o=await r.queryAllArray(this,n),s=await o.evaluate(t,...i);return await o.dispose(),s}async $x(e){const t=await this.evaluateHandle((e,t)=>{const i=(e.ownerDocument||e).evaluate(t,e,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE),n=[];let r;for(;r=i.iterateNext();)n.push(r);return n},e),i=await t.getProperties();await t.dispose();const n=[];for(const e of i.values()){const t=e.asElement();t&&n.push(t)}return n}async isIntersectingViewport(){return await this.evaluate(async e=>await new Promise(t=>{const i=new IntersectionObserver(e=>{t(e[0].intersectionRatio),i.disconnect()});i.observe(e)})>0)}}t.ElementHandle=h},function(e,t,i){"use strict";const n=i(13),r=i(54),o=i(265),{kStatusCode:s,NOOP:a}=i(32),c=Buffer.from([0,0,255,255]),l=Symbol("permessage-deflate"),d=Symbol("total-length"),u=Symbol("callback"),h=Symbol("buffers"),p=Symbol("error");let f;function A(e){this[h].push(e),this[d]+=e.length}function m(e){this[d]+=e.length,this[l]._maxPayload<1||this[d]<=this[l]._maxPayload?this[h].push(e):(this[p]=new RangeError("Max payload size exceeded"),this[p][s]=1009,this.removeListener("data",m),this.reset())}function g(e){this[l]._inflate=null,e[s]=1007,this[u](e)}e.exports=class{constructor(e,t,i){if(this._maxPayload=0|i,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!f){const e=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;f=new o(e)}}static get extensionName(){return"permessage-deflate"}offer(){const e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){const e=this._deflate[u];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){const t=this._options,i=e.find(e=>!(!1===t.serverNoContextTakeover&&e.server_no_context_takeover||e.server_max_window_bits&&(!1===t.serverMaxWindowBits||"number"==typeof t.serverMaxWindowBits&&t.serverMaxWindowBits>e.server_max_window_bits)||"number"==typeof t.clientMaxWindowBits&&!e.client_max_window_bits));if(!i)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(i.server_no_context_takeover=!0),t.clientNoContextTakeover&&(i.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(i.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?i.client_max_window_bits=t.clientMaxWindowBits:!0!==i.client_max_window_bits&&!1!==t.clientMaxWindowBits||delete i.client_max_window_bits,i}acceptAsClient(e){const t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{let i=e[t];if(i.length>1)throw new Error(`Parameter "${t}" must have only a single value`);if(i=i[0],"client_max_window_bits"===t){if(!0!==i){const e=+i;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${i}`);i=e}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${t}": ${i}`)}else if("server_max_window_bits"===t){const e=+i;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${i}`);i=e}else{if("client_no_context_takeover"!==t&&"server_no_context_takeover"!==t)throw new Error(`Unknown parameter "${t}"`);if(!0!==i)throw new TypeError(`Invalid value for parameter "${t}": ${i}`)}e[t]=i})}),e}decompress(e,t,i){f.add(n=>{this._decompress(e,t,(e,t)=>{n(),i(e,t)})})}compress(e,t,i){f.add(n=>{this._compress(e,t,(e,t)=>{n(),i(e,t)})})}_decompress(e,t,i){const o=this._isServer?"client":"server";if(!this._inflate){const e=o+"_max_window_bits",t="number"!=typeof this.params[e]?n.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=n.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[l]=this,this._inflate[d]=0,this._inflate[h]=[],this._inflate.on("error",g),this._inflate.on("data",m)}this._inflate[u]=i,this._inflate.write(e),t&&this._inflate.write(c),this._inflate.flush(()=>{const e=this._inflate[p];if(e)return this._inflate.close(),this._inflate=null,void i(e);const n=r.concat(this._inflate[h],this._inflate[d]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[d]=0,this._inflate[h]=[],t&&this.params[o+"_no_context_takeover"]&&this._inflate.reset()),i(null,n)})}_compress(e,t,i){const o=this._isServer?"server":"client";if(!this._deflate){const e=o+"_max_window_bits",t="number"!=typeof this.params[e]?n.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=n.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[d]=0,this._deflate[h]=[],this._deflate.on("error",a),this._deflate.on("data",A)}this._deflate[u]=i,this._deflate.write(e),this._deflate.flush(n.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let e=r.concat(this._deflate[h],this._deflate[d]);t&&(e=e.slice(0,e.length-4)),this._deflate[u]=null,this._deflate[d]=0,this._deflate[h]=[],t&&this.params[o+"_no_context_takeover"]&&this._deflate.reset(),i(null,e)})}}},function(e,t,i){"use strict";const{EMPTY_BUFFER:n}=i(32);function r(e,t){if(0===e.length)return n;if(1===e.length)return e[0];const i=Buffer.allocUnsafe(t);let r=0;for(let t=0;t<e.length;t++){const n=e[t];i.set(n,r),r+=n.length}return r<t?i.slice(0,r):i}function o(e,t,i,n,r){for(let o=0;o<r;o++)i[n+o]=e[o]^t[3&o]}function s(e,t){const i=e.length;for(let n=0;n<i;n++)e[n]^=t[3&n]}function a(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}function c(e){if(c.readOnly=!0,Buffer.isBuffer(e))return e;let t;return e instanceof ArrayBuffer?t=Buffer.from(e):ArrayBuffer.isView(e)?t=Buffer.from(e.buffer,e.byteOffset,e.byteLength):(t=Buffer.from(e),c.readOnly=!1),t}try{const t=i(!function(){var e=new Error("Cannot find module 'bufferutil'");throw e.code="MODULE_NOT_FOUND",e}()),n=t.BufferUtil||t;e.exports={concat:r,mask(e,t,i,r,s){s<48?o(e,t,i,r,s):n.mask(e,t,i,r,s)},toArrayBuffer:a,toBuffer:c,unmask(e,t){e.length<32?s(e,t):n.unmask(e,t)}}}catch(t){e.exports={concat:r,mask:o,toArrayBuffer:a,toBuffer:c,unmask:s}}},function(e,t,i){var n=i(130);function r(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},i=e.name||"Function wrapped with `once`";return t.onceError=i+" shouldn't be called more than once",t.called=!1,t}e.exports=n(r),e.exports.strict=n(o),r.proto=r((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return r(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},function(e,t,i){"use strict";var n=i(295).Buffer,r=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===r||!r(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=l,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=d,this.end=u,t=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,i=function(e,t,i){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==i?i:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var i=e.toString("utf16le",t);if(i){var n=i.charCodeAt(i.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,i)}return t}function d(e,t){var i=(e.length-t)%3;return 0===i?e.toString("base64",t):(this.lastNeed=3-i,this.lastTotal=3,1===i?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-i))}function u(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,i;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<e.length?t?t+this.text(e,i):this.text(e,i):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var i=function(e,t,i){var n=t.length-1;if(n<i)return 0;var r=s(t[n]);if(r>=0)return r>0&&(e.lastNeed=r-1),r;if(--n<i||-2===r)return 0;if((r=s(t[n]))>=0)return r>0&&(e.lastNeed=r-2),r;if(--n<i||-2===r)return 0;if((r=s(t[n]))>=0)return r>0&&(2===r?r=0:e.lastNeed=r-3),r;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=i;var n=e.length-(i-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,i){var n=i(0);"disable"===process.env.READABLE_STREAM&&n?(e.exports=n.Readable,Object.assign(e.exports,n),e.exports.Stream=n):((t=e.exports=i(146)).Stream=n||t,t.Readable=t,t.Writable=i(150),t.Duplex=i(35),t.Transform=i(151),t.PassThrough=i(304),t.finished=i(74),t.pipeline=i(305))},function(e,t,i){"use strict";const n=i(14),r=i(7).EventEmitter,o=i(26),s=i(46),a=i(16),c=i(15),l=i(176),d=i(0).PassThrough,u=i(11);e.exports=class extends r{constructor(e){super(e),this.id=c.randomBytes(8).toString("base64").replace(/\W/g,""),this.stage="init",this.options=e||{},this.secureConnection=!!this.options.secure,this.alreadySecured=!!this.options.secured,this.port=Number(this.options.port)||(this.secureConnection?465:587),this.host=this.options.host||"localhost",void 0===this.options.secure&&465===this.port&&(this.secureConnection=!0),this.name=this.options.name||this._getHostname(),this.logger=u.getLogger(this.options,{component:this.options.component||"smtp-connection",sid:this.id}),this.customAuth=new Map,Object.keys(this.options.customAuth||{}).forEach(e=>{let t=(e||"").toString().trim().toUpperCase();t&&this.customAuth.set(t,this.options.customAuth[e])}),this.version=n.version,this.authenticated=!1,this.destroyed=!1,this.secure=!!this.secureConnection,this._remainder="",this._responseQueue=[],this.lastServerResponse=!1,this._socket=!1,this._supportedAuth=[],this.allowsAuth=!1,this._envelope=!1,this._supportedExtensions=[],this._maxAllowedSize=0,this._responseActions=[],this._recipientQueue=[],this._greetingTimeout=!1,this._connectionTimeout=!1,this._destroyed=!1,this._closing=!1,this._onSocketData=e=>this._onData(e),this._onSocketError=e=>this._onError(e,"ESOCKET",!1,"CONN"),this._onSocketClose=()=>this._onClose(),this._onSocketEnd=()=>this._onEnd(),this._onSocketTimeout=()=>this._onTimeout()}connect(e){if("function"==typeof e){this.once("connect",()=>{this.logger.debug({tnx:"smtp"},"SMTP handshake finished"),e()});const t=this._isDestroyedMessage("connect");if(t)return e(this._formatError(t,"ECONNECTION",!1,"CONN"))}let t={port:this.port,host:this.host};this.options.localAddress&&(t.localAddress=this.options.localAddress);let i=()=>{this._connectionTimeout=setTimeout(()=>{this._onError("Connection timeout","ETIMEDOUT",!1,"CONN")},this.options.connectionTimeout||12e4),this._socket.on("error",this._onSocketError)};return this.options.connection?(this._socket=this.options.connection,void(this.secureConnection&&!this.alreadySecured?setImmediate(()=>this._upgradeConnection(e=>{e?this._onError(new Error("Error initiating TLS - "+(e.message||e)),"ETLS",!1,"CONN"):this._onConnect()})):setImmediate(()=>this._onConnect()))):this.options.socket?(this._socket=this.options.socket,u.resolveHostname(t,(e,n)=>{if(e)return setImmediate(()=>this._onError(e,"EDNS",!1,"CONN"));this.logger.debug({tnx:"dns",source:t.host,resolved:n.host,cached:!!n._cached},"Resolved %s as %s [cache %s]",t.host,n.host,n._cached?"hit":"miss"),Object.keys(n).forEach(e=>{"_"!==e.charAt(0)&&n[e]&&(t[e]=n[e])});try{this._socket.connect(this.port,this.host,()=>{this._socket.setKeepAlive(!0),this._onConnect()}),i()}catch(e){return setImmediate(()=>this._onError(e,"ECONNECTION",!1,"CONN"))}})):this.secureConnection?(this.options.tls&&Object.keys(this.options.tls).forEach(e=>{t[e]=this.options.tls[e]}),u.resolveHostname(t,(e,n)=>{if(e)return setImmediate(()=>this._onError(e,"EDNS",!1,"CONN"));this.logger.debug({tnx:"dns",source:t.host,resolved:n.host,cached:!!n._cached},"Resolved %s as %s [cache %s]",t.host,n.host,n._cached?"hit":"miss"),Object.keys(n).forEach(e=>{"_"!==e.charAt(0)&&n[e]&&(t[e]=n[e])});try{this._socket=s.connect(t,()=>{this._socket.setKeepAlive(!0),this._onConnect()}),i()}catch(e){return setImmediate(()=>this._onError(e,"ECONNECTION",!1,"CONN"))}})):u.resolveHostname(t,(e,n)=>{if(e)return setImmediate(()=>this._onError(e,"EDNS",!1,"CONN"));this.logger.debug({tnx:"dns",source:t.host,resolved:n.host,cached:!!n._cached},"Resolved %s as %s [cache %s]",t.host,n.host,n._cached?"hit":"miss"),Object.keys(n).forEach(e=>{"_"!==e.charAt(0)&&n[e]&&(t[e]=n[e])});try{this._socket=o.connect(t,()=>{this._socket.setKeepAlive(!0),this._onConnect()}),i()}catch(e){return setImmediate(()=>this._onError(e,"ECONNECTION",!1,"CONN"))}})}quit(){this._sendCommand("QUIT"),this._responseActions.push(this.close)}close(){if(clearTimeout(this._connectionTimeout),clearTimeout(this._greetingTimeout),this._responseActions=[],this._closing)return;this._closing=!0;let e="end";"init"===this.stage&&(e="destroy"),this.logger.debug({tnx:"smtp"},'Closing connection to the server using "%s"',e);let t=this._socket&&this._socket.socket||this._socket;if(t&&!t.destroyed)try{this._socket[e]()}catch(e){}this._destroy()}login(e,t){const i=this._isDestroyedMessage("login");if(i)return t(this._formatError(i,"ECONNECTION",!1,"API"));if(this._auth=e||{},this._authMethod=(this._auth.method||"").toString().trim().toUpperCase()||!1,this._authMethod||!this._auth.oauth2||this._auth.credentials?this._authMethod&&("XOAUTH2"!==this._authMethod||this._auth.oauth2)||(this._authMethod=(this._supportedAuth[0]||"PLAIN").toUpperCase().trim()):this._authMethod="XOAUTH2",!("XOAUTH2"===this._authMethod||this._auth.credentials&&this._auth.credentials.user&&this._auth.credentials.pass)){if(!this._auth.user||!this._auth.pass)return t(this._formatError('Missing credentials for "'+this._authMethod+'"',"EAUTH",!1,"API"));this._auth.credentials={user:this._auth.user,pass:this._auth.pass,options:this._auth.options}}if(!this.customAuth.has(this._authMethod)){switch(this._authMethod){case"XOAUTH2":return void this._handleXOauth2Token(!1,t);case"LOGIN":return this._responseActions.push(e=>{this._actionAUTH_LOGIN_USER(e,t)}),void this._sendCommand("AUTH LOGIN");case"PLAIN":return this._responseActions.push(e=>{this._actionAUTHComplete(e,t)}),void this._sendCommand("AUTH PLAIN "+Buffer.from("\0"+this._auth.credentials.user+"\0"+this._auth.credentials.pass,"utf-8").toString("base64"));case"CRAM-MD5":return this._responseActions.push(e=>{this._actionAUTH_CRAM_MD5(e,t)}),void this._sendCommand("AUTH CRAM-MD5")}return t(this._formatError('Unknown authentication method "'+this._authMethod+'"',"EAUTH",!1,"API"))}{let e,i=this.customAuth.get(this._authMethod),n=!1,r=()=>{n||(n=!0,this.logger.info({tnx:"smtp",username:this._auth.user,action:"authenticated",method:this._authMethod},"User %s authenticated",JSON.stringify(this._auth.user)),this.authenticated=!0,t(null,!0))},o=i=>{n||(n=!0,t(this._formatError(i,"EAUTH",e,"AUTH "+this._authMethod)))},s=i({auth:this._auth,method:this._authMethod,extensions:[].concat(this._supportedExtensions),authMethods:[].concat(this._supportedAuth),maxAllowedSize:this._maxAllowedSize||!1,sendCommand:(t,i)=>{let n;return i||(n=new Promise((e,t)=>{i=u.callbackPromise(e,t)})),this._responseActions.push(n=>{e=n;let r=n.match(/^(\d+)(?:\s(\d+\.\d+\.\d+))?\s/),o={command:t,response:n};r?(o.status=Number(r[1])||0,r[2]&&(o.code=r[2]),o.text=n.substr(r[0].length)):(o.text=n,o.status=0),i(null,o)}),setImmediate(()=>this._sendCommand(t)),n},resolve:r,reject:o});s&&"function"==typeof s.catch&&s.then(r).catch(o)}}send(e,t,i){if(!t)return i(this._formatError("Empty message","EMESSAGE",!1,"API"));const n=this._isDestroyedMessage("send message");if(n)return i(this._formatError(n,"ECONNECTION",!1,"API"));if(this._maxAllowedSize&&e.size>this._maxAllowedSize)return setImmediate(()=>{i(this._formatError("Message size larger than allowed "+this._maxAllowedSize,"EMESSAGE",!1,"MAIL FROM"))});let r=!1,o=function(){r||(r=!0,i(...arguments))};"function"==typeof t.on&&t.on("error",e=>o(this._formatError(e,"ESTREAM",!1,"API")));let s=Date.now();this._setEnvelope(e,(e,i)=>{if(e)return o(e);let n=Date.now(),r=this._createSendStream((e,t)=>e?o(e):(i.envelopeTime=n-s,i.messageTime=Date.now()-n,i.messageSize=r.outByteCount,i.response=t,o(null,i)));"function"==typeof t.pipe?t.pipe(r):(r.write(t),r.end())})}reset(e){this._sendCommand("RSET"),this._responseActions.push(t=>"2"!==t.charAt(0)?e(this._formatError("Could not reset session state. response="+t,"EPROTOCOL",t,"RSET")):(this._envelope=!1,e(null,!0)))}_onConnect(){clearTimeout(this._connectionTimeout),this.logger.info({tnx:"network",localAddress:this._socket.localAddress,localPort:this._socket.localPort,remoteAddress:this._socket.remoteAddress,remotePort:this._socket.remotePort},"%s established to %s:%s",this.secure?"Secure connection":"Connection",this._socket.remoteAddress,this._socket.remotePort),this._destroyed?this.close():(this.stage="connected",this._socket.removeListener("data",this._onSocketData),this._socket.removeListener("timeout",this._onSocketTimeout),this._socket.removeListener("close",this._onSocketClose),this._socket.removeListener("end",this._onSocketEnd),this._socket.on("data",this._onSocketData),this._socket.once("close",this._onSocketClose),this._socket.once("end",this._onSocketEnd),this._socket.setTimeout(this.options.socketTimeout||6e5),this._socket.on("timeout",this._onSocketTimeout),this._greetingTimeout=setTimeout(()=>{this._socket&&!this._destroyed&&this._responseActions[0]===this._actionGreeting&&this._onError("Greeting never received","ETIMEDOUT",!1,"CONN")},this.options.greetingTimeout||3e4),this._responseActions.push(this._actionGreeting),this._socket.resume())}_onData(e){if(this._destroyed||!e||!e.length)return;let t,i=(e||"").toString("binary"),n=(this._remainder+i).split(/\r?\n/);this._remainder=n.pop();for(let e=0,i=n.length;e<i;e++)this._responseQueue.length&&(t=this._responseQueue[this._responseQueue.length-1],/^\d+-/.test(t.split("\n").pop()))?this._responseQueue[this._responseQueue.length-1]+="\n"+n[e]:this._responseQueue.push(n[e]);this._responseQueue.length&&(t=this._responseQueue[this._responseQueue.length-1],/^\d+-/.test(t.split("\n").pop()))||this._processResponse()}_onError(e,t,i,n){clearTimeout(this._connectionTimeout),clearTimeout(this._greetingTimeout),this._destroyed||(e=this._formatError(e,t,i,n),this.logger.error(i,e.message),this.emit("error",e),this.close())}_formatError(e,t,i,n){let r;r=/Error\]$/i.test(Object.prototype.toString.call(e))?e:new Error(e),t&&"Error"!==t&&(r.code=t),i&&(r.response=i,r.message+=": "+i);let o="string"==typeof i&&Number((i.match(/^\d+/)||[])[0])||!1;return o&&(r.responseCode=o),n&&(r.command=n),r}_onClose(){return this.logger.info({tnx:"network"},"Connection closed"),this.upgrading&&!this._destroyed?this._onError(new Error("Connection closed unexpectedly"),"ETLS",!1,"CONN"):[this._actionGreeting,this.close].includes(this._responseActions[0])||this._destroyed?void this._destroy():this._onError(new Error("Connection closed unexpectedly"),"ECONNECTION",!1,"CONN")}_onEnd(){this._socket&&!this._socket.destroyed&&this._socket.destroy()}_onTimeout(){return this._onError(new Error("Timeout"),"ETIMEDOUT",!1,"CONN")}_destroy(){this._destroyed||(this._destroyed=!0,this.emit("end"))}_upgradeConnection(e){this._socket.removeListener("data",this._onSocketData),this._socket.removeListener("timeout",this._onSocketTimeout);let t=this._socket,i={socket:this._socket,host:this.host};Object.keys(this.options.tls||{}).forEach(e=>{i[e]=this.options.tls[e]}),this.upgrading=!0,this._socket=s.connect(i,()=>(this.secure=!0,this.upgrading=!1,this._socket.on("data",this._onSocketData),t.removeListener("close",this._onSocketClose),t.removeListener("end",this._onSocketEnd),e(null,!0))),this._socket.on("error",this._onSocketError),this._socket.once("close",this._onSocketClose),this._socket.once("end",this._onSocketEnd),this._socket.setTimeout(this.options.socketTimeout||6e5),this._socket.on("timeout",this._onSocketTimeout),t.resume()}_processResponse(){if(!this._responseQueue.length)return!1;let e=this.lastServerResponse=(this._responseQueue.shift()||"").toString();if(/^\d+-/.test(e.split("\n").pop()))return;(this.options.debug||this.options.transactionLog)&&this.logger.debug({tnx:"server"},e.replace(/\r?\n$/,"")),e.trim()||setImmediate(()=>this._processResponse(!0));let t=this._responseActions.shift();if("function"!=typeof t)return this._onError(new Error("Unexpected Response"),"EPROTOCOL",e,"CONN");t.call(this,e),setImmediate(()=>this._processResponse(!0))}_sendCommand(e){if(!this._destroyed){if(this._socket.destroyed)return this.close();(this.options.debug||this.options.transactionLog)&&this.logger.debug({tnx:"client"},(e||"").toString().replace(/\r?\n$/,"")),this._socket.write(Buffer.from(e+"\r\n","utf-8"))}}_setEnvelope(e,t){let i=[],n=!1;if(this._envelope=e||{},this._envelope.from=(this._envelope.from&&this._envelope.from.address||this._envelope.from||"").toString().trim(),this._envelope.to=[].concat(this._envelope.to||[]).map(e=>(e&&e.address||e||"").toString().trim()),!this._envelope.to.length)return t(this._formatError("No recipients defined","EENVELOPE",!1,"API"));if(this._envelope.from&&/[\r\n<>]/.test(this._envelope.from))return t(this._formatError("Invalid sender "+JSON.stringify(this._envelope.from),"EENVELOPE",!1,"API"));/[\x80-\uFFFF]/.test(this._envelope.from)&&(n=!0);for(let e=0,i=this._envelope.to.length;e<i;e++){if(!this._envelope.to[e]||/[\r\n<>]/.test(this._envelope.to[e]))return t(this._formatError("Invalid recipient "+JSON.stringify(this._envelope.to[e]),"EENVELOPE",!1,"API"));/[\x80-\uFFFF]/.test(this._envelope.to[e])&&(n=!0)}if(this._envelope.rcptQueue=JSON.parse(JSON.stringify(this._envelope.to||[])),this._envelope.rejected=[],this._envelope.rejectedErrors=[],this._envelope.accepted=[],this._envelope.dsn)try{this._envelope.dsn=this._setDsnEnvelope(this._envelope.dsn)}catch(e){return t(this._formatError("Invalid DSN "+e.message,"EENVELOPE",!1,"API"))}this._responseActions.push(e=>{this._actionMAIL(e,t)}),n&&this._supportedExtensions.includes("SMTPUTF8")&&(i.push("SMTPUTF8"),this._usingSmtpUtf8=!0),this._envelope.use8BitMime&&this._supportedExtensions.includes("8BITMIME")&&(i.push("BODY=8BITMIME"),this._using8BitMime=!0),this._envelope.size&&this._supportedExtensions.includes("SIZE")&&i.push("SIZE="+this._envelope.size),this._envelope.dsn&&this._supportedExtensions.includes("DSN")&&(this._envelope.dsn.ret&&i.push("RET="+u.encodeXText(this._envelope.dsn.ret)),this._envelope.dsn.envid&&i.push("ENVID="+u.encodeXText(this._envelope.dsn.envid))),this._sendCommand("MAIL FROM:<"+this._envelope.from+">"+(i.length?" "+i.join(" "):""))}_setDsnEnvelope(e){let t=(e.ret||e.return||"").toString().toUpperCase()||null;if(t)switch(t){case"HDRS":case"HEADERS":t="HDRS";break;case"FULL":case"BODY":t="FULL"}if(t&&!["FULL","HDRS"].includes(t))throw new Error("ret: "+JSON.stringify(t));let i=(e.envid||e.id||"").toString()||null,n=e.notify||null;if(n){"string"==typeof n&&(n=n.split(",")),n=n.map(e=>e.trim().toUpperCase());let e=["NEVER","SUCCESS","FAILURE","DELAY"];if(n.filter(t=>!e.includes(t)).length||n.length>1&&n.includes("NEVER"))throw new Error("notify: "+JSON.stringify(n.join(",")));n=n.join(",")}let r=(e.orcpt||e.recipient||"").toString()||null;return r&&r.indexOf(";")<0&&(r="rfc822;"+r),{ret:t,envid:i,notify:n,orcpt:r}}_getDsnRcptToArgs(){let e=[];return this._envelope.dsn&&this._supportedExtensions.includes("DSN")&&(this._envelope.dsn.notify&&e.push("NOTIFY="+u.encodeXText(this._envelope.dsn.notify)),this._envelope.dsn.orcpt&&e.push("ORCPT="+u.encodeXText(this._envelope.dsn.orcpt))),e.length?" "+e.join(" "):""}_createSendStream(e){let t,i=new l;return this.options.lmtp?this._envelope.accepted.forEach((t,i)=>{let n=i===this._envelope.accepted.length-1;this._responseActions.push(i=>{this._actionLMTPStream(t,n,i,e)})}):this._responseActions.push(t=>{this._actionSMTPStream(t,e)}),i.pipe(this._socket,{end:!1}),this.options.debug&&(t=new d,t.on("readable",()=>{let e;for(;e=t.read();)this.logger.debug({tnx:"message"},e.toString("binary").replace(/\r?\n$/,""))}),i.pipe(t)),i.once("end",()=>{this.logger.info({tnx:"message",inByteCount:i.inByteCount,outByteCount:i.outByteCount},"<%s bytes encoded mime message (source size %s bytes)>",i.outByteCount,i.inByteCount)}),i}_actionGreeting(e){clearTimeout(this._greetingTimeout),"220"===e.substr(0,3)?this.options.lmtp?(this._responseActions.push(this._actionLHLO),this._sendCommand("LHLO "+this.name)):(this._responseActions.push(this._actionEHLO),this._sendCommand("EHLO "+this.name)):this._onError(new Error("Invalid greeting. response="+e),"EPROTOCOL",e,"CONN")}_actionLHLO(e){"2"===e.charAt(0)?this._actionEHLO(e):this._onError(new Error("Invalid LHLO. response="+e),"EPROTOCOL",e,"LHLO")}_actionEHLO(e){let t;if("421"!==e.substr(0,3)){if("2"!==e.charAt(0))return this.options.requireTLS?void this._onError(new Error("EHLO failed but HELO does not support required STARTTLS. response="+e),"ECONNECTION",e,"EHLO"):(this._responseActions.push(this._actionHELO),void this._sendCommand("HELO "+this.name));if(!this.secure&&!this.options.ignoreTLS&&(/[ -]STARTTLS\b/im.test(e)||this.options.requireTLS))return this._sendCommand("STARTTLS"),void this._responseActions.push(this._actionSTARTTLS);/[ -]SMTPUTF8\b/im.test(e)&&this._supportedExtensions.push("SMTPUTF8"),/[ -]DSN\b/im.test(e)&&this._supportedExtensions.push("DSN"),/[ -]8BITMIME\b/im.test(e)&&this._supportedExtensions.push("8BITMIME"),/[ -]PIPELINING\b/im.test(e)&&this._supportedExtensions.push("PIPELINING"),/[ -]AUTH\b/i.test(e)&&(this.allowsAuth=!0),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)PLAIN/i.test(e)&&this._supportedAuth.push("PLAIN"),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)LOGIN/i.test(e)&&this._supportedAuth.push("LOGIN"),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)CRAM-MD5/i.test(e)&&this._supportedAuth.push("CRAM-MD5"),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)XOAUTH2/i.test(e)&&this._supportedAuth.push("XOAUTH2"),(t=e.match(/[ -]SIZE(?:[ \t]+(\d+))?/im))&&(this._supportedExtensions.push("SIZE"),this._maxAllowedSize=Number(t[1])||0),this.emit("connect")}else this._onError(new Error("Server terminates connection. response="+e),"ECONNECTION",e,"EHLO")}_actionHELO(e){"2"===e.charAt(0)?(this.allowsAuth=!0,this.emit("connect")):this._onError(new Error("Invalid HELO. response="+e),"EPROTOCOL",e,"HELO")}_actionSTARTTLS(e){if("2"!==e.charAt(0))return this.options.opportunisticTLS?(this.logger.info({tnx:"smtp"},"Failed STARTTLS upgrade, continuing unencrypted"),this.emit("connect")):void this._onError(new Error("Error upgrading connection with STARTTLS"),"ETLS",e,"STARTTLS");this._upgradeConnection((e,t)=>{e?this._onError(new Error("Error initiating TLS - "+(e.message||e)),"ETLS",!1,"STARTTLS"):(this.logger.info({tnx:"smtp"},"Connection upgraded with STARTTLS"),t?this.options.lmtp?(this._responseActions.push(this._actionLHLO),this._sendCommand("LHLO "+this.name)):(this._responseActions.push(this._actionEHLO),this._sendCommand("EHLO "+this.name)):this.emit("connect"))})}_actionAUTH_LOGIN_USER(e,t){/^334[ -]/.test(e)?(this._responseActions.push(e=>{this._actionAUTH_LOGIN_PASS(e,t)}),this._sendCommand(Buffer.from(this._auth.credentials.user+"","utf-8").toString("base64"))):t(this._formatError('Invalid login sequence while waiting for "334 VXNlcm5hbWU6"',"EAUTH",e,"AUTH LOGIN"))}_actionAUTH_CRAM_MD5(e,t){let i=e.match(/^334\s+(.+)$/),n="";if(!i)return t(this._formatError("Invalid login sequence while waiting for server challenge string","EAUTH",e,"AUTH CRAM-MD5"));n=i[1];let r=Buffer.from(n,"base64").toString("ascii"),o=c.createHmac("md5",this._auth.credentials.pass);o.update(r);let s=o.digest("hex"),a=this._auth.credentials.user+" "+s;this._responseActions.push(e=>{this._actionAUTH_CRAM_MD5_PASS(e,t)}),this._sendCommand(Buffer.from(a).toString("base64"))}_actionAUTH_CRAM_MD5_PASS(e,t){if(!e.match(/^235\s+/))return t(this._formatError('Invalid login sequence while waiting for "235"',"EAUTH",e,"AUTH CRAM-MD5"));this.logger.info({tnx:"smtp",username:this._auth.user,action:"authenticated",method:this._authMethod},"User %s authenticated",JSON.stringify(this._auth.user)),this.authenticated=!0,t(null,!0)}_actionAUTH_LOGIN_PASS(e,t){if(!/^334[ -]/.test(e))return t(this._formatError('Invalid login sequence while waiting for "334 UGFzc3dvcmQ6"',"EAUTH",e,"AUTH LOGIN"));this._responseActions.push(e=>{this._actionAUTHComplete(e,t)}),this._sendCommand(Buffer.from(this._auth.credentials.pass+"","utf-8").toString("base64"))}_actionAUTHComplete(e,t,i){return i||"function"!=typeof t||(i=t,t=!1),"334"===e.substr(0,3)?(this._responseActions.push(e=>{t||"XOAUTH2"!==this._authMethod?this._actionAUTHComplete(e,!0,i):setImmediate(()=>this._handleXOauth2Token(!0,i))}),void this._sendCommand("")):"2"!==e.charAt(0)?(this.logger.info({tnx:"smtp",username:this._auth.user,action:"authfail",method:this._authMethod},"User %s failed to authenticate",JSON.stringify(this._auth.user)),i(this._formatError("Invalid login","EAUTH",e,"AUTH "+this._authMethod))):(this.logger.info({tnx:"smtp",username:this._auth.user,action:"authenticated",method:this._authMethod},"User %s authenticated",JSON.stringify(this._auth.user)),this.authenticated=!0,void i(null,!0))}_actionMAIL(e,t){let i,n;if(2!==Number(e.charAt(0)))return i=this._usingSmtpUtf8&&/^550 /.test(e)&&/[\x80-\uFFFF]/.test(this._envelope.from)?"Internationalized mailbox name not allowed":"Mail command failed",t(this._formatError(i,"EENVELOPE",e,"MAIL FROM"));if(!this._envelope.rcptQueue.length)return t(this._formatError("Can't send mail - no recipients defined","EENVELOPE",!1,"API"));if(this._recipientQueue=[],this._supportedExtensions.includes("PIPELINING"))for(;this._envelope.rcptQueue.length;)n=this._envelope.rcptQueue.shift(),this._recipientQueue.push(n),this._responseActions.push(e=>{this._actionRCPT(e,t)}),this._sendCommand("RCPT TO:<"+n+">"+this._getDsnRcptToArgs());else n=this._envelope.rcptQueue.shift(),this._recipientQueue.push(n),this._responseActions.push(e=>{this._actionRCPT(e,t)}),this._sendCommand("RCPT TO:<"+n+">"+this._getDsnRcptToArgs())}_actionRCPT(e,t){let i,n,r=this._recipientQueue.shift();if(2!==Number(e.charAt(0))?(i=this._usingSmtpUtf8&&/^553 /.test(e)&&/[\x80-\uFFFF]/.test(r)?"Internationalized mailbox name not allowed":"Recipient command failed",this._envelope.rejected.push(r),n=this._formatError(i,"EENVELOPE",e,"RCPT TO"),n.recipient=r,this._envelope.rejectedErrors.push(n)):this._envelope.accepted.push(r),this._envelope.rcptQueue.length||this._recipientQueue.length)this._envelope.rcptQueue.length&&(r=this._envelope.rcptQueue.shift(),this._recipientQueue.push(r),this._responseActions.push(e=>{this._actionRCPT(e,t)}),this._sendCommand("RCPT TO:<"+r+">"+this._getDsnRcptToArgs()));else{if(!(this._envelope.rejected.length<this._envelope.to.length))return n=this._formatError("Can't send mail - all recipients were rejected","EENVELOPE",e,"RCPT TO"),n.rejected=this._envelope.rejected,n.rejectedErrors=this._envelope.rejectedErrors,t(n);this._responseActions.push(e=>{this._actionDATA(e,t)}),this._sendCommand("DATA")}}_actionDATA(e,t){if(!/^[23]/.test(e))return t(this._formatError("Data command failed","EENVELOPE",e,"DATA"));let i={accepted:this._envelope.accepted,rejected:this._envelope.rejected};this._envelope.rejectedErrors.length&&(i.rejectedErrors=this._envelope.rejectedErrors),t(null,i)}_actionSMTPStream(e,t){return 2!==Number(e.charAt(0))?t(this._formatError("Message failed","EMESSAGE",e,"DATA")):t(null,e)}_actionLMTPStream(e,t,i,n){let r;if(2!==Number(i.charAt(0))){r=this._formatError("Message failed for recipient "+e,"EMESSAGE",i,"DATA"),r.recipient=e,this._envelope.rejected.push(e),this._envelope.rejectedErrors.push(r);for(let t=0,i=this._envelope.accepted.length;t<i;t++)this._envelope.accepted[t]===e&&this._envelope.accepted.splice(t,1)}if(t)return n(null,i)}_handleXOauth2Token(e,t){this._auth.oauth2.getToken(e,(i,n)=>{if(i)return this.logger.info({tnx:"smtp",username:this._auth.user,action:"authfail",method:this._authMethod},"User %s failed to authenticate",JSON.stringify(this._auth.user)),t(this._formatError(i,"EAUTH",!1,"AUTH XOAUTH2"));this._responseActions.push(i=>{this._actionAUTHComplete(i,e,t)}),this._sendCommand("AUTH XOAUTH2 "+this._auth.oauth2.buildXOAuth2Token(n))})}_isDestroyedMessage(e){if(this._destroyed)return"Cannot "+e+" - smtp connection is already destroyed.";if(this._socket){if(this._socket.destroyed)return"Cannot "+e+" - smtp connection socket is already destroyed.";if(!this._socket.writable)return"Cannot "+e+" - smtp connection socket is already half-closed."}}_getHostname(){let e=a.hostname()||"";return e.indexOf(".")<0&&(e="[127.0.0.1]"),e.match(/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/)&&(e="["+e+"]"),e}}},function(e,t,i){"use strict";const n=i(0).Transform;e.exports=class extends n{constructor(e){super(e),this.options=e||{},this.lastByte=!1}_transform(e,t,i){let n,r=0;for(let t=0,i=e.length;t<i;t++)10===e[t]&&(t&&13!==e[t-1]||!t&&13!==this.lastByte)&&(t>r&&(n=e.slice(r,t),this.push(n)),this.push(Buffer.from("\r\n")),r=t+1);r&&r<e.length?(n=e.slice(r),this.push(n)):r||this.push(e),this.lastByte=e[e.length-1],i()}}},function(e,t,i){"use strict";var n=i(20).codes.ERR_STREAM_PREMATURE_CLOSE;function r(){}e.exports=function e(t,i,o){if("function"==typeof i)return e(t,null,i);i||(i={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];e.apply(this,n)}}}(o||r);var s=i.readable||!1!==i.readable&&t.readable,a=i.writable||!1!==i.writable&&t.writable,c=function(){t.writable||d()},l=t._writableState&&t._writableState.finished,d=function(){a=!1,l=!0,s||o.call(t)},u=t._readableState&&t._readableState.endEmitted,h=function(){s=!1,u=!0,a||o.call(t)},p=function(e){o.call(t,e)},f=function(){var e;return s&&!u?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):a&&!l?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},A=function(){t.req.on("finish",d)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",d),t.on("abort",f),t.req?A():t.on("request",A)),t.on("end",h),t.on("finish",d),!1!==i.error&&t.on("error",p),t.on("close",f),function(){t.removeListener("complete",d),t.removeListener("abort",f),t.removeListener("request",A),t.req&&t.req.removeListener("finish",d),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",d),t.removeListener("end",h),t.removeListener("error",p),t.removeListener("close",f)}}},function(e,t,i){"use strict";var n=i(21).codes.ERR_STREAM_PREMATURE_CLOSE;function r(){}e.exports=function e(t,i,o){if("function"==typeof i)return e(t,null,i);i||(i={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];e.apply(this,n)}}}(o||r);var s=i.readable||!1!==i.readable&&t.readable,a=i.writable||!1!==i.writable&&t.writable,c=function(){t.writable||d()},l=t._writableState&&t._writableState.finished,d=function(){a=!1,l=!0,s||o.call(t)},u=t._readableState&&t._readableState.endEmitted,h=function(){s=!1,u=!0,a||o.call(t)},p=function(e){o.call(t,e)},f=function(){var e;return s&&!u?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):a&&!l?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},A=function(){t.req.on("finish",d)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",d),t.on("abort",f),t.req?A():t.on("request",A)),t.on("end",h),t.on("finish",d),!1!==i.error&&t.on("error",p),t.on("close",f),function(){t.removeListener("complete",d),t.removeListener("abort",f),t.removeListener("request",A),t.req&&t.req.removeListener("finish",d),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",d),t.removeListener("end",h),t.removeListener("error",p),t.removeListener("close",f)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Frame=t.FrameManager=t.FrameManagerEmittedEvents=void 0;const n=i(38),r=i(30),o=i(4),s=i(8),a=i(63),c=i(105),l=i(224),d=i(65);t.FrameManagerEmittedEvents={FrameAttached:Symbol("FrameManager.FrameAttached"),FrameNavigated:Symbol("FrameManager.FrameNavigated"),FrameDetached:Symbol("FrameManager.FrameDetached"),LifecycleEvent:Symbol("FrameManager.LifecycleEvent"),FrameNavigatedWithinDocument:Symbol("FrameManager.FrameNavigatedWithinDocument"),ExecutionContextCreated:Symbol("FrameManager.ExecutionContextCreated"),ExecutionContextDestroyed:Symbol("FrameManager.ExecutionContextDestroyed")};class u extends r.EventEmitter{constructor(e,t,i,n){super(),this._frames=new Map,this._contextIdToContext=new Map,this._isolatedWorlds=new Set,this._client=e,this._page=t,this._networkManager=new d.NetworkManager(e,i,this),this._timeoutSettings=n,this._client.on("Page.frameAttached",e=>this._onFrameAttached(e.frameId,e.parentFrameId)),this._client.on("Page.frameNavigated",e=>this._onFrameNavigated(e.frame)),this._client.on("Page.navigatedWithinDocument",e=>this._onFrameNavigatedWithinDocument(e.frameId,e.url)),this._client.on("Page.frameDetached",e=>this._onFrameDetached(e.frameId)),this._client.on("Page.frameStoppedLoading",e=>this._onFrameStoppedLoading(e.frameId)),this._client.on("Runtime.executionContextCreated",e=>this._onExecutionContextCreated(e.context)),this._client.on("Runtime.executionContextDestroyed",e=>this._onExecutionContextDestroyed(e.executionContextId)),this._client.on("Runtime.executionContextsCleared",()=>this._onExecutionContextsCleared()),this._client.on("Page.lifecycleEvent",e=>this._onLifecycleEvent(e)),this._client.on("Target.attachedToTarget",async e=>this._onFrameMoved(e))}async initialize(){const e=await Promise.all([this._client.send("Page.enable"),this._client.send("Page.getFrameTree")]),{frameTree:t}=e[1];this._handleFrameTree(t),await Promise.all([this._client.send("Page.setLifecycleEventsEnabled",{enabled:!0}),this._client.send("Runtime.enable").then(()=>this._ensureIsolatedWorld("__puppeteer_utility_world__")),this._networkManager.initialize()])}networkManager(){return this._networkManager}async navigateFrame(e,t,i={}){p(i);const{referer:n=this._networkManager.extraHTTPHeaders().referer,waitUntil:r=["load"],timeout:o=this._timeoutSettings.navigationTimeout()}=i,s=new c.LifecycleWatcher(this,e,r,o);let a=!1,l=await Promise.race([async function(e,t,i,n){try{const r=await e.send("Page.navigate",{url:t,referrer:i,frameId:n});return a=!!r.loaderId,r.errorText?new Error(`${r.errorText} at ${t}`):null}catch(e){return e}}(this._client,t,n,e._id),s.timeoutOrTerminationPromise()]);if(l||(l=await Promise.race([s.timeoutOrTerminationPromise(),a?s.newDocumentNavigationPromise():s.sameDocumentNavigationPromise()])),s.dispose(),l)throw l;return s.navigationResponse()}async waitForFrameNavigation(e,t={}){p(t);const{waitUntil:i=["load"],timeout:n=this._timeoutSettings.navigationTimeout()}=t,r=new c.LifecycleWatcher(this,e,i,n),o=await Promise.race([r.timeoutOrTerminationPromise(),r.sameDocumentNavigationPromise(),r.newDocumentNavigationPromise()]);if(r.dispose(),o)throw o;return r.navigationResponse()}async _onFrameMoved(e){"iframe"===e.targetInfo.type&&n.debug("puppeteer:frame")(`The frame '${e.targetInfo.targetId}' moved to another session. Out-of-process iframes (OOPIF) are not supported by Puppeteer yet. https://github.com/puppeteer/puppeteer/issues/2548`)}_onLifecycleEvent(e){const i=this._frames.get(e.frameId);i&&(i._onLifecycleEvent(e.loaderId,e.name),this.emit(t.FrameManagerEmittedEvents.LifecycleEvent,i))}_onFrameStoppedLoading(e){const i=this._frames.get(e);i&&(i._onLoadingStopped(),this.emit(t.FrameManagerEmittedEvents.LifecycleEvent,i))}_handleFrameTree(e){if(e.frame.parentId&&this._onFrameAttached(e.frame.id,e.frame.parentId),this._onFrameNavigated(e.frame),e.childFrames)for(const t of e.childFrames)this._handleFrameTree(t)}page(){return this._page}mainFrame(){return this._mainFrame}frames(){return Array.from(this._frames.values())}frame(e){return this._frames.get(e)||null}_onFrameAttached(e,i){if(this._frames.has(e))return;o.assert(i);const n=this._frames.get(i),r=new h(this,n,e);this._frames.set(r._id,r),this.emit(t.FrameManagerEmittedEvents.FrameAttached,r)}_onFrameNavigated(e){const i=!e.parentId;let n=i?this._mainFrame:this._frames.get(e.id);if(o.assert(i||n,"We either navigate top level or have old version of the navigated frame"),n)for(const e of n.childFrames())this._removeFramesRecursively(e);i&&(n?(this._frames.delete(n._id),n._id=e.id):n=new h(this,null,e.id),this._frames.set(e.id,n),this._mainFrame=n),n._navigated(e),this.emit(t.FrameManagerEmittedEvents.FrameNavigated,n)}async _ensureIsolatedWorld(e){this._isolatedWorlds.has(e)||(this._isolatedWorlds.add(e),await this._client.send("Page.addScriptToEvaluateOnNewDocument",{source:"//# sourceURL="+a.EVALUATION_SCRIPT_URL,worldName:e}),await Promise.all(this.frames().map(t=>this._client.send("Page.createIsolatedWorld",{frameId:t._id,worldName:e,grantUniveralAccess:!0}).catch(s.debugError))))}_onFrameNavigatedWithinDocument(e,i){const n=this._frames.get(e);n&&(n._navigatedWithinDocument(i),this.emit(t.FrameManagerEmittedEvents.FrameNavigatedWithinDocument,n),this.emit(t.FrameManagerEmittedEvents.FrameNavigated,n))}_onFrameDetached(e){const t=this._frames.get(e);t&&this._removeFramesRecursively(t)}_onExecutionContextCreated(e){const t=e.auxData,i=t?t.frameId:null,n=this._frames.get(i)||null;let r=null;n&&(e.auxData&&e.auxData.isDefault?r=n._mainWorld:"__puppeteer_utility_world__"!==e.name||n._secondaryWorld._hasContext()||(r=n._secondaryWorld));const o=new a.ExecutionContext(this._client,e,r);r&&r._setContext(o),this._contextIdToContext.set(e.id,o)}_onExecutionContextDestroyed(e){const t=this._contextIdToContext.get(e);t&&(this._contextIdToContext.delete(e),t._world&&t._world._setContext(null))}_onExecutionContextsCleared(){for(const e of this._contextIdToContext.values())e._world&&e._world._setContext(null);this._contextIdToContext.clear()}executionContextById(e){const t=this._contextIdToContext.get(e);return o.assert(t,"INTERNAL ERROR: missing context with id = "+e),t}_removeFramesRecursively(e){for(const t of e.childFrames())this._removeFramesRecursively(t);e._detach(),this._frames.delete(e._id),this.emit(t.FrameManagerEmittedEvents.FrameDetached,e)}}t.FrameManager=u;class h{constructor(e,t,i){this._url="",this._detached=!1,this._loaderId="",this._lifecycleEvents=new Set,this._frameManager=e,this._parentFrame=t,this._url="",this._id=i,this._detached=!1,this._loaderId="",this._mainWorld=new l.DOMWorld(e,this,e._timeoutSettings),this._secondaryWorld=new l.DOMWorld(e,this,e._timeoutSettings),this._childFrames=new Set,this._parentFrame&&this._parentFrame._childFrames.add(this)}async goto(e,t={}){return await this._frameManager.navigateFrame(this,e,t)}async waitForNavigation(e={}){return await this._frameManager.waitForFrameNavigation(this,e)}executionContext(){return this._mainWorld.executionContext()}async evaluateHandle(e,...t){return this._mainWorld.evaluateHandle(e,...t)}async evaluate(e,...t){return this._mainWorld.evaluate(e,...t)}async $(e){return this._mainWorld.$(e)}async $x(e){return this._mainWorld.$x(e)}async $eval(e,t,...i){return this._mainWorld.$eval(e,t,...i)}async $$eval(e,t,...i){return this._mainWorld.$$eval(e,t,...i)}async $$(e){return this._mainWorld.$$(e)}async content(){return this._secondaryWorld.content()}async setContent(e,t={}){return this._secondaryWorld.setContent(e,t)}name(){return this._name||""}url(){return this._url}parentFrame(){return this._parentFrame}childFrames(){return Array.from(this._childFrames)}isDetached(){return this._detached}async addScriptTag(e){return this._mainWorld.addScriptTag(e)}async addStyleTag(e){return this._mainWorld.addStyleTag(e)}async click(e,t={}){return this._secondaryWorld.click(e,t)}async focus(e){return this._secondaryWorld.focus(e)}async hover(e){return this._secondaryWorld.hover(e)}select(e,...t){return this._secondaryWorld.select(e,...t)}async tap(e){return this._secondaryWorld.tap(e)}async type(e,t,i){return this._mainWorld.type(e,t,i)}waitFor(e,t={},...i){if(console.warn("waitFor is deprecated and will be removed in a future release. See https://github.com/puppeteer/puppeteer/issues/6214 for details and how to migrate your code."),s.helper.isString(e)){const i=e;return i.startsWith("//")?this.waitForXPath(i,t):this.waitForSelector(i,t)}return s.helper.isNumber(e)?new Promise(t=>setTimeout(t,e)):"function"==typeof e?this.waitForFunction(e,t,...i):Promise.reject(new Error("Unsupported target type: "+typeof e))}waitForTimeout(e){return new Promise(t=>{setTimeout(t,e)})}async waitForSelector(e,t={}){const i=await this._secondaryWorld.waitForSelector(e,t);if(!i)return null;const n=await this._mainWorld.executionContext(),r=await n._adoptElementHandle(i);return await i.dispose(),r}async waitForXPath(e,t={}){const i=await this._secondaryWorld.waitForXPath(e,t);if(!i)return null;const n=await this._mainWorld.executionContext(),r=await n._adoptElementHandle(i);return await i.dispose(),r}waitForFunction(e,t={},...i){return this._mainWorld.waitForFunction(e,t,...i)}async title(){return this._secondaryWorld.title()}_navigated(e){this._name=e.name,this._url=`${e.url}${e.urlFragment||""}`}_navigatedWithinDocument(e){this._url=e}_onLifecycleEvent(e,t){"init"===t&&(this._loaderId=e,this._lifecycleEvents.clear()),this._lifecycleEvents.add(t)}_onLoadingStopped(){this._lifecycleEvents.add("DOMContentLoaded"),this._lifecycleEvents.add("load")}_detach(){this._detached=!0,this._mainWorld._detach(),this._secondaryWorld._detach(),this._parentFrame&&this._parentFrame._childFrames.delete(this),this._parentFrame=null}}function p(e){o.assert(void 0===e.networkIdleTimeout,"ERROR: networkIdleTimeout option is no longer supported."),o.assert(void 0===e.networkIdleInflight,"ERROR: networkIdleInflight option is no longer supported."),o.assert("networkidle"!==e.waitUntil,'ERROR: "networkidle" option is no longer supported. Use "networkidle2" instead')}t.Frame=h},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExecutionContext=t.EVALUATION_SCRIPT_URL=void 0;const n=i(4),r=i(8),o=i(50);t.EVALUATION_SCRIPT_URL="__puppeteer_evaluation_script__";const s=/^[\040\t]*\/\/[@#] sourceURL=\s*(\S*?)\s*$/m;t.ExecutionContext=class{constructor(e,t,i){this._client=e,this._world=i,this._contextId=t.id,this._contextName=t.name}frame(){return this._world?this._world.frame():null}async evaluate(e,...t){return await this._evaluateInternal(!0,e,...t)}async evaluateHandle(e,...t){return this._evaluateInternal(!1,e,...t)}async _evaluateInternal(e,i,...n){const a="//# sourceURL="+t.EVALUATION_SCRIPT_URL;if(r.helper.isString(i)){const t=this._contextId,n=i,c=s.test(n)?n:n+"\n"+a,{exceptionDetails:l,result:d}=await this._client.send("Runtime.evaluate",{expression:c,contextId:t,returnByValue:e,awaitPromise:!0,userGesture:!0}).catch(h);if(l)throw new Error("Evaluation failed: "+r.helper.getExceptionMessage(l));return e?r.helper.valueFromRemoteObject(d):o.createJSHandle(this,d)}if("function"!=typeof i)throw new Error(`Expected to get |string| or |function| as the first argument, but got "${i}" instead.`);let c,l=i.toString();try{new Function("("+l+")")}catch(e){l=l.startsWith("async ")?"async function "+l.substring("async ".length):"function "+l;try{new Function("("+l+")")}catch(e){throw new Error("Passed function is not well-serializable!")}}try{c=this._client.send("Runtime.callFunctionOn",{functionDeclaration:l+"\n"+a+"\n",executionContextId:this._contextId,arguments:n.map(function(e){if("bigint"==typeof e)return{unserializableValue:e.toString()+"n"};if(Object.is(e,-0))return{unserializableValue:"-0"};if(Object.is(e,1/0))return{unserializableValue:"Infinity"};if(Object.is(e,-1/0))return{unserializableValue:"-Infinity"};if(Object.is(e,NaN))return{unserializableValue:"NaN"};const t=e&&e instanceof o.JSHandle?e:null;if(t){if(t._context!==this)throw new Error("JSHandles can be evaluated only in the context they were created!");if(t._disposed)throw new Error("JSHandle is disposed!");return t._remoteObject.unserializableValue?{unserializableValue:t._remoteObject.unserializableValue}:t._remoteObject.objectId?{objectId:t._remoteObject.objectId}:{value:t._remoteObject.value}}return{value:e}}.bind(this)),returnByValue:e,awaitPromise:!0,userGesture:!0})}catch(e){throw e instanceof TypeError&&e.message.startsWith("Converting circular structure to JSON")&&(e.message+=" Are you passing a nested JSHandle?"),e}const{exceptionDetails:d,result:u}=await c.catch(h);if(d)throw new Error("Evaluation failed: "+r.helper.getExceptionMessage(d));return e?r.helper.valueFromRemoteObject(u):o.createJSHandle(this,u);function h(e){if(e.message.includes("Object reference chain is too long"))return{result:{type:"undefined"}};if(e.message.includes("Object couldn't be returned by value"))return{result:{type:"undefined"}};if(e.message.endsWith("Cannot find context with specified id")||e.message.endsWith("Inspected target navigated or closed"))throw new Error("Execution context was destroyed, most likely because of a navigation.");throw e}}async queryObjects(e){n.assert(!e._disposed,"Prototype JSHandle is disposed!"),n.assert(e._remoteObject.objectId,"Prototype JSHandle must not be referencing primitive value");const t=await this._client.send("Runtime.queryObjects",{prototypeObjectId:e._remoteObject.objectId});return o.createJSHandle(this,t.objects)}async _adoptBackendNodeId(e){const{object:t}=await this._client.send("DOM.resolveNode",{backendNodeId:e,executionContextId:this._contextId});return o.createJSHandle(this,t)}async _adoptElementHandle(e){n.assert(e.executionContext()!==this,"Cannot adopt handle that already belongs to this execution context"),n.assert(this._world,"Cannot adopt handle without DOMWorld");const t=await this._client.send("DOM.describeNode",{objectId:e._remoteObject.objectId});return this._adoptBackendNodeId(t.node.backendNodeId)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getQueryHandlerAndSelector=t.clearCustomQueryHandlers=t.customQueryHandlerNames=t.unregisterCustomQueryHandler=t.registerCustomQueryHandler=void 0;const n=i(220);function r(e){const t={};return e.queryOne&&(t.queryOne=async(t,i)=>{const n=await t.evaluateHandle(e.queryOne,i),r=n.asElement();return r||(await n.dispose(),null)},t.waitFor=(t,i,n)=>t.waitForSelectorInPage(e.queryOne,i,n)),e.queryAll&&(t.queryAll=async(t,i)=>{const n=await t.evaluateHandle(e.queryAll,i),r=await n.getProperties();await n.dispose();const o=[];for(const e of r.values()){const t=e.asElement();t&&o.push(t)}return o},t.queryAllArray=async(t,i)=>{const n=await t.evaluateHandle(e.queryAll,i);return await n.evaluateHandle(e=>Array.from(e))}),t}const o=r({queryOne:(e,t)=>e.querySelector(t),queryAll:(e,t)=>e.querySelectorAll(t)}),s=r({queryOne:(e,t)=>{let i=null;const n=e=>{const r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT);do{const e=r.currentNode;e.shadowRoot&&n(e.shadowRoot),e instanceof ShadowRoot||!i&&e.matches(t)&&(i=e)}while(!i&&r.nextNode())};return e instanceof Document&&(e=e.documentElement),n(e),i},queryAll:(e,t)=>{const i=[],n=e=>{const r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT);do{const e=r.currentNode;e.shadowRoot&&n(e.shadowRoot),e instanceof ShadowRoot||e.matches(t)&&i.push(e)}while(r.nextNode())};return e instanceof Document&&(e=e.documentElement),n(e),i}}),a=new Map([["aria",n.ariaHandler],["pierce",s]]),c=new Map(a);function l(e){c.has(e)&&!a.has(e)&&c.delete(e)}function d(){return[...c.keys()].filter(e=>!a.has(e))}t.registerCustomQueryHandler=function(e,t){if(c.get(e))throw new Error(`A custom query handler named "${e}" already exists`);if(!/^[a-zA-Z]+$/.test(e))throw new Error("Custom query handler names may only contain [a-zA-Z]");const i=r(t);c.set(e,i)},t.unregisterCustomQueryHandler=l,t.customQueryHandlerNames=d,t.clearCustomQueryHandlers=function(){d().forEach(l)},t.getQueryHandlerAndSelector=function(e){if(!/^[a-zA-Z]+\//.test(e))return{updatedSelector:e,queryHandler:o};const t=e.indexOf("/"),i=e.slice(0,t),n=e.slice(t+1),r=c.get(i);if(!r)throw new Error(`Query set to use "${i}", but no query handler of that name was found`);return{updatedSelector:n,queryHandler:r}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkManager=t.NetworkManagerEmittedEvents=void 0;const n=i(30),r=i(4),o=i(8),s=i(221),a=i(222);t.NetworkManagerEmittedEvents={Request:Symbol("NetworkManager.Request"),Response:Symbol("NetworkManager.Response"),RequestFailed:Symbol("NetworkManager.RequestFailed"),RequestFinished:Symbol("NetworkManager.RequestFinished")};class c extends n.EventEmitter{constructor(e,t,i){super(),this._requestIdToRequest=new Map,this._requestIdToRequestWillBeSentEvent=new Map,this._extraHTTPHeaders={},this._credentials=null,this._attemptedAuthentications=new Set,this._userRequestInterceptionEnabled=!1,this._protocolRequestInterceptionEnabled=!1,this._userCacheDisabled=!1,this._requestIdToInterceptionId=new Map,this._emulatedNetworkConditions={offline:!1,upload:-1,download:-1,latency:0},this._client=e,this._ignoreHTTPSErrors=t,this._frameManager=i,this._client.on("Fetch.requestPaused",this._onRequestPaused.bind(this)),this._client.on("Fetch.authRequired",this._onAuthRequired.bind(this)),this._client.on("Network.requestWillBeSent",this._onRequestWillBeSent.bind(this)),this._client.on("Network.requestServedFromCache",this._onRequestServedFromCache.bind(this)),this._client.on("Network.responseReceived",this._onResponseReceived.bind(this)),this._client.on("Network.loadingFinished",this._onLoadingFinished.bind(this)),this._client.on("Network.loadingFailed",this._onLoadingFailed.bind(this))}async initialize(){await this._client.send("Network.enable"),this._ignoreHTTPSErrors&&await this._client.send("Security.setIgnoreCertificateErrors",{ignore:!0})}async authenticate(e){this._credentials=e,await this._updateProtocolRequestInterception()}async setExtraHTTPHeaders(e){this._extraHTTPHeaders={};for(const t of Object.keys(e)){const i=e[t];r.assert(o.helper.isString(i),`Expected value of header "${t}" to be String, but "${typeof i}" is found.`),this._extraHTTPHeaders[t.toLowerCase()]=i}await this._client.send("Network.setExtraHTTPHeaders",{headers:this._extraHTTPHeaders})}extraHTTPHeaders(){return Object.assign({},this._extraHTTPHeaders)}async setOfflineMode(e){this._emulatedNetworkConditions.offline=e,await this._updateNetworkConditions()}async emulateNetworkConditions(e){this._emulatedNetworkConditions.upload=e?e.upload:-1,this._emulatedNetworkConditions.download=e?e.download:-1,this._emulatedNetworkConditions.latency=e?e.latency:0,await this._updateNetworkConditions()}async _updateNetworkConditions(){await this._client.send("Network.emulateNetworkConditions",{offline:this._emulatedNetworkConditions.offline,latency:this._emulatedNetworkConditions.latency,uploadThroughput:this._emulatedNetworkConditions.upload,downloadThroughput:this._emulatedNetworkConditions.download})}async setUserAgent(e){await this._client.send("Network.setUserAgentOverride",{userAgent:e})}async setCacheEnabled(e){this._userCacheDisabled=!e,await this._updateProtocolCacheDisabled()}async setRequestInterception(e){this._userRequestInterceptionEnabled=e,await this._updateProtocolRequestInterception()}async _updateProtocolRequestInterception(){const e=this._userRequestInterceptionEnabled||!!this._credentials;e!==this._protocolRequestInterceptionEnabled&&(this._protocolRequestInterceptionEnabled=e,e?await Promise.all([this._updateProtocolCacheDisabled(),this._client.send("Fetch.enable",{handleAuthRequests:!0,patterns:[{urlPattern:"*"}]})]):await Promise.all([this._updateProtocolCacheDisabled(),this._client.send("Fetch.disable")]))}async _updateProtocolCacheDisabled(){await this._client.send("Network.setCacheDisabled",{cacheDisabled:this._userCacheDisabled||this._protocolRequestInterceptionEnabled})}_onRequestWillBeSent(e){if(!this._protocolRequestInterceptionEnabled||e.request.url.startsWith("data:"))this._onRequest(e,null);else{const t=e.requestId,i=this._requestIdToInterceptionId.get(t);i?(this._onRequest(e,i),this._requestIdToInterceptionId.delete(t)):this._requestIdToRequestWillBeSentEvent.set(e.requestId,e)}}_onAuthRequired(e){let t="Default";this._attemptedAuthentications.has(e.requestId)?t="CancelAuth":this._credentials&&(t="ProvideCredentials",this._attemptedAuthentications.add(e.requestId));const{username:i,password:n}=this._credentials||{username:void 0,password:void 0};this._client.send("Fetch.continueWithAuth",{requestId:e.requestId,authChallengeResponse:{response:t,username:i,password:n}}).catch(o.debugError)}_onRequestPaused(e){!this._userRequestInterceptionEnabled&&this._protocolRequestInterceptionEnabled&&this._client.send("Fetch.continueRequest",{requestId:e.requestId}).catch(o.debugError);const t=e.networkId,i=e.requestId;if(t&&this._requestIdToRequestWillBeSentEvent.has(t)){const e=this._requestIdToRequestWillBeSentEvent.get(t);this._onRequest(e,i),this._requestIdToRequestWillBeSentEvent.delete(t)}else this._requestIdToInterceptionId.set(t,i)}_onRequest(e,i){let n=[];if(e.redirectResponse){const t=this._requestIdToRequest.get(e.requestId);t&&(this._handleRequestRedirect(t,e.redirectResponse),n=t._redirectChain)}const r=e.frameId?this._frameManager.frame(e.frameId):null,o=new s.HTTPRequest(this._client,r,i,this._userRequestInterceptionEnabled,e,n);this._requestIdToRequest.set(e.requestId,o),this.emit(t.NetworkManagerEmittedEvents.Request,o)}_onRequestServedFromCache(e){const t=this._requestIdToRequest.get(e.requestId);t&&(t._fromMemoryCache=!0)}_handleRequestRedirect(e,i){const n=new a.HTTPResponse(this._client,e,i);e._response=n,e._redirectChain.push(e),n._resolveBody(new Error("Response body is unavailable for redirect responses")),this._requestIdToRequest.delete(e._requestId),this._attemptedAuthentications.delete(e._interceptionId),this.emit(t.NetworkManagerEmittedEvents.Response,n),this.emit(t.NetworkManagerEmittedEvents.RequestFinished,e)}_onResponseReceived(e){const i=this._requestIdToRequest.get(e.requestId);if(!i)return;const n=new a.HTTPResponse(this._client,i,e.response);i._response=n,this.emit(t.NetworkManagerEmittedEvents.Response,n)}_onLoadingFinished(e){const i=this._requestIdToRequest.get(e.requestId);i&&(i.response()&&i.response()._resolveBody(null),this._requestIdToRequest.delete(i._requestId),this._attemptedAuthentications.delete(i._interceptionId),this.emit(t.NetworkManagerEmittedEvents.RequestFinished,i))}_onLoadingFailed(e){const i=this._requestIdToRequest.get(e.requestId);if(!i)return;i._failureText=e.errorText;const n=i.response();n&&n._resolveBody(null),this._requestIdToRequest.delete(i._requestId),this._attemptedAuthentications.delete(i._interceptionId),this.emit(t.NetworkManagerEmittedEvents.RequestFailed,i)}}t.NetworkManager=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Frame=t.FrameManager=t.FrameManagerEmittedEvents=void 0;const n=i(41),r=i(31),o=i(5),s=i(9),a=i(67),c=i(108),l=i(242),d=i(69);t.FrameManagerEmittedEvents={FrameAttached:Symbol("FrameManager.FrameAttached"),FrameNavigated:Symbol("FrameManager.FrameNavigated"),FrameDetached:Symbol("FrameManager.FrameDetached"),LifecycleEvent:Symbol("FrameManager.LifecycleEvent"),FrameNavigatedWithinDocument:Symbol("FrameManager.FrameNavigatedWithinDocument"),ExecutionContextCreated:Symbol("FrameManager.ExecutionContextCreated"),ExecutionContextDestroyed:Symbol("FrameManager.ExecutionContextDestroyed")};class u extends r.EventEmitter{constructor(e,t,i,n){super(),this._frames=new Map,this._contextIdToContext=new Map,this._isolatedWorlds=new Set,this._client=e,this._page=t,this._networkManager=new d.NetworkManager(e,i,this),this._timeoutSettings=n,this._client.on("Page.frameAttached",e=>this._onFrameAttached(e.frameId,e.parentFrameId)),this._client.on("Page.frameNavigated",e=>this._onFrameNavigated(e.frame)),this._client.on("Page.navigatedWithinDocument",e=>this._onFrameNavigatedWithinDocument(e.frameId,e.url)),this._client.on("Page.frameDetached",e=>this._onFrameDetached(e.frameId)),this._client.on("Page.frameStoppedLoading",e=>this._onFrameStoppedLoading(e.frameId)),this._client.on("Runtime.executionContextCreated",e=>this._onExecutionContextCreated(e.context)),this._client.on("Runtime.executionContextDestroyed",e=>this._onExecutionContextDestroyed(e.executionContextId)),this._client.on("Runtime.executionContextsCleared",()=>this._onExecutionContextsCleared()),this._client.on("Page.lifecycleEvent",e=>this._onLifecycleEvent(e)),this._client.on("Target.attachedToTarget",async e=>this._onFrameMoved(e))}async initialize(){const e=await Promise.all([this._client.send("Page.enable"),this._client.send("Page.getFrameTree")]),{frameTree:t}=e[1];this._handleFrameTree(t),await Promise.all([this._client.send("Page.setLifecycleEventsEnabled",{enabled:!0}),this._client.send("Runtime.enable").then(()=>this._ensureIsolatedWorld("__puppeteer_utility_world__")),this._networkManager.initialize()])}networkManager(){return this._networkManager}async navigateFrame(e,t,i={}){p(i);const{referer:n=this._networkManager.extraHTTPHeaders().referer,waitUntil:r=["load"],timeout:o=this._timeoutSettings.navigationTimeout()}=i,s=new c.LifecycleWatcher(this,e,r,o);let a=!1,l=await Promise.race([async function(e,t,i,n){try{const r=await e.send("Page.navigate",{url:t,referrer:i,frameId:n});return a=!!r.loaderId,r.errorText?new Error(`${r.errorText} at ${t}`):null}catch(e){return e}}(this._client,t,n,e._id),s.timeoutOrTerminationPromise()]);if(l||(l=await Promise.race([s.timeoutOrTerminationPromise(),a?s.newDocumentNavigationPromise():s.sameDocumentNavigationPromise()])),s.dispose(),l)throw l;return s.navigationResponse()}async waitForFrameNavigation(e,t={}){p(t);const{waitUntil:i=["load"],timeout:n=this._timeoutSettings.navigationTimeout()}=t,r=new c.LifecycleWatcher(this,e,i,n),o=await Promise.race([r.timeoutOrTerminationPromise(),r.sameDocumentNavigationPromise(),r.newDocumentNavigationPromise()]);if(r.dispose(),o)throw o;return r.navigationResponse()}async _onFrameMoved(e){"iframe"===e.targetInfo.type&&n.debug("puppeteer:frame")(`The frame '${e.targetInfo.targetId}' moved to another session. Out-of-process iframes (OOPIF) are not supported by Puppeteer yet. https://github.com/puppeteer/puppeteer/issues/2548`)}_onLifecycleEvent(e){const i=this._frames.get(e.frameId);i&&(i._onLifecycleEvent(e.loaderId,e.name),this.emit(t.FrameManagerEmittedEvents.LifecycleEvent,i))}_onFrameStoppedLoading(e){const i=this._frames.get(e);i&&(i._onLoadingStopped(),this.emit(t.FrameManagerEmittedEvents.LifecycleEvent,i))}_handleFrameTree(e){if(e.frame.parentId&&this._onFrameAttached(e.frame.id,e.frame.parentId),this._onFrameNavigated(e.frame),e.childFrames)for(const t of e.childFrames)this._handleFrameTree(t)}page(){return this._page}mainFrame(){return this._mainFrame}frames(){return Array.from(this._frames.values())}frame(e){return this._frames.get(e)||null}_onFrameAttached(e,i){if(this._frames.has(e))return;o.assert(i);const n=this._frames.get(i),r=new h(this,n,e);this._frames.set(r._id,r),this.emit(t.FrameManagerEmittedEvents.FrameAttached,r)}_onFrameNavigated(e){const i=!e.parentId;let n=i?this._mainFrame:this._frames.get(e.id);if(o.assert(i||n,"We either navigate top level or have old version of the navigated frame"),n)for(const e of n.childFrames())this._removeFramesRecursively(e);i&&(n?(this._frames.delete(n._id),n._id=e.id):n=new h(this,null,e.id),this._frames.set(e.id,n),this._mainFrame=n),n._navigated(e),this.emit(t.FrameManagerEmittedEvents.FrameNavigated,n)}async _ensureIsolatedWorld(e){this._isolatedWorlds.has(e)||(this._isolatedWorlds.add(e),await this._client.send("Page.addScriptToEvaluateOnNewDocument",{source:"//# sourceURL="+a.EVALUATION_SCRIPT_URL,worldName:e}),await Promise.all(this.frames().map(t=>this._client.send("Page.createIsolatedWorld",{frameId:t._id,worldName:e,grantUniveralAccess:!0}).catch(s.debugError))))}_onFrameNavigatedWithinDocument(e,i){const n=this._frames.get(e);n&&(n._navigatedWithinDocument(i),this.emit(t.FrameManagerEmittedEvents.FrameNavigatedWithinDocument,n),this.emit(t.FrameManagerEmittedEvents.FrameNavigated,n))}_onFrameDetached(e){const t=this._frames.get(e);t&&this._removeFramesRecursively(t)}_onExecutionContextCreated(e){const t=e.auxData,i=t?t.frameId:null,n=this._frames.get(i)||null;let r=null;n&&(e.auxData&&e.auxData.isDefault?r=n._mainWorld:"__puppeteer_utility_world__"!==e.name||n._secondaryWorld._hasContext()||(r=n._secondaryWorld));const o=new a.ExecutionContext(this._client,e,r);r&&r._setContext(o),this._contextIdToContext.set(e.id,o)}_onExecutionContextDestroyed(e){const t=this._contextIdToContext.get(e);t&&(this._contextIdToContext.delete(e),t._world&&t._world._setContext(null))}_onExecutionContextsCleared(){for(const e of this._contextIdToContext.values())e._world&&e._world._setContext(null);this._contextIdToContext.clear()}executionContextById(e){const t=this._contextIdToContext.get(e);return o.assert(t,"INTERNAL ERROR: missing context with id = "+e),t}_removeFramesRecursively(e){for(const t of e.childFrames())this._removeFramesRecursively(t);e._detach(),this._frames.delete(e._id),this.emit(t.FrameManagerEmittedEvents.FrameDetached,e)}}t.FrameManager=u;class h{constructor(e,t,i){this._url="",this._detached=!1,this._loaderId="",this._lifecycleEvents=new Set,this._frameManager=e,this._parentFrame=t,this._url="",this._id=i,this._detached=!1,this._loaderId="",this._mainWorld=new l.DOMWorld(e,this,e._timeoutSettings),this._secondaryWorld=new l.DOMWorld(e,this,e._timeoutSettings),this._childFrames=new Set,this._parentFrame&&this._parentFrame._childFrames.add(this)}async goto(e,t={}){return await this._frameManager.navigateFrame(this,e,t)}async waitForNavigation(e={}){return await this._frameManager.waitForFrameNavigation(this,e)}executionContext(){return this._mainWorld.executionContext()}async evaluateHandle(e,...t){return this._mainWorld.evaluateHandle(e,...t)}async evaluate(e,...t){return this._mainWorld.evaluate(e,...t)}async $(e){return this._mainWorld.$(e)}async $x(e){return this._mainWorld.$x(e)}async $eval(e,t,...i){return this._mainWorld.$eval(e,t,...i)}async $$eval(e,t,...i){return this._mainWorld.$$eval(e,t,...i)}async $$(e){return this._mainWorld.$$(e)}async content(){return this._secondaryWorld.content()}async setContent(e,t={}){return this._secondaryWorld.setContent(e,t)}name(){return this._name||""}url(){return this._url}parentFrame(){return this._parentFrame}childFrames(){return Array.from(this._childFrames)}isDetached(){return this._detached}async addScriptTag(e){return this._mainWorld.addScriptTag(e)}async addStyleTag(e){return this._mainWorld.addStyleTag(e)}async click(e,t={}){return this._secondaryWorld.click(e,t)}async focus(e){return this._secondaryWorld.focus(e)}async hover(e){return this._secondaryWorld.hover(e)}select(e,...t){return this._secondaryWorld.select(e,...t)}async tap(e){return this._secondaryWorld.tap(e)}async type(e,t,i){return this._mainWorld.type(e,t,i)}waitFor(e,t={},...i){if(console.warn("waitFor is deprecated and will be removed in a future release. See https://github.com/puppeteer/puppeteer/issues/6214 for details and how to migrate your code."),s.helper.isString(e)){const i=e;return i.startsWith("//")?this.waitForXPath(i,t):this.waitForSelector(i,t)}return s.helper.isNumber(e)?new Promise(t=>setTimeout(t,e)):"function"==typeof e?this.waitForFunction(e,t,...i):Promise.reject(new Error("Unsupported target type: "+typeof e))}waitForTimeout(e){return new Promise(t=>{setTimeout(t,e)})}async waitForSelector(e,t={}){const i=await this._secondaryWorld.waitForSelector(e,t);if(!i)return null;const n=await this._mainWorld.executionContext(),r=await n._adoptElementHandle(i);return await i.dispose(),r}async waitForXPath(e,t={}){const i=await this._secondaryWorld.waitForXPath(e,t);if(!i)return null;const n=await this._mainWorld.executionContext(),r=await n._adoptElementHandle(i);return await i.dispose(),r}waitForFunction(e,t={},...i){return this._mainWorld.waitForFunction(e,t,...i)}async title(){return this._secondaryWorld.title()}_navigated(e){this._name=e.name,this._url=`${e.url}${e.urlFragment||""}`}_navigatedWithinDocument(e){this._url=e}_onLifecycleEvent(e,t){"init"===t&&(this._loaderId=e,this._lifecycleEvents.clear()),this._lifecycleEvents.add(t)}_onLoadingStopped(){this._lifecycleEvents.add("DOMContentLoaded"),this._lifecycleEvents.add("load")}_detach(){this._detached=!0,this._mainWorld._detach(),this._secondaryWorld._detach(),this._parentFrame&&this._parentFrame._childFrames.delete(this),this._parentFrame=null}}function p(e){o.assert(void 0===e.networkIdleTimeout,"ERROR: networkIdleTimeout option is no longer supported."),o.assert(void 0===e.networkIdleInflight,"ERROR: networkIdleInflight option is no longer supported."),o.assert("networkidle"!==e.waitUntil,'ERROR: "networkidle" option is no longer supported. Use "networkidle2" instead')}t.Frame=h},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExecutionContext=t.EVALUATION_SCRIPT_URL=void 0;const n=i(5),r=i(9),o=i(52);t.EVALUATION_SCRIPT_URL="__puppeteer_evaluation_script__";const s=/^[\040\t]*\/\/[@#] sourceURL=\s*(\S*?)\s*$/m;t.ExecutionContext=class{constructor(e,t,i){this._client=e,this._world=i,this._contextId=t.id,this._contextName=t.name}frame(){return this._world?this._world.frame():null}async evaluate(e,...t){return await this._evaluateInternal(!0,e,...t)}async evaluateHandle(e,...t){return this._evaluateInternal(!1,e,...t)}async _evaluateInternal(e,i,...n){const a="//# sourceURL="+t.EVALUATION_SCRIPT_URL;if(r.helper.isString(i)){const t=this._contextId,n=i,c=s.test(n)?n:n+"\n"+a,{exceptionDetails:l,result:d}=await this._client.send("Runtime.evaluate",{expression:c,contextId:t,returnByValue:e,awaitPromise:!0,userGesture:!0}).catch(h);if(l)throw new Error("Evaluation failed: "+r.helper.getExceptionMessage(l));return e?r.helper.valueFromRemoteObject(d):o.createJSHandle(this,d)}if("function"!=typeof i)throw new Error(`Expected to get |string| or |function| as the first argument, but got "${i}" instead.`);let c,l=i.toString();try{new Function("("+l+")")}catch(e){l=l.startsWith("async ")?"async function "+l.substring("async ".length):"function "+l;try{new Function("("+l+")")}catch(e){throw new Error("Passed function is not well-serializable!")}}try{c=this._client.send("Runtime.callFunctionOn",{functionDeclaration:l+"\n"+a+"\n",executionContextId:this._contextId,arguments:n.map(function(e){if("bigint"==typeof e)return{unserializableValue:e.toString()+"n"};if(Object.is(e,-0))return{unserializableValue:"-0"};if(Object.is(e,1/0))return{unserializableValue:"Infinity"};if(Object.is(e,-1/0))return{unserializableValue:"-Infinity"};if(Object.is(e,NaN))return{unserializableValue:"NaN"};const t=e&&e instanceof o.JSHandle?e:null;if(t){if(t._context!==this)throw new Error("JSHandles can be evaluated only in the context they were created!");if(t._disposed)throw new Error("JSHandle is disposed!");return t._remoteObject.unserializableValue?{unserializableValue:t._remoteObject.unserializableValue}:t._remoteObject.objectId?{objectId:t._remoteObject.objectId}:{value:t._remoteObject.value}}return{value:e}}.bind(this)),returnByValue:e,awaitPromise:!0,userGesture:!0})}catch(e){throw e instanceof TypeError&&e.message.startsWith("Converting circular structure to JSON")&&(e.message+=" Are you passing a nested JSHandle?"),e}const{exceptionDetails:d,result:u}=await c.catch(h);if(d)throw new Error("Evaluation failed: "+r.helper.getExceptionMessage(d));return e?r.helper.valueFromRemoteObject(u):o.createJSHandle(this,u);function h(e){if(e.message.includes("Object reference chain is too long"))return{result:{type:"undefined"}};if(e.message.includes("Object couldn't be returned by value"))return{result:{type:"undefined"}};if(e.message.endsWith("Cannot find context with specified id")||e.message.endsWith("Inspected target navigated or closed"))throw new Error("Execution context was destroyed, most likely because of a navigation.");throw e}}async queryObjects(e){n.assert(!e._disposed,"Prototype JSHandle is disposed!"),n.assert(e._remoteObject.objectId,"Prototype JSHandle must not be referencing primitive value");const t=await this._client.send("Runtime.queryObjects",{prototypeObjectId:e._remoteObject.objectId});return o.createJSHandle(this,t.objects)}async _adoptBackendNodeId(e){const{object:t}=await this._client.send("DOM.resolveNode",{backendNodeId:e,executionContextId:this._contextId});return o.createJSHandle(this,t)}async _adoptElementHandle(e){n.assert(e.executionContext()!==this,"Cannot adopt handle that already belongs to this execution context"),n.assert(this._world,"Cannot adopt handle without DOMWorld");const t=await this._client.send("DOM.describeNode",{objectId:e._remoteObject.objectId});return this._adoptBackendNodeId(t.node.backendNodeId)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getQueryHandlerAndSelector=t.clearCustomQueryHandlers=t.customQueryHandlerNames=t.unregisterCustomQueryHandler=t.registerCustomQueryHandler=void 0;const n=i(238);function r(e){const t={};return e.queryOne&&(t.queryOne=async(t,i)=>{const n=await t.evaluateHandle(e.queryOne,i),r=n.asElement();return r||(await n.dispose(),null)},t.waitFor=(t,i,n)=>t.waitForSelectorInPage(e.queryOne,i,n)),e.queryAll&&(t.queryAll=async(t,i)=>{const n=await t.evaluateHandle(e.queryAll,i),r=await n.getProperties();await n.dispose();const o=[];for(const e of r.values()){const t=e.asElement();t&&o.push(t)}return o},t.queryAllArray=async(t,i)=>{const n=await t.evaluateHandle(e.queryAll,i);return await n.evaluateHandle(e=>Array.from(e))}),t}const o=r({queryOne:(e,t)=>e.querySelector(t),queryAll:(e,t)=>e.querySelectorAll(t)}),s=r({queryOne:(e,t)=>{let i=null;const n=e=>{const r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT);do{const e=r.currentNode;e.shadowRoot&&n(e.shadowRoot),e instanceof ShadowRoot||!i&&e.matches(t)&&(i=e)}while(!i&&r.nextNode())};return e instanceof Document&&(e=e.documentElement),n(e),i},queryAll:(e,t)=>{const i=[],n=e=>{const r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT);do{const e=r.currentNode;e.shadowRoot&&n(e.shadowRoot),e instanceof ShadowRoot||e.matches(t)&&i.push(e)}while(r.nextNode())};return e instanceof Document&&(e=e.documentElement),n(e),i}}),a=new Map([["aria",n.ariaHandler],["pierce",s]]),c=new Map(a);function l(e){c.has(e)&&!a.has(e)&&c.delete(e)}function d(){return[...c.keys()].filter(e=>!a.has(e))}t.registerCustomQueryHandler=function(e,t){if(c.get(e))throw new Error(`A custom query handler named "${e}" already exists`);if(!/^[a-zA-Z]+$/.test(e))throw new Error("Custom query handler names may only contain [a-zA-Z]");const i=r(t);c.set(e,i)},t.unregisterCustomQueryHandler=l,t.customQueryHandlerNames=d,t.clearCustomQueryHandlers=function(){d().forEach(l)},t.getQueryHandlerAndSelector=function(e){if(!/^[a-zA-Z]+\//.test(e))return{updatedSelector:e,queryHandler:o};const t=e.indexOf("/"),i=e.slice(0,t),n=e.slice(t+1),r=c.get(i);if(!r)throw new Error(`Query set to use "${i}", but no query handler of that name was found`);return{updatedSelector:n,queryHandler:r}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkManager=t.NetworkManagerEmittedEvents=void 0;const n=i(31),r=i(5),o=i(9),s=i(239),a=i(240);t.NetworkManagerEmittedEvents={Request:Symbol("NetworkManager.Request"),Response:Symbol("NetworkManager.Response"),RequestFailed:Symbol("NetworkManager.RequestFailed"),RequestFinished:Symbol("NetworkManager.RequestFinished")};class c extends n.EventEmitter{constructor(e,t,i){super(),this._requestIdToRequest=new Map,this._requestIdToRequestWillBeSentEvent=new Map,this._extraHTTPHeaders={},this._credentials=null,this._attemptedAuthentications=new Set,this._userRequestInterceptionEnabled=!1,this._protocolRequestInterceptionEnabled=!1,this._userCacheDisabled=!1,this._requestIdToInterceptionId=new Map,this._emulatedNetworkConditions={offline:!1,upload:-1,download:-1,latency:0},this._client=e,this._ignoreHTTPSErrors=t,this._frameManager=i,this._client.on("Fetch.requestPaused",this._onRequestPaused.bind(this)),this._client.on("Fetch.authRequired",this._onAuthRequired.bind(this)),this._client.on("Network.requestWillBeSent",this._onRequestWillBeSent.bind(this)),this._client.on("Network.requestServedFromCache",this._onRequestServedFromCache.bind(this)),this._client.on("Network.responseReceived",this._onResponseReceived.bind(this)),this._client.on("Network.loadingFinished",this._onLoadingFinished.bind(this)),this._client.on("Network.loadingFailed",this._onLoadingFailed.bind(this))}async initialize(){await this._client.send("Network.enable"),this._ignoreHTTPSErrors&&await this._client.send("Security.setIgnoreCertificateErrors",{ignore:!0})}async authenticate(e){this._credentials=e,await this._updateProtocolRequestInterception()}async setExtraHTTPHeaders(e){this._extraHTTPHeaders={};for(const t of Object.keys(e)){const i=e[t];r.assert(o.helper.isString(i),`Expected value of header "${t}" to be String, but "${typeof i}" is found.`),this._extraHTTPHeaders[t.toLowerCase()]=i}await this._client.send("Network.setExtraHTTPHeaders",{headers:this._extraHTTPHeaders})}extraHTTPHeaders(){return Object.assign({},this._extraHTTPHeaders)}async setOfflineMode(e){this._emulatedNetworkConditions.offline=e,await this._updateNetworkConditions()}async emulateNetworkConditions(e){this._emulatedNetworkConditions.upload=e?e.upload:-1,this._emulatedNetworkConditions.download=e?e.download:-1,this._emulatedNetworkConditions.latency=e?e.latency:0,await this._updateNetworkConditions()}async _updateNetworkConditions(){await this._client.send("Network.emulateNetworkConditions",{offline:this._emulatedNetworkConditions.offline,latency:this._emulatedNetworkConditions.latency,uploadThroughput:this._emulatedNetworkConditions.upload,downloadThroughput:this._emulatedNetworkConditions.download})}async setUserAgent(e){await this._client.send("Network.setUserAgentOverride",{userAgent:e})}async setCacheEnabled(e){this._userCacheDisabled=!e,await this._updateProtocolCacheDisabled()}async setRequestInterception(e){this._userRequestInterceptionEnabled=e,await this._updateProtocolRequestInterception()}async _updateProtocolRequestInterception(){const e=this._userRequestInterceptionEnabled||!!this._credentials;e!==this._protocolRequestInterceptionEnabled&&(this._protocolRequestInterceptionEnabled=e,e?await Promise.all([this._updateProtocolCacheDisabled(),this._client.send("Fetch.enable",{handleAuthRequests:!0,patterns:[{urlPattern:"*"}]})]):await Promise.all([this._updateProtocolCacheDisabled(),this._client.send("Fetch.disable")]))}async _updateProtocolCacheDisabled(){await this._client.send("Network.setCacheDisabled",{cacheDisabled:this._userCacheDisabled||this._protocolRequestInterceptionEnabled})}_onRequestWillBeSent(e){if(!this._protocolRequestInterceptionEnabled||e.request.url.startsWith("data:"))this._onRequest(e,null);else{const t=e.requestId,i=this._requestIdToInterceptionId.get(t);i?(this._onRequest(e,i),this._requestIdToInterceptionId.delete(t)):this._requestIdToRequestWillBeSentEvent.set(e.requestId,e)}}_onAuthRequired(e){let t="Default";this._attemptedAuthentications.has(e.requestId)?t="CancelAuth":this._credentials&&(t="ProvideCredentials",this._attemptedAuthentications.add(e.requestId));const{username:i,password:n}=this._credentials||{username:void 0,password:void 0};this._client.send("Fetch.continueWithAuth",{requestId:e.requestId,authChallengeResponse:{response:t,username:i,password:n}}).catch(o.debugError)}_onRequestPaused(e){!this._userRequestInterceptionEnabled&&this._protocolRequestInterceptionEnabled&&this._client.send("Fetch.continueRequest",{requestId:e.requestId}).catch(o.debugError);const t=e.networkId,i=e.requestId;if(t&&this._requestIdToRequestWillBeSentEvent.has(t)){const e=this._requestIdToRequestWillBeSentEvent.get(t);this._onRequest(e,i),this._requestIdToRequestWillBeSentEvent.delete(t)}else this._requestIdToInterceptionId.set(t,i)}_onRequest(e,i){let n=[];if(e.redirectResponse){const t=this._requestIdToRequest.get(e.requestId);t&&(this._handleRequestRedirect(t,e.redirectResponse),n=t._redirectChain)}const r=e.frameId?this._frameManager.frame(e.frameId):null,o=new s.HTTPRequest(this._client,r,i,this._userRequestInterceptionEnabled,e,n);this._requestIdToRequest.set(e.requestId,o),this.emit(t.NetworkManagerEmittedEvents.Request,o)}_onRequestServedFromCache(e){const t=this._requestIdToRequest.get(e.requestId);t&&(t._fromMemoryCache=!0)}_handleRequestRedirect(e,i){const n=new a.HTTPResponse(this._client,e,i);e._response=n,e._redirectChain.push(e),n._resolveBody(new Error("Response body is unavailable for redirect responses")),this._requestIdToRequest.delete(e._requestId),this._attemptedAuthentications.delete(e._interceptionId),this.emit(t.NetworkManagerEmittedEvents.Response,n),this.emit(t.NetworkManagerEmittedEvents.RequestFinished,e)}_onResponseReceived(e){const i=this._requestIdToRequest.get(e.requestId);if(!i)return;const n=new a.HTTPResponse(this._client,i,e.response);i._response=n,this.emit(t.NetworkManagerEmittedEvents.Response,n)}_onLoadingFinished(e){const i=this._requestIdToRequest.get(e.requestId);i&&(i.response()&&i.response()._resolveBody(null),this._requestIdToRequest.delete(i._requestId),this._attemptedAuthentications.delete(i._interceptionId),this.emit(t.NetworkManagerEmittedEvents.RequestFinished,i))}_onLoadingFailed(e){const i=this._requestIdToRequest.get(e.requestId);if(!i)return;i._failureText=e.errorText;const n=i.response();n&&n._resolveBody(null),this._requestIdToRequest.delete(i._requestId),this._attemptedAuthentications.delete(i._interceptionId),this.emit(t.NetworkManagerEmittedEvents.RequestFailed,i)}}t.NetworkManager=c},function(e,t,i){e.exports=_;var n=i(2),r=i(133),o=i(71),s=(o.Minimatch,i(22)),a=i(7).EventEmitter,c=i(3),l=i(43),d=i(72),u=i(282),h=i(134),p=(h.alphasort,h.alphasorti,h.setopts),f=h.ownProp,A=i(283),m=(i(1),h.childrenIgnored),g=h.isIgnored,y=i(55);function _(e,t,i){if("function"==typeof t&&(i=t,t={}),t||(t={}),t.sync){if(i)throw new TypeError("callback provided to sync glob");return u(e,t)}return new v(e,t,i)}_.sync=u;var b=_.GlobSync=u.GlobSync;function v(e,t,i){if("function"==typeof t&&(i=t,t=null),t&&t.sync){if(i)throw new TypeError("callback provided to sync glob");return new b(e,t)}if(!(this instanceof v))return new v(e,t,i);p(this,e,t),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),"function"==typeof i&&(i=y(i),this.on("error",i),this.on("end",(function(e){i(null,e)})));var r=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===n)return s();for(var o=0;o<n;o++)this._process(this.minimatch.set[o],o,!1,s);function s(){--r._processing,r._processing<=0&&r._finish()}}_.glob=_,_.hasMagic=function(e,t){var i=function(e,t){if(null===t||"object"!=typeof t)return e;for(var i=Object.keys(t),n=i.length;n--;)e[i[n]]=t[i[n]];return e}({},t);i.noprocess=!0;var n=new v(e,i).minimatch.set;if(!e)return!1;if(n.length>1)return!0;for(var r=0;r<n[0].length;r++)if("string"!=typeof n[0][r])return!0;return!1},_.Glob=v,s(v,a),v.prototype._finish=function(){if(l(this instanceof v),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();h.finish(this),this.emit("end",this.found)}},v.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,i=0;i<this.matches.length;i++)this._realpathSet(i,n)}function n(){0==--e&&t._finish()}},v.prototype._realpathSet=function(e,t){var i=this.matches[e];if(!i)return t();var n=Object.keys(i),o=this,s=n.length;if(0===s)return t();var a=this.matches[e]=Object.create(null);n.forEach((function(i,n){i=o._makeAbs(i),r.realpath(i,o.realpathCache,(function(n,r){n?"stat"===n.syscall?a[i]=!0:o.emit("error",n):a[r]=!0,0==--s&&(o.matches[e]=a,t())}))}))},v.prototype._mark=function(e){return h.mark(this,e)},v.prototype._makeAbs=function(e){return h.makeAbs(this,e)},v.prototype.abort=function(){this.aborted=!0,this.emit("abort")},v.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},v.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var i=e[t];this._emitMatch(i[0],i[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(t=0;t<n.length;t++){var r=n[t];this._processing--,this._process(r[0],r[1],r[2],r[3])}}}},v.prototype._process=function(e,t,i,n){if(l(this instanceof v),l("function"==typeof n),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,i,n]);else{for(var r,s=0;"string"==typeof e[s];)s++;switch(s){case e.length:return void this._processSimple(e.join("/"),t,n);case 0:r=null;break;default:r=e.slice(0,s).join("/")}var a,c=e.slice(s);null===r?a=".":d(r)||d(e.join("/"))?(r&&d(r)||(r="/"+r),a=r):a=r;var u=this._makeAbs(a);if(m(this,a))return n();c[0]===o.GLOBSTAR?this._processGlobStar(r,a,u,c,t,i,n):this._processReaddir(r,a,u,c,t,i,n)}},v.prototype._processReaddir=function(e,t,i,n,r,o,s){var a=this;this._readdir(i,o,(function(c,l){return a._processReaddir2(e,t,i,n,r,o,l,s)}))},v.prototype._processReaddir2=function(e,t,i,n,r,o,s,a){if(!s)return a();for(var l=n[0],d=!!this.minimatch.negate,u=l._glob,h=this.dot||"."===u.charAt(0),p=[],f=0;f<s.length;f++){if("."!==(m=s[f]).charAt(0)||h)(d&&!e?!m.match(l):m.match(l))&&p.push(m)}var A=p.length;if(0===A)return a();if(1===n.length&&!this.mark&&!this.stat){this.matches[r]||(this.matches[r]=Object.create(null));for(f=0;f<A;f++){var m=p[f];e&&(m="/"!==e?e+"/"+m:e+m),"/"!==m.charAt(0)||this.nomount||(m=c.join(this.root,m)),this._emitMatch(r,m)}return a()}n.shift();for(f=0;f<A;f++){m=p[f];e&&(m="/"!==e?e+"/"+m:e+m),this._process([m].concat(n),r,o,a)}a()},v.prototype._emitMatch=function(e,t){if(!this.aborted&&!g(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var i=d(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=i),!this.matches[e][t]){if(this.nodir){var n=this.cache[i];if("DIR"===n||Array.isArray(n))return}this.matches[e][t]=!0;var r=this.statCache[i];r&&this.emit("stat",t,r),this.emit("match",t)}}},v.prototype._readdirInGlobStar=function(e,t){if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var i=this,r=A("lstat\0"+e,(function(n,r){if(n&&"ENOENT"===n.code)return t();var o=r&&r.isSymbolicLink();i.symlinks[e]=o,o||!r||r.isDirectory()?i._readdir(e,!1,t):(i.cache[e]="FILE",t())}));r&&n.lstat(e,r)}},v.prototype._readdir=function(e,t,i){if(!this.aborted&&(i=A("readdir\0"+e+"\0"+t,i))){if(t&&!f(this.symlinks,e))return this._readdirInGlobStar(e,i);if(f(this.cache,e)){var r=this.cache[e];if(!r||"FILE"===r)return i();if(Array.isArray(r))return i(null,r)}n.readdir(e,function(e,t,i){return function(n,r){n?e._readdirError(t,n,i):e._readdirEntries(t,r,i)}}(this,e,i))}},v.prototype._readdirEntries=function(e,t,i){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var r=t[n];r="/"===e?e+r:e+"/"+r,this.cache[r]=!0}return this.cache[e]=t,i(null,t)}},v.prototype._readdirError=function(e,t,i){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var r=new Error(t.code+" invalid cwd "+this.cwd);r.path=this.cwd,r.code=t.code,this.emit("error",r),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t)}return i()}},v.prototype._processGlobStar=function(e,t,i,n,r,o,s){var a=this;this._readdir(i,o,(function(c,l){a._processGlobStar2(e,t,i,n,r,o,l,s)}))},v.prototype._processGlobStar2=function(e,t,i,n,r,o,s,a){if(!s)return a();var c=n.slice(1),l=e?[e]:[],d=l.concat(c);this._process(d,r,!1,a);var u=this.symlinks[i],h=s.length;if(u&&o)return a();for(var p=0;p<h;p++){if("."!==s[p].charAt(0)||this.dot){var f=l.concat(s[p],c);this._process(f,r,!0,a);var A=l.concat(s[p],n);this._process(A,r,!0,a)}}a()},v.prototype._processSimple=function(e,t,i){var n=this;this._stat(e,(function(r,o){n._processSimple2(e,t,r,o,i)}))},v.prototype._processSimple2=function(e,t,i,n,r){if(this.matches[t]||(this.matches[t]=Object.create(null)),!n)return r();if(e&&d(e)&&!this.nomount){var o=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=c.join(this.root,e):(e=c.resolve(this.root,e),o&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),r()},v.prototype._stat=function(e,t){var i=this._makeAbs(e),r="/"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&f(this.cache,i)){var o=this.cache[i];if(Array.isArray(o)&&(o="DIR"),!r||"DIR"===o)return t(null,o);if(r&&"FILE"===o)return t()}var s=this.statCache[i];if(void 0!==s){if(!1===s)return t(null,s);var a=s.isDirectory()?"DIR":"FILE";return r&&"FILE"===a?t():t(null,a,s)}var c=this,l=A("stat\0"+i,(function(r,o){if(o&&o.isSymbolicLink())return n.stat(i,(function(n,r){n?c._stat2(e,i,null,o,t):c._stat2(e,i,n,r,t)}));c._stat2(e,i,r,o,t)}));l&&n.lstat(i,l)},v.prototype._stat2=function(e,t,i,n,r){if(i&&("ENOENT"===i.code||"ENOTDIR"===i.code))return this.statCache[t]=!1,r();var o="/"===e.slice(-1);if(this.statCache[t]=n,"/"===t.slice(-1)&&n&&!n.isDirectory())return r(null,!1,n);var s=!0;return n&&(s=n.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||s,o&&"FILE"===s?r():r(null,s,n)}},function(e,t,i){e.exports=d,d.Minimatch=u;var n={sep:"/"};try{n=i(3)}catch(e){}var r=d.GLOBSTAR=u.GLOBSTAR={},o=i(278),s={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{});var c=/\/+/;function l(e,t){e=e||{},t=t||{};var i={};return Object.keys(t).forEach((function(e){i[e]=t[e]})),Object.keys(e).forEach((function(t){i[t]=e[t]})),i}function d(e,t,i){if("string"!=typeof t)throw new TypeError("glob pattern string required");return i||(i={}),!(!i.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new u(t,i).match(e))}function u(e,t){if(!(this instanceof u))return new u(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==n.sep&&(e=e.split(n.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function h(e,t){if(t||(t=this instanceof u?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:o(e)}d.filter=function(e,t){return t=t||{},function(i,n,r){return d(i,e,t)}},d.defaults=function(e){if(!e||!Object.keys(e).length)return d;var t=d,i=function(i,n,r){return t.minimatch(i,n,l(e,r))};return i.Minimatch=function(i,n){return new t.Minimatch(i,l(e,n))},i},u.defaults=function(e){return e&&Object.keys(e).length?d.defaults(e).Minimatch:u},u.prototype.debug=function(){},u.prototype.make=function(){if(this._made)return;var e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var i=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error);this.debug(this.pattern,i),i=this.globParts=i.map((function(e){return e.split(c)})),this.debug(this.pattern,i),i=i.map((function(e,t,i){return e.map(this.parse,this)}),this),this.debug(this.pattern,i),i=i.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,i),this.set=i},u.prototype.parseNegate=function(){var e=this.pattern,t=!1,i=this.options,n=0;if(i.nonegate)return;for(var r=0,o=e.length;r<o&&"!"===e.charAt(r);r++)t=!t,n++;n&&(this.pattern=e.substr(n));this.negate=t},d.braceExpand=function(e,t){return h(e,t)},u.prototype.braceExpand=h,u.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var i=this.options;if(!i.noglobstar&&"**"===e)return r;if(""===e)return"";var n,o="",c=!!i.nocase,l=!1,d=[],u=[],h=!1,f=-1,A=-1,m="."===e.charAt(0)?"":i.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",g=this;function y(){if(n){switch(n){case"*":o+="[^/]*?",c=!0;break;case"?":o+="[^/]",c=!0;break;default:o+="\\"+n}g.debug("clearStateChar %j %j",n,o),n=!1}}for(var _,b=0,v=e.length;b<v&&(_=e.charAt(b));b++)if(this.debug("%s\t%s %s %j",e,b,o,_),l&&a[_])o+="\\"+_,l=!1;else switch(_){case"/":return!1;case"\\":y(),l=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,b,o,_),h){this.debug("  in class"),"!"===_&&b===A+1&&(_="^"),o+=_;continue}g.debug("call clearStateChar %j",n),y(),n=_,i.noext&&y();continue;case"(":if(h){o+="(";continue}if(!n){o+="\\(";continue}d.push({type:n,start:b-1,reStart:o.length,open:s[n].open,close:s[n].close}),o+="!"===n?"(?:(?!(?:":"(?:",this.debug("plType %j %j",n,o),n=!1;continue;case")":if(h||!d.length){o+="\\)";continue}y(),c=!0;var C=d.pop();o+=C.close,"!"===C.type&&u.push(C),C.reEnd=o.length;continue;case"|":if(h||!d.length||l){o+="\\|",l=!1;continue}y(),o+="|";continue;case"[":if(y(),h){o+="\\"+_;continue}h=!0,A=b,f=o.length,o+=_;continue;case"]":if(b===A+1||!h){o+="\\"+_,l=!1;continue}if(h){var w=e.substring(A+1,b);try{RegExp("["+w+"]")}catch(e){var x=this.parse(w,p);o=o.substr(0,f)+"\\["+x[0]+"\\]",c=c||x[1],h=!1;continue}}c=!0,h=!1,o+=_;continue;default:y(),l?l=!1:!a[_]||"^"===_&&h||(o+="\\"),o+=_}h&&(w=e.substr(A+1),x=this.parse(w,p),o=o.substr(0,f)+"\\["+x[0],c=c||x[1]);for(C=d.pop();C;C=d.pop()){var E=o.slice(C.reStart+C.open.length);this.debug("setting tail",o,C),E=E.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,i){return i||(i="\\"),t+t+i+"|"})),this.debug("tail=%j\n   %s",E,E,C,o);var k="*"===C.type?"[^/]*?":"?"===C.type?"[^/]":"\\"+C.type;c=!0,o=o.slice(0,C.reStart)+k+"\\("+E}y(),l&&(o+="\\\\");var S=!1;switch(o.charAt(0)){case".":case"[":case"(":S=!0}for(var I=u.length-1;I>-1;I--){var M=u[I],O=o.slice(0,M.reStart),T=o.slice(M.reStart,M.reEnd-8),P=o.slice(M.reEnd-8,M.reEnd),R=o.slice(M.reEnd);P+=R;var L=O.split("(").length-1,F=R;for(b=0;b<L;b++)F=F.replace(/\)[+*?]?/,"");var N="";""===(R=F)&&t!==p&&(N="$"),o=O+T+R+N+P}""!==o&&c&&(o="(?=.)"+o);S&&(o=m+o);if(t===p)return[o,c];if(!c)return function(e){return e.replace(/\\(.)/g,"$1")}(e);var B=i.nocase?"i":"";try{var K=new RegExp("^"+o+"$",B)}catch(e){return new RegExp("$.")}return K._glob=e,K._src=o,K};var p={};d.makeRe=function(e,t){return new u(e,t||{}).makeRe()},u.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,i=t.noglobstar?"[^/]*?":t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",n=t.nocase?"i":"",o=e.map((function(e){return e.map((function(e){return e===r?i:"string"==typeof e?function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(e):e._src})).join("\\/")})).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,n)}catch(e){this.regexp=!1}return this.regexp},d.match=function(e,t,i){var n=new u(t,i=i||{});return e=e.filter((function(e){return n.match(e)})),n.options.nonull&&!e.length&&e.push(t),e},u.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var i=this.options;"/"!==n.sep&&(e=e.split(n.sep).join("/"));e=e.split(c),this.debug(this.pattern,"split",e);var r,o,s=this.set;for(this.debug(this.pattern,"set",s),o=e.length-1;o>=0&&!(r=e[o]);o--);for(o=0;o<s.length;o++){var a=s[o],l=e;if(i.matchBase&&1===a.length&&(l=[r]),this.matchOne(l,a,t))return!!i.flipNegate||!this.negate}return!i.flipNegate&&this.negate},u.prototype.matchOne=function(e,t,i){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,s=0,a=e.length,c=t.length;o<a&&s<c;o++,s++){this.debug("matchOne loop");var l,d=t[s],u=e[o];if(this.debug(t,d,u),!1===d)return!1;if(d===r){this.debug("GLOBSTAR",[t,d,u]);var h=o,p=s+1;if(p===c){for(this.debug("** at the end");o<a;o++)if("."===e[o]||".."===e[o]||!n.dot&&"."===e[o].charAt(0))return!1;return!0}for(;h<a;){var f=e[h];if(this.debug("\nglobstar while",e,h,t,p,f),this.matchOne(e.slice(h),t.slice(p),i))return this.debug("globstar found match!",h,a,f),!0;if("."===f||".."===f||!n.dot&&"."===f.charAt(0)){this.debug("dot detected!",e,h,t,p);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!i||(this.debug("\n>>> no match, partial?",e,h,t,p),h!==a))}if("string"==typeof d?(l=n.nocase?u.toLowerCase()===d.toLowerCase():u===d,this.debug("string match",d,u,l)):(l=u.match(d),this.debug("pattern match",d,u,l)),!l)return!1}if(o===a&&s===c)return!0;if(o===a)return i;if(s===c)return o===a-1&&""===e[o];throw new Error("wtf?")}},function(e,t,i){"use strict";function n(e){return"/"===e.charAt(0)}function r(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(e),i=t[1]||"",n=Boolean(i&&":"!==i.charAt(1));return Boolean(t[2]||n)}e.exports="win32"===process.platform?r:n,e.exports.posix=n,e.exports.win32=r},function(e,t,i){"use strict";var n=i(23).codes.ERR_STREAM_PREMATURE_CLOSE;function r(){}e.exports=function e(t,i,o){if("function"==typeof i)return e(t,null,i);i||(i={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];e.apply(this,n)}}}(o||r);var s=i.readable||!1!==i.readable&&t.readable,a=i.writable||!1!==i.writable&&t.writable,c=function(){t.writable||d()},l=t._writableState&&t._writableState.finished,d=function(){a=!1,l=!0,s||o.call(t)},u=t._readableState&&t._readableState.endEmitted,h=function(){s=!1,u=!0,a||o.call(t)},p=function(e){o.call(t,e)},f=function(){var e;return s&&!u?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):a&&!l?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},A=function(){t.req.on("finish",d)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",d),t.on("abort",f),t.req?A():t.on("request",A)),t.on("end",h),t.on("finish",d),!1!==i.error&&t.on("error",p),t.on("close",f),function(){t.removeListener("complete",d),t.removeListener("abort",f),t.removeListener("request",A),t.req&&t.req.removeListener("finish",d),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",d),t.removeListener("end",h),t.removeListener("error",p),t.removeListener("close",f)}}},function(e,t,i){"use strict";var n=i(24).codes.ERR_STREAM_PREMATURE_CLOSE;function r(){}e.exports=function e(t,i,o){if("function"==typeof i)return e(t,null,i);i||(i={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];e.apply(this,n)}}}(o||r);var s=i.readable||!1!==i.readable&&t.readable,a=i.writable||!1!==i.writable&&t.writable,c=function(){t.writable||d()},l=t._writableState&&t._writableState.finished,d=function(){a=!1,l=!0,s||o.call(t)},u=t._readableState&&t._readableState.endEmitted,h=function(){s=!1,u=!0,a||o.call(t)},p=function(e){o.call(t,e)},f=function(){var e;return s&&!u?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):a&&!l?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},A=function(){t.req.on("finish",d)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",d),t.on("abort",f),t.req?A():t.on("request",A)),t.on("end",h),t.on("finish",d),!1!==i.error&&t.on("error",p),t.on("close",f),function(){t.removeListener("complete",d),t.removeListener("abort",f),t.removeListener("request",A),t.req&&t.req.removeListener("finish",d),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",d),t.removeListener("end",h),t.removeListener("error",p),t.removeListener("close",f)}}},function(e,t){e.exports=require("dns")},function(e,t,i){"use strict";const n=i(3),r=new Map([["application/acad","dwg"],["application/applixware","aw"],["application/arj","arj"],["application/atom+xml","xml"],["application/atomcat+xml","atomcat"],["application/atomsvc+xml","atomsvc"],["application/base64",["mm","mme"]],["application/binhex","hqx"],["application/binhex4","hqx"],["application/book",["book","boo"]],["application/ccxml+xml,","ccxml"],["application/cdf","cdf"],["application/cdmi-capability","cdmia"],["application/cdmi-container","cdmic"],["application/cdmi-domain","cdmid"],["application/cdmi-object","cdmio"],["application/cdmi-queue","cdmiq"],["application/clariscad","ccad"],["application/commonground","dp"],["application/cu-seeme","cu"],["application/davmount+xml","davmount"],["application/drafting","drw"],["application/dsptype","tsp"],["application/dssc+der","dssc"],["application/dssc+xml","xdssc"],["application/dxf","dxf"],["application/ecmascript",["js","es"]],["application/emma+xml","emma"],["application/envoy","evy"],["application/epub+zip","epub"],["application/excel",["xls","xl","xla","xlb","xlc","xld","xlk","xll","xlm","xlt","xlv","xlw"]],["application/exi","exi"],["application/font-tdpfr","pfr"],["application/fractals","fif"],["application/freeloader","frl"],["application/futuresplash","spl"],["application/gnutar","tgz"],["application/groupwise","vew"],["application/hlp","hlp"],["application/hta","hta"],["application/hyperstudio","stk"],["application/i-deas","unv"],["application/iges",["iges","igs"]],["application/inf","inf"],["application/internet-property-stream","acx"],["application/ipfix","ipfix"],["application/java","class"],["application/java-archive","jar"],["application/java-byte-code","class"],["application/java-serialized-object","ser"],["application/java-vm","class"],["application/javascript","js"],["application/json","json"],["application/lha","lha"],["application/lzx","lzx"],["application/mac-binary","bin"],["application/mac-binhex","hqx"],["application/mac-binhex40","hqx"],["application/mac-compactpro","cpt"],["application/macbinary","bin"],["application/mads+xml","mads"],["application/marc","mrc"],["application/marcxml+xml","mrcx"],["application/mathematica","ma"],["application/mathml+xml","mathml"],["application/mbedlet","mbd"],["application/mbox","mbox"],["application/mcad","mcd"],["application/mediaservercontrol+xml","mscml"],["application/metalink4+xml","meta4"],["application/mets+xml","mets"],["application/mime","aps"],["application/mods+xml","mods"],["application/mp21","m21"],["application/mp4","mp4"],["application/mspowerpoint",["ppt","pot","pps","ppz"]],["application/msword",["doc","dot","w6w","wiz","word"]],["application/mswrite","wri"],["application/mxf","mxf"],["application/netmc","mcp"],["application/octet-stream",["*"]],["application/oda","oda"],["application/oebps-package+xml","opf"],["application/ogg","ogx"],["application/olescript","axs"],["application/onenote","onetoc"],["application/patch-ops-error+xml","xer"],["application/pdf","pdf"],["application/pgp-encrypted","asc"],["application/pgp-signature","pgp"],["application/pics-rules","prf"],["application/pkcs-12","p12"],["application/pkcs-crl","crl"],["application/pkcs10","p10"],["application/pkcs7-mime",["p7c","p7m"]],["application/pkcs7-signature","p7s"],["application/pkcs8","p8"],["application/pkix-attr-cert","ac"],["application/pkix-cert",["cer","crt"]],["application/pkix-crl","crl"],["application/pkix-pkipath","pkipath"],["application/pkixcmp","pki"],["application/plain","text"],["application/pls+xml","pls"],["application/postscript",["ps","ai","eps"]],["application/powerpoint","ppt"],["application/pro_eng",["part","prt"]],["application/prs.cww","cww"],["application/pskc+xml","pskcxml"],["application/rdf+xml","rdf"],["application/reginfo+xml","rif"],["application/relax-ng-compact-syntax","rnc"],["application/resource-lists+xml","rl"],["application/resource-lists-diff+xml","rld"],["application/ringing-tones","rng"],["application/rls-services+xml","rs"],["application/rsd+xml","rsd"],["application/rss+xml","xml"],["application/rtf",["rtf","rtx"]],["application/sbml+xml","sbml"],["application/scvp-cv-request","scq"],["application/scvp-cv-response","scs"],["application/scvp-vp-request","spq"],["application/scvp-vp-response","spp"],["application/sdp","sdp"],["application/sea","sea"],["application/set","set"],["application/set-payment-initiation","setpay"],["application/set-registration-initiation","setreg"],["application/shf+xml","shf"],["application/sla","stl"],["application/smil",["smi","smil"]],["application/smil+xml","smi"],["application/solids","sol"],["application/sounder","sdr"],["application/sparql-query","rq"],["application/sparql-results+xml","srx"],["application/srgs","gram"],["application/srgs+xml","grxml"],["application/sru+xml","sru"],["application/ssml+xml","ssml"],["application/step",["step","stp"]],["application/streamingmedia","ssm"],["application/tei+xml","tei"],["application/thraud+xml","tfi"],["application/timestamped-data","tsd"],["application/toolbook","tbk"],["application/vda","vda"],["application/vnd.3gpp.pic-bw-large","plb"],["application/vnd.3gpp.pic-bw-small","psb"],["application/vnd.3gpp.pic-bw-var","pvb"],["application/vnd.3gpp2.tcap","tcap"],["application/vnd.3m.post-it-notes","pwn"],["application/vnd.accpac.simply.aso","aso"],["application/vnd.accpac.simply.imp","imp"],["application/vnd.acucobol","acu"],["application/vnd.acucorp","atc"],["application/vnd.adobe.air-application-installer-package+zip","air"],["application/vnd.adobe.fxp","fxp"],["application/vnd.adobe.xdp+xml","xdp"],["application/vnd.adobe.xfdf","xfdf"],["application/vnd.ahead.space","ahead"],["application/vnd.airzip.filesecure.azf","azf"],["application/vnd.airzip.filesecure.azs","azs"],["application/vnd.amazon.ebook","azw"],["application/vnd.americandynamics.acc","acc"],["application/vnd.amiga.ami","ami"],["application/vnd.android.package-archive","apk"],["application/vnd.anser-web-certificate-issue-initiation","cii"],["application/vnd.anser-web-funds-transfer-initiation","fti"],["application/vnd.antix.game-component","atx"],["application/vnd.apple.installer+xml","mpkg"],["application/vnd.apple.mpegurl","m3u8"],["application/vnd.aristanetworks.swi","swi"],["application/vnd.audiograph","aep"],["application/vnd.blueice.multipass","mpm"],["application/vnd.bmi","bmi"],["application/vnd.businessobjects","rep"],["application/vnd.chemdraw+xml","cdxml"],["application/vnd.chipnuts.karaoke-mmd","mmd"],["application/vnd.cinderella","cdy"],["application/vnd.claymore","cla"],["application/vnd.cloanto.rp9","rp9"],["application/vnd.clonk.c4group","c4g"],["application/vnd.cluetrust.cartomobile-config","c11amc"],["application/vnd.cluetrust.cartomobile-config-pkg","c11amz"],["application/vnd.commonspace","csp"],["application/vnd.contact.cmsg","cdbcmsg"],["application/vnd.cosmocaller","cmc"],["application/vnd.crick.clicker","clkx"],["application/vnd.crick.clicker.keyboard","clkk"],["application/vnd.crick.clicker.palette","clkp"],["application/vnd.crick.clicker.template","clkt"],["application/vnd.crick.clicker.wordbank","clkw"],["application/vnd.criticaltools.wbs+xml","wbs"],["application/vnd.ctc-posml","pml"],["application/vnd.cups-ppd","ppd"],["application/vnd.curl.car","car"],["application/vnd.curl.pcurl","pcurl"],["application/vnd.data-vision.rdz","rdz"],["application/vnd.denovo.fcselayout-link","fe_launch"],["application/vnd.dna","dna"],["application/vnd.dolby.mlp","mlp"],["application/vnd.dpgraph","dpg"],["application/vnd.dreamfactory","dfac"],["application/vnd.dvb.ait","ait"],["application/vnd.dvb.service","svc"],["application/vnd.dynageo","geo"],["application/vnd.ecowin.chart","mag"],["application/vnd.enliven","nml"],["application/vnd.epson.esf","esf"],["application/vnd.epson.msf","msf"],["application/vnd.epson.quickanime","qam"],["application/vnd.epson.salt","slt"],["application/vnd.epson.ssf","ssf"],["application/vnd.eszigno3+xml","es3"],["application/vnd.ezpix-album","ez2"],["application/vnd.ezpix-package","ez3"],["application/vnd.fdf","fdf"],["application/vnd.fdsn.seed","seed"],["application/vnd.flographit","gph"],["application/vnd.fluxtime.clip","ftc"],["application/vnd.framemaker","fm"],["application/vnd.frogans.fnc","fnc"],["application/vnd.frogans.ltf","ltf"],["application/vnd.fsc.weblaunch","fsc"],["application/vnd.fujitsu.oasys","oas"],["application/vnd.fujitsu.oasys2","oa2"],["application/vnd.fujitsu.oasys3","oa3"],["application/vnd.fujitsu.oasysgp","fg5"],["application/vnd.fujitsu.oasysprs","bh2"],["application/vnd.fujixerox.ddd","ddd"],["application/vnd.fujixerox.docuworks","xdw"],["application/vnd.fujixerox.docuworks.binder","xbd"],["application/vnd.fuzzysheet","fzs"],["application/vnd.genomatix.tuxedo","txd"],["application/vnd.geogebra.file","ggb"],["application/vnd.geogebra.tool","ggt"],["application/vnd.geometry-explorer","gex"],["application/vnd.geonext","gxt"],["application/vnd.geoplan","g2w"],["application/vnd.geospace","g3w"],["application/vnd.gmx","gmx"],["application/vnd.google-earth.kml+xml","kml"],["application/vnd.google-earth.kmz","kmz"],["application/vnd.grafeq","gqf"],["application/vnd.groove-account","gac"],["application/vnd.groove-help","ghf"],["application/vnd.groove-identity-message","gim"],["application/vnd.groove-injector","grv"],["application/vnd.groove-tool-message","gtm"],["application/vnd.groove-tool-template","tpl"],["application/vnd.groove-vcard","vcg"],["application/vnd.hal+xml","hal"],["application/vnd.handheld-entertainment+xml","zmm"],["application/vnd.hbci","hbci"],["application/vnd.hhe.lesson-player","les"],["application/vnd.hp-hpgl",["hgl","hpg","hpgl"]],["application/vnd.hp-hpid","hpid"],["application/vnd.hp-hps","hps"],["application/vnd.hp-jlyt","jlt"],["application/vnd.hp-pcl","pcl"],["application/vnd.hp-pclxl","pclxl"],["application/vnd.hydrostatix.sof-data","sfd-hdstx"],["application/vnd.hzn-3d-crossword","x3d"],["application/vnd.ibm.minipay","mpy"],["application/vnd.ibm.modcap","afp"],["application/vnd.ibm.rights-management","irm"],["application/vnd.ibm.secure-container","sc"],["application/vnd.iccprofile","icc"],["application/vnd.igloader","igl"],["application/vnd.immervision-ivp","ivp"],["application/vnd.immervision-ivu","ivu"],["application/vnd.insors.igm","igm"],["application/vnd.intercon.formnet","xpw"],["application/vnd.intergeo","i2g"],["application/vnd.intu.qbo","qbo"],["application/vnd.intu.qfx","qfx"],["application/vnd.ipunplugged.rcprofile","rcprofile"],["application/vnd.irepository.package+xml","irp"],["application/vnd.is-xpr","xpr"],["application/vnd.isac.fcs","fcs"],["application/vnd.jam","jam"],["application/vnd.jcp.javame.midlet-rms","rms"],["application/vnd.jisp","jisp"],["application/vnd.joost.joda-archive","joda"],["application/vnd.kahootz","ktz"],["application/vnd.kde.karbon","karbon"],["application/vnd.kde.kchart","chrt"],["application/vnd.kde.kformula","kfo"],["application/vnd.kde.kivio","flw"],["application/vnd.kde.kontour","kon"],["application/vnd.kde.kpresenter","kpr"],["application/vnd.kde.kspread","ksp"],["application/vnd.kde.kword","kwd"],["application/vnd.kenameaapp","htke"],["application/vnd.kidspiration","kia"],["application/vnd.kinar","kne"],["application/vnd.koan","skp"],["application/vnd.kodak-descriptor","sse"],["application/vnd.las.las+xml","lasxml"],["application/vnd.llamagraphics.life-balance.desktop","lbd"],["application/vnd.llamagraphics.life-balance.exchange+xml","lbe"],["application/vnd.lotus-1-2-3","123"],["application/vnd.lotus-approach","apr"],["application/vnd.lotus-freelance","pre"],["application/vnd.lotus-notes","nsf"],["application/vnd.lotus-organizer","org"],["application/vnd.lotus-screencam","scm"],["application/vnd.lotus-wordpro","lwp"],["application/vnd.macports.portpkg","portpkg"],["application/vnd.mcd","mcd"],["application/vnd.medcalcdata","mc1"],["application/vnd.mediastation.cdkey","cdkey"],["application/vnd.mfer","mwf"],["application/vnd.mfmp","mfm"],["application/vnd.micrografx.flo","flo"],["application/vnd.micrografx.igx","igx"],["application/vnd.mif","mif"],["application/vnd.mobius.daf","daf"],["application/vnd.mobius.dis","dis"],["application/vnd.mobius.mbk","mbk"],["application/vnd.mobius.mqy","mqy"],["application/vnd.mobius.msl","msl"],["application/vnd.mobius.plc","plc"],["application/vnd.mobius.txf","txf"],["application/vnd.mophun.application","mpn"],["application/vnd.mophun.certificate","mpc"],["application/vnd.mozilla.xul+xml","xul"],["application/vnd.ms-artgalry","cil"],["application/vnd.ms-cab-compressed","cab"],["application/vnd.ms-excel",["xls","xla","xlc","xlm","xlt","xlw","xlb","xll"]],["application/vnd.ms-excel.addin.macroenabled.12","xlam"],["application/vnd.ms-excel.sheet.binary.macroenabled.12","xlsb"],["application/vnd.ms-excel.sheet.macroenabled.12","xlsm"],["application/vnd.ms-excel.template.macroenabled.12","xltm"],["application/vnd.ms-fontobject","eot"],["application/vnd.ms-htmlhelp","chm"],["application/vnd.ms-ims","ims"],["application/vnd.ms-lrm","lrm"],["application/vnd.ms-officetheme","thmx"],["application/vnd.ms-outlook","msg"],["application/vnd.ms-pki.certstore","sst"],["application/vnd.ms-pki.pko","pko"],["application/vnd.ms-pki.seccat","cat"],["application/vnd.ms-pki.stl","stl"],["application/vnd.ms-pkicertstore","sst"],["application/vnd.ms-pkiseccat","cat"],["application/vnd.ms-pkistl","stl"],["application/vnd.ms-powerpoint",["ppt","pot","pps","ppa","pwz"]],["application/vnd.ms-powerpoint.addin.macroenabled.12","ppam"],["application/vnd.ms-powerpoint.presentation.macroenabled.12","pptm"],["application/vnd.ms-powerpoint.slide.macroenabled.12","sldm"],["application/vnd.ms-powerpoint.slideshow.macroenabled.12","ppsm"],["application/vnd.ms-powerpoint.template.macroenabled.12","potm"],["application/vnd.ms-project","mpp"],["application/vnd.ms-word.document.macroenabled.12","docm"],["application/vnd.ms-word.template.macroenabled.12","dotm"],["application/vnd.ms-works",["wks","wcm","wdb","wps"]],["application/vnd.ms-wpl","wpl"],["application/vnd.ms-xpsdocument","xps"],["application/vnd.mseq","mseq"],["application/vnd.musician","mus"],["application/vnd.muvee.style","msty"],["application/vnd.neurolanguage.nlu","nlu"],["application/vnd.noblenet-directory","nnd"],["application/vnd.noblenet-sealer","nns"],["application/vnd.noblenet-web","nnw"],["application/vnd.nokia.configuration-message","ncm"],["application/vnd.nokia.n-gage.data","ngdat"],["application/vnd.nokia.n-gage.symbian.install","n-gage"],["application/vnd.nokia.radio-preset","rpst"],["application/vnd.nokia.radio-presets","rpss"],["application/vnd.nokia.ringing-tone","rng"],["application/vnd.novadigm.edm","edm"],["application/vnd.novadigm.edx","edx"],["application/vnd.novadigm.ext","ext"],["application/vnd.oasis.opendocument.chart","odc"],["application/vnd.oasis.opendocument.chart-template","otc"],["application/vnd.oasis.opendocument.database","odb"],["application/vnd.oasis.opendocument.formula","odf"],["application/vnd.oasis.opendocument.formula-template","odft"],["application/vnd.oasis.opendocument.graphics","odg"],["application/vnd.oasis.opendocument.graphics-template","otg"],["application/vnd.oasis.opendocument.image","odi"],["application/vnd.oasis.opendocument.image-template","oti"],["application/vnd.oasis.opendocument.presentation","odp"],["application/vnd.oasis.opendocument.presentation-template","otp"],["application/vnd.oasis.opendocument.spreadsheet","ods"],["application/vnd.oasis.opendocument.spreadsheet-template","ots"],["application/vnd.oasis.opendocument.text","odt"],["application/vnd.oasis.opendocument.text-master","odm"],["application/vnd.oasis.opendocument.text-template","ott"],["application/vnd.oasis.opendocument.text-web","oth"],["application/vnd.olpc-sugar","xo"],["application/vnd.oma.dd2+xml","dd2"],["application/vnd.openofficeorg.extension","oxt"],["application/vnd.openxmlformats-officedocument.presentationml.presentation","pptx"],["application/vnd.openxmlformats-officedocument.presentationml.slide","sldx"],["application/vnd.openxmlformats-officedocument.presentationml.slideshow","ppsx"],["application/vnd.openxmlformats-officedocument.presentationml.template","potx"],["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","xlsx"],["application/vnd.openxmlformats-officedocument.spreadsheetml.template","xltx"],["application/vnd.openxmlformats-officedocument.wordprocessingml.document","docx"],["application/vnd.openxmlformats-officedocument.wordprocessingml.template","dotx"],["application/vnd.osgeo.mapguide.package","mgp"],["application/vnd.osgi.dp","dp"],["application/vnd.palm","pdb"],["application/vnd.pawaafile","paw"],["application/vnd.pg.format","str"],["application/vnd.pg.osasli","ei6"],["application/vnd.picsel","efif"],["application/vnd.pmi.widget","wg"],["application/vnd.pocketlearn","plf"],["application/vnd.powerbuilder6","pbd"],["application/vnd.previewsystems.box","box"],["application/vnd.proteus.magazine","mgz"],["application/vnd.publishare-delta-tree","qps"],["application/vnd.pvi.ptid1","ptid"],["application/vnd.quark.quarkxpress","qxd"],["application/vnd.realvnc.bed","bed"],["application/vnd.recordare.musicxml","mxl"],["application/vnd.recordare.musicxml+xml","musicxml"],["application/vnd.rig.cryptonote","cryptonote"],["application/vnd.rim.cod","cod"],["application/vnd.rn-realmedia","rm"],["application/vnd.rn-realplayer","rnx"],["application/vnd.route66.link66+xml","link66"],["application/vnd.sailingtracker.track","st"],["application/vnd.seemail","see"],["application/vnd.sema","sema"],["application/vnd.semd","semd"],["application/vnd.semf","semf"],["application/vnd.shana.informed.formdata","ifm"],["application/vnd.shana.informed.formtemplate","itp"],["application/vnd.shana.informed.interchange","iif"],["application/vnd.shana.informed.package","ipk"],["application/vnd.simtech-mindmapper","twd"],["application/vnd.smaf","mmf"],["application/vnd.smart.teacher","teacher"],["application/vnd.solent.sdkm+xml","sdkm"],["application/vnd.spotfire.dxp","dxp"],["application/vnd.spotfire.sfs","sfs"],["application/vnd.stardivision.calc","sdc"],["application/vnd.stardivision.draw","sda"],["application/vnd.stardivision.impress","sdd"],["application/vnd.stardivision.math","smf"],["application/vnd.stardivision.writer","sdw"],["application/vnd.stardivision.writer-global","sgl"],["application/vnd.stepmania.stepchart","sm"],["application/vnd.sun.xml.calc","sxc"],["application/vnd.sun.xml.calc.template","stc"],["application/vnd.sun.xml.draw","sxd"],["application/vnd.sun.xml.draw.template","std"],["application/vnd.sun.xml.impress","sxi"],["application/vnd.sun.xml.impress.template","sti"],["application/vnd.sun.xml.math","sxm"],["application/vnd.sun.xml.writer","sxw"],["application/vnd.sun.xml.writer.global","sxg"],["application/vnd.sun.xml.writer.template","stw"],["application/vnd.sus-calendar","sus"],["application/vnd.svd","svd"],["application/vnd.symbian.install","sis"],["application/vnd.syncml+xml","xsm"],["application/vnd.syncml.dm+wbxml","bdm"],["application/vnd.syncml.dm+xml","xdm"],["application/vnd.tao.intent-module-archive","tao"],["application/vnd.tmobile-livetv","tmo"],["application/vnd.trid.tpt","tpt"],["application/vnd.triscape.mxs","mxs"],["application/vnd.trueapp","tra"],["application/vnd.ufdl","ufd"],["application/vnd.uiq.theme","utz"],["application/vnd.umajin","umj"],["application/vnd.unity","unityweb"],["application/vnd.uoml+xml","uoml"],["application/vnd.vcx","vcx"],["application/vnd.visio","vsd"],["application/vnd.visionary","vis"],["application/vnd.vsf","vsf"],["application/vnd.wap.wbxml","wbxml"],["application/vnd.wap.wmlc","wmlc"],["application/vnd.wap.wmlscriptc","wmlsc"],["application/vnd.webturbo","wtb"],["application/vnd.wolfram.player","nbp"],["application/vnd.wordperfect","wpd"],["application/vnd.wqd","wqd"],["application/vnd.wt.stf","stf"],["application/vnd.xara",["web","xar"]],["application/vnd.xfdl","xfdl"],["application/vnd.yamaha.hv-dic","hvd"],["application/vnd.yamaha.hv-script","hvs"],["application/vnd.yamaha.hv-voice","hvp"],["application/vnd.yamaha.openscoreformat","osf"],["application/vnd.yamaha.openscoreformat.osfpvg+xml","osfpvg"],["application/vnd.yamaha.smaf-audio","saf"],["application/vnd.yamaha.smaf-phrase","spf"],["application/vnd.yellowriver-custom-menu","cmp"],["application/vnd.zul","zir"],["application/vnd.zzazz.deck+xml","zaz"],["application/vocaltec-media-desc","vmd"],["application/vocaltec-media-file","vmf"],["application/voicexml+xml","vxml"],["application/widget","wgt"],["application/winhlp","hlp"],["application/wordperfect",["wp","wp5","wp6","wpd"]],["application/wordperfect6.0",["w60","wp5"]],["application/wordperfect6.1","w61"],["application/wsdl+xml","wsdl"],["application/wspolicy+xml","wspolicy"],["application/x-123","wk1"],["application/x-7z-compressed","7z"],["application/x-abiword","abw"],["application/x-ace-compressed","ace"],["application/x-aim","aim"],["application/x-authorware-bin","aab"],["application/x-authorware-map","aam"],["application/x-authorware-seg","aas"],["application/x-bcpio","bcpio"],["application/x-binary","bin"],["application/x-binhex40","hqx"],["application/x-bittorrent","torrent"],["application/x-bsh",["bsh","sh","shar"]],["application/x-bytecode.elisp","elc"],["applicaiton/x-bytecode.python","pyc"],["application/x-bzip","bz"],["application/x-bzip2",["boz","bz2"]],["application/x-cdf","cdf"],["application/x-cdlink","vcd"],["application/x-chat",["cha","chat"]],["application/x-chess-pgn","pgn"],["application/x-cmu-raster","ras"],["application/x-cocoa","cco"],["application/x-compactpro","cpt"],["application/x-compress","z"],["application/x-compressed",["tgz","gz","z","zip"]],["application/x-conference","nsc"],["application/x-cpio","cpio"],["application/x-cpt","cpt"],["application/x-csh","csh"],["application/x-debian-package","deb"],["application/x-deepv","deepv"],["application/x-director",["dir","dcr","dxr"]],["application/x-doom","wad"],["application/x-dtbncx+xml","ncx"],["application/x-dtbook+xml","dtb"],["application/x-dtbresource+xml","res"],["application/x-dvi","dvi"],["application/x-elc","elc"],["application/x-envoy",["env","evy"]],["application/x-esrehber","es"],["application/x-excel",["xls","xla","xlb","xlc","xld","xlk","xll","xlm","xlt","xlv","xlw"]],["application/x-font-bdf","bdf"],["application/x-font-ghostscript","gsf"],["application/x-font-linux-psf","psf"],["application/x-font-otf","otf"],["application/x-font-pcf","pcf"],["application/x-font-snf","snf"],["application/x-font-ttf","ttf"],["application/x-font-type1","pfa"],["application/x-font-woff","woff"],["application/x-frame","mif"],["application/x-freelance","pre"],["application/x-futuresplash","spl"],["application/x-gnumeric","gnumeric"],["application/x-gsp","gsp"],["application/x-gss","gss"],["application/x-gtar","gtar"],["application/x-gzip",["gz","gzip"]],["application/x-hdf","hdf"],["application/x-helpfile",["help","hlp"]],["application/x-httpd-imap","imap"],["application/x-ima","ima"],["application/x-internet-signup",["ins","isp"]],["application/x-internett-signup","ins"],["application/x-inventor","iv"],["application/x-ip2","ip"],["application/x-iphone","iii"],["application/x-java-class","class"],["application/x-java-commerce","jcm"],["application/x-java-jnlp-file","jnlp"],["application/x-javascript","js"],["application/x-koan",["skd","skm","skp","skt"]],["application/x-ksh","ksh"],["application/x-latex",["latex","ltx"]],["application/x-lha","lha"],["application/x-lisp","lsp"],["application/x-livescreen","ivy"],["application/x-lotus","wq1"],["application/x-lotusscreencam","scm"],["application/x-lzh","lzh"],["application/x-lzx","lzx"],["application/x-mac-binhex40","hqx"],["application/x-macbinary","bin"],["application/x-magic-cap-package-1.0","mc$"],["application/x-mathcad","mcd"],["application/x-meme","mm"],["application/x-midi",["mid","midi"]],["application/x-mif","mif"],["application/x-mix-transfer","nix"],["application/x-mobipocket-ebook","prc"],["application/x-mplayer2","asx"],["application/x-ms-application","application"],["application/x-ms-wmd","wmd"],["application/x-ms-wmz","wmz"],["application/x-ms-xbap","xbap"],["application/x-msaccess","mdb"],["application/x-msbinder","obd"],["application/x-mscardfile","crd"],["application/x-msclip","clp"],["application/x-msdownload",["exe","dll"]],["application/x-msexcel",["xls","xla","xlw"]],["application/x-msmediaview",["mvb","m13","m14"]],["application/x-msmetafile","wmf"],["application/x-msmoney","mny"],["application/x-mspowerpoint","ppt"],["application/x-mspublisher","pub"],["application/x-msschedule","scd"],["application/x-msterminal","trm"],["application/x-mswrite","wri"],["application/x-navi-animation","ani"],["application/x-navidoc","nvd"],["application/x-navimap","map"],["application/x-navistyle","stl"],["application/x-netcdf",["cdf","nc"]],["application/x-newton-compatible-pkg","pkg"],["application/x-nokia-9000-communicator-add-on-software","aos"],["application/x-omc","omc"],["application/x-omcdatamaker","omcd"],["application/x-omcregerator","omcr"],["application/x-pagemaker",["pm4","pm5"]],["application/x-pcl","pcl"],["application/x-perfmon",["pma","pmc","pml","pmr","pmw"]],["application/x-pixclscript","plx"],["application/x-pkcs10","p10"],["application/x-pkcs12",["p12","pfx"]],["application/x-pkcs7-certificates",["p7b","spc"]],["application/x-pkcs7-certreqresp","p7r"],["application/x-pkcs7-mime",["p7m","p7c"]],["application/x-pkcs7-signature",["p7s","p7a"]],["application/x-pointplus","css"],["application/x-portable-anymap","pnm"],["application/x-project",["mpc","mpt","mpv","mpx"]],["application/x-qpro","wb1"],["application/x-rar-compressed","rar"],["application/x-rtf","rtf"],["application/x-sdp","sdp"],["application/x-sea","sea"],["application/x-seelogo","sl"],["application/x-sh","sh"],["application/x-shar",["shar","sh"]],["application/x-shockwave-flash","swf"],["application/x-silverlight-app","xap"],["application/x-sit","sit"],["application/x-sprite",["spr","sprite"]],["application/x-stuffit","sit"],["application/x-stuffitx","sitx"],["application/x-sv4cpio","sv4cpio"],["application/x-sv4crc","sv4crc"],["application/x-tar","tar"],["application/x-tbook",["sbk","tbk"]],["application/x-tcl","tcl"],["application/x-tex","tex"],["application/x-tex-tfm","tfm"],["application/x-texinfo",["texi","texinfo"]],["application/x-troff",["roff","t","tr"]],["application/x-troff-man","man"],["application/x-troff-me","me"],["application/x-troff-ms","ms"],["application/x-troff-msvideo","avi"],["application/x-ustar","ustar"],["application/x-visio",["vsd","vst","vsw"]],["application/x-vnd.audioexplosion.mzz","mzz"],["application/x-vnd.ls-xpix","xpix"],["application/x-vrml","vrml"],["application/x-wais-source",["src","wsrc"]],["application/x-winhelp","hlp"],["application/x-wintalk","wtk"],["application/x-world",["wrl","svr"]],["application/x-wpwin","wpd"],["application/x-wri","wri"],["application/x-x509-ca-cert",["cer","crt","der"]],["application/x-x509-user-cert","crt"],["application/x-xfig","fig"],["application/x-xpinstall","xpi"],["application/x-zip-compressed","zip"],["application/xcap-diff+xml","xdf"],["application/xenc+xml","xenc"],["application/xhtml+xml","xhtml"],["application/xml","xml"],["application/xml-dtd","dtd"],["application/xop+xml","xop"],["application/xslt+xml","xslt"],["application/xspf+xml","xspf"],["application/xv+xml","mxml"],["application/yang","yang"],["application/yin+xml","yin"],["application/ynd.ms-pkipko","pko"],["application/zip","zip"],["audio/adpcm","adp"],["audio/aiff",["aiff","aif","aifc"]],["audio/basic",["snd","au"]],["audio/it","it"],["audio/make",["funk","my","pfunk"]],["audio/make.my.funk","pfunk"],["audio/mid",["mid","rmi"]],["audio/midi",["midi","kar","mid"]],["audio/mod","mod"],["audio/mp4","mp4a"],["audio/mpeg",["mpga","mp3","m2a","mp2","mpa","mpg"]],["audio/mpeg3","mp3"],["audio/nspaudio",["la","lma"]],["audio/ogg","oga"],["audio/s3m","s3m"],["audio/tsp-audio","tsi"],["audio/tsplayer","tsp"],["audio/vnd.dece.audio","uva"],["audio/vnd.digital-winds","eol"],["audio/vnd.dra","dra"],["audio/vnd.dts","dts"],["audio/vnd.dts.hd","dtshd"],["audio/vnd.lucent.voice","lvp"],["audio/vnd.ms-playready.media.pya","pya"],["audio/vnd.nuera.ecelp4800","ecelp4800"],["audio/vnd.nuera.ecelp7470","ecelp7470"],["audio/vnd.nuera.ecelp9600","ecelp9600"],["audio/vnd.qcelp","qcp"],["audio/vnd.rip","rip"],["audio/voc","voc"],["audio/voxware","vox"],["audio/wav","wav"],["audio/webm","weba"],["audio/x-aac","aac"],["audio/x-adpcm","snd"],["audio/x-aiff",["aiff","aif","aifc"]],["audio/x-au","au"],["audio/x-gsm",["gsd","gsm"]],["audio/x-jam","jam"],["audio/x-liveaudio","lam"],["audio/x-mid",["mid","midi"]],["audio/x-midi",["midi","mid"]],["audio/x-mod","mod"],["audio/x-mpeg","mp2"],["audio/x-mpeg-3","mp3"],["audio/x-mpegurl","m3u"],["audio/x-mpequrl","m3u"],["audio/x-ms-wax","wax"],["audio/x-ms-wma","wma"],["audio/x-nspaudio",["la","lma"]],["audio/x-pn-realaudio",["ra","ram","rm","rmm","rmp"]],["audio/x-pn-realaudio-plugin",["ra","rmp","rpm"]],["audio/x-psid","sid"],["audio/x-realaudio","ra"],["audio/x-twinvq","vqf"],["audio/x-twinvq-plugin",["vqe","vql"]],["audio/x-vnd.audioexplosion.mjuicemediafile","mjf"],["audio/x-voc","voc"],["audio/x-wav","wav"],["audio/xm","xm"],["chemical/x-cdx","cdx"],["chemical/x-cif","cif"],["chemical/x-cmdf","cmdf"],["chemical/x-cml","cml"],["chemical/x-csml","csml"],["chemical/x-pdb",["pdb","xyz"]],["chemical/x-xyz","xyz"],["drawing/x-dwf","dwf"],["i-world/i-vrml","ivr"],["image/bmp",["bmp","bm"]],["image/cgm","cgm"],["image/cis-cod","cod"],["image/cmu-raster",["ras","rast"]],["image/fif","fif"],["image/florian",["flo","turbot"]],["image/g3fax","g3"],["image/gif","gif"],["image/ief",["ief","iefs"]],["image/jpeg",["jpeg","jpe","jpg","jfif","jfif-tbnl"]],["image/jutvision","jut"],["image/ktx","ktx"],["image/naplps",["nap","naplps"]],["image/pict",["pic","pict"]],["image/pipeg","jfif"],["image/pjpeg",["jfif","jpe","jpeg","jpg"]],["image/png",["png","x-png"]],["image/prs.btif","btif"],["image/svg+xml","svg"],["image/tiff",["tif","tiff"]],["image/vasa","mcf"],["image/vnd.adobe.photoshop","psd"],["image/vnd.dece.graphic","uvi"],["image/vnd.djvu","djvu"],["image/vnd.dvb.subtitle","sub"],["image/vnd.dwg",["dwg","dxf","svf"]],["image/vnd.dxf","dxf"],["image/vnd.fastbidsheet","fbs"],["image/vnd.fpx","fpx"],["image/vnd.fst","fst"],["image/vnd.fujixerox.edmics-mmr","mmr"],["image/vnd.fujixerox.edmics-rlc","rlc"],["image/vnd.ms-modi","mdi"],["image/vnd.net-fpx",["fpx","npx"]],["image/vnd.rn-realflash","rf"],["image/vnd.rn-realpix","rp"],["image/vnd.wap.wbmp","wbmp"],["image/vnd.xiff","xif"],["image/webp","webp"],["image/x-cmu-raster","ras"],["image/x-cmx","cmx"],["image/x-dwg",["dwg","dxf","svf"]],["image/x-freehand","fh"],["image/x-icon","ico"],["image/x-jg","art"],["image/x-jps","jps"],["image/x-niff",["niff","nif"]],["image/x-pcx","pcx"],["image/x-pict",["pct","pic"]],["image/x-portable-anymap","pnm"],["image/x-portable-bitmap","pbm"],["image/x-portable-graymap","pgm"],["image/x-portable-greymap","pgm"],["image/x-portable-pixmap","ppm"],["image/x-quicktime",["qif","qti","qtif"]],["image/x-rgb","rgb"],["image/x-tiff",["tif","tiff"]],["image/x-windows-bmp","bmp"],["image/x-xbitmap","xbm"],["image/x-xbm","xbm"],["image/x-xpixmap",["xpm","pm"]],["image/x-xwd","xwd"],["image/x-xwindowdump","xwd"],["image/xbm","xbm"],["image/xpm","xpm"],["message/rfc822",["eml","mht","mhtml","nws","mime"]],["model/iges",["iges","igs"]],["model/mesh","msh"],["model/vnd.collada+xml","dae"],["model/vnd.dwf","dwf"],["model/vnd.gdl","gdl"],["model/vnd.gtw","gtw"],["model/vnd.mts","mts"],["model/vnd.vtu","vtu"],["model/vrml",["vrml","wrl","wrz"]],["model/x-pov","pov"],["multipart/x-gzip","gzip"],["multipart/x-ustar","ustar"],["multipart/x-zip","zip"],["music/crescendo",["mid","midi"]],["music/x-karaoke","kar"],["paleovu/x-pv","pvu"],["text/asp","asp"],["text/calendar","ics"],["text/css","css"],["text/csv","csv"],["text/ecmascript","js"],["text/h323","323"],["text/html",["html","htm","stm","acgi","htmls","htx","shtml"]],["text/iuls","uls"],["text/javascript","js"],["text/mcf","mcf"],["text/n3","n3"],["text/pascal","pas"],["text/plain",["txt","bas","c","h","c++","cc","com","conf","cxx","def","f","f90","for","g","hh","idc","jav","java","list","log","lst","m","mar","pl","sdml","text"]],["text/plain-bas","par"],["text/prs.lines.tag","dsc"],["text/richtext",["rtx","rt","rtf"]],["text/scriplet","wsc"],["text/scriptlet","sct"],["text/sgml",["sgm","sgml"]],["text/tab-separated-values","tsv"],["text/troff","t"],["text/turtle","ttl"],["text/uri-list",["uni","unis","uri","uris"]],["text/vnd.abc","abc"],["text/vnd.curl","curl"],["text/vnd.curl.dcurl","dcurl"],["text/vnd.curl.mcurl","mcurl"],["text/vnd.curl.scurl","scurl"],["text/vnd.fly","fly"],["text/vnd.fmi.flexstor","flx"],["text/vnd.graphviz","gv"],["text/vnd.in3d.3dml","3dml"],["text/vnd.in3d.spot","spot"],["text/vnd.rn-realtext","rt"],["text/vnd.sun.j2me.app-descriptor","jad"],["text/vnd.wap.wml","wml"],["text/vnd.wap.wmlscript","wmls"],["text/webviewhtml","htt"],["text/x-asm",["asm","s"]],["text/x-audiosoft-intra","aip"],["text/x-c",["c","cc","cpp"]],["text/x-component","htc"],["text/x-fortran",["for","f","f77","f90"]],["text/x-h",["h","hh"]],["text/x-java-source",["java","jav"]],["text/x-java-source,java","java"],["text/x-la-asf","lsx"],["text/x-m","m"],["text/x-pascal","p"],["text/x-script","hlb"],["text/x-script.csh","csh"],["text/x-script.elisp","el"],["text/x-script.guile","scm"],["text/x-script.ksh","ksh"],["text/x-script.lisp","lsp"],["text/x-script.perl","pl"],["text/x-script.perl-module","pm"],["text/x-script.phyton","py"],["text/x-script.rexx","rexx"],["text/x-script.scheme","scm"],["text/x-script.sh","sh"],["text/x-script.tcl","tcl"],["text/x-script.tcsh","tcsh"],["text/x-script.zsh","zsh"],["text/x-server-parsed-html",["shtml","ssi"]],["text/x-setext","etx"],["text/x-sgml",["sgm","sgml"]],["text/x-speech",["spc","talk"]],["text/x-uil","uil"],["text/x-uuencode",["uu","uue"]],["text/x-vcalendar","vcs"],["text/x-vcard","vcf"],["text/xml","xml"],["video/3gpp","3gp"],["video/3gpp2","3g2"],["video/animaflex","afl"],["video/avi","avi"],["video/avs-video","avs"],["video/dl","dl"],["video/fli","fli"],["video/gl","gl"],["video/h261","h261"],["video/h263","h263"],["video/h264","h264"],["video/jpeg","jpgv"],["video/jpm","jpm"],["video/mj2","mj2"],["video/mp4","mp4"],["video/mpeg",["mpeg","mp2","mpa","mpe","mpg","mpv2","m1v","m2v","mp3"]],["video/msvideo","avi"],["video/ogg","ogv"],["video/quicktime",["mov","qt","moov"]],["video/vdo","vdo"],["video/vivo",["viv","vivo"]],["video/vnd.dece.hd","uvh"],["video/vnd.dece.mobile","uvm"],["video/vnd.dece.pd","uvp"],["video/vnd.dece.sd","uvs"],["video/vnd.dece.video","uvv"],["video/vnd.fvt","fvt"],["video/vnd.mpegurl","mxu"],["video/vnd.ms-playready.media.pyv","pyv"],["video/vnd.rn-realvideo","rv"],["video/vnd.uvvu.mp4","uvu"],["video/vnd.vivo",["viv","vivo"]],["video/vosaic","vos"],["video/webm","webm"],["video/x-amt-demorun","xdr"],["video/x-amt-showrun","xsr"],["video/x-atomic3d-feature","fmf"],["video/x-dl","dl"],["video/x-dv",["dif","dv"]],["video/x-f4v","f4v"],["video/x-fli","fli"],["video/x-flv","flv"],["video/x-gl","gl"],["video/x-isvideo","isu"],["video/x-la-asf",["lsf","lsx"]],["video/x-m4v","m4v"],["video/x-motion-jpeg","mjpg"],["video/x-mpeg",["mp3","mp2"]],["video/x-mpeq2a","mp2"],["video/x-ms-asf",["asf","asr","asx"]],["video/x-ms-asf-plugin","asx"],["video/x-ms-wm","wm"],["video/x-ms-wmv","wmv"],["video/x-ms-wmx","wmx"],["video/x-ms-wvx","wvx"],["video/x-msvideo","avi"],["video/x-qtc","qtc"],["video/x-scm","scm"],["video/x-sgi-movie",["movie","mv"]],["windows/metafile","wmf"],["www/mime","mime"],["x-conference/x-cooltalk","ice"],["x-music/x-midi",["mid","midi"]],["x-world/x-3dmf",["3dm","3dmf","qd3","qd3d"]],["x-world/x-svr","svr"],["x-world/x-vrml",["flr","vrml","wrl","wrz","xaf","xof"]],["x-world/x-vrt","vrt"],["xgl/drawing","xgz"],["xgl/movie","xmz"]]),o=new Map([["123","application/vnd.lotus-1-2-3"],["323","text/h323"],["*","application/octet-stream"],["3dm","x-world/x-3dmf"],["3dmf","x-world/x-3dmf"],["3dml","text/vnd.in3d.3dml"],["3g2","video/3gpp2"],["3gp","video/3gpp"],["7z","application/x-7z-compressed"],["a","application/octet-stream"],["aab","application/x-authorware-bin"],["aac","audio/x-aac"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abc","text/vnd.abc"],["abw","application/x-abiword"],["ac","application/pkix-attr-cert"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acgi","text/html"],["acu","application/vnd.acucobol"],["acx","application/internet-property-stream"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afl","video/animaflex"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/postscript"],["aif",["audio/aiff","audio/x-aiff"]],["aifc",["audio/aiff","audio/x-aiff"]],["aiff",["audio/aiff","audio/x-aiff"]],["aim","application/x-aim"],["aip","text/x-audiosoft-intra"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["ani","application/x-navi-animation"],["aos","application/x-nokia-9000-communicator-add-on-software"],["apk","application/vnd.android.package-archive"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["aps","application/mime"],["arc","application/octet-stream"],["arj",["application/arj","application/octet-stream"]],["art","image/x-jg"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asp","text/asp"],["asr","video/x-ms-asf"],["asx",["video/x-ms-asf","application/x-mplayer2","video/x-ms-asf-plugin"]],["atc","application/vnd.acucorp"],["atomcat","application/atomcat+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au",["audio/basic","audio/x-au"]],["avi",["video/avi","video/msvideo","application/x-troff-msvideo","video/x-msvideo"]],["avs","video/avs-video"],["aw","application/applixware"],["axs","application/olescript"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azw","application/vnd.amazon.ebook"],["bas","text/plain"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin",["application/octet-stream","application/mac-binary","application/macbinary","application/x-macbinary","application/x-binary"]],["bm","image/bmp"],["bmi","application/vnd.bmi"],["bmp",["image/bmp","image/x-windows-bmp"]],["boo","application/book"],["book","application/book"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bsh","application/x-bsh"],["btif","image/prs.btif"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c",["text/plain","text/x-c"]],["c++","text/plain"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["c4g","application/vnd.clonk.c4group"],["cab","application/vnd.ms-cab-compressed"],["car","application/vnd.curl.car"],["cat",["application/vnd.ms-pkiseccat","application/vnd.ms-pki.seccat"]],["cc",["text/plain","text/x-c"]],["ccad","application/clariscad"],["cco","application/x-cocoa"],["ccxml","application/ccxml+xml,"],["cdbcmsg","application/vnd.contact.cmsg"],["cdf",["application/cdf","application/x-cdf","application/x-netcdf"]],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer",["application/pkix-cert","application/x-x509-ca-cert"]],["cgm","image/cgm"],["cha","application/x-chat"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cla","application/vnd.claymore"],["class",["application/octet-stream","application/java","application/java-byte-code","application/java-vm","application/x-java-class"]],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod",["image/cis-cod","application/vnd.rim.cod"]],["com",["application/octet-stream","text/plain"]],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt",["application/mac-compactpro","application/x-compactpro","application/x-cpt"]],["crd","application/x-mscardfile"],["crl",["application/pkix-crl","application/pkcs-crl"]],["crt",["application/pkix-cert","application/x-x509-user-cert","application/x-x509-ca-cert"]],["cryptonote","application/vnd.rig.cryptonote"],["csh",["text/x-script.csh","application/x-csh"]],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["css",["text/css","application/x-pointplus"]],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxx","text/plain"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["davmount","application/davmount+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["deb","application/x-debian-package"],["deepv","application/x-deepv"],["def","text/plain"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dif","video/x-dv"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["djvu","image/vnd.djvu"],["dl",["video/dl","video/x-dl"]],["dll","application/x-msdownload"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.document.macroenabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroenabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp",["application/commonground","application/vnd.osgi.dp"]],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drw","application/drafting"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dv","video/x-dv"],["dvi","application/x-dvi"],["dwf",["model/vnd.dwf","drawing/x-dwf"]],["dwg",["application/acad","image/vnd.dwg","image/x-dwg"]],["dxf",["application/dxf","image/vnd.dwg","image/vnd.dxf","image/x-dwg"]],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["el","text/x-script.elisp"],["elc",["application/x-elc","application/x-bytecode.elisp"]],["eml","message/rfc822"],["emma","application/emma+xml"],["env","application/x-envoy"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es",["application/ecmascript","application/x-esrehber"]],["es3","application/vnd.eszigno3+xml"],["esf","application/vnd.epson.esf"],["etx","text/x-setext"],["evy",["application/envoy","application/x-envoy"]],["exe",["application/octet-stream","application/x-msdownload"]],["exi","application/exi"],["ext","application/vnd.novadigm.ext"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f",["text/plain","text/x-fortran"]],["f4v","video/x-f4v"],["f77","text/x-fortran"],["f90",["text/plain","text/x-fortran"]],["fbs","image/vnd.fastbidsheet"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fh","image/x-freehand"],["fif",["application/fractals","image/fif"]],["fig","application/x-xfig"],["fli",["video/fli","video/x-fli"]],["flo",["image/florian","application/vnd.micrografx.flo"]],["flr","x-world/x-vrml"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fmf","video/x-atomic3d-feature"],["fnc","application/vnd.frogans.fnc"],["for",["text/plain","text/x-fortran"]],["fpx",["image/vnd.fpx","image/vnd.net-fpx"]],["frl","application/freeloader"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["funk","audio/make"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g","text/plain"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gdl","model/vnd.gdl"],["geo","application/vnd.dynageo"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["gl",["video/gl","video/x-gl"]],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gph","application/vnd.flographit"],["gqf","application/vnd.grafeq"],["gram","application/srgs"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsd","audio/x-gsm"],["gsf","application/x-font-ghostscript"],["gsm","audio/x-gsm"],["gsp","application/x-gsp"],["gss","application/x-gss"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxt","application/vnd.geonext"],["gz",["application/x-gzip","application/x-compressed"]],["gzip",["multipart/x-gzip","application/x-gzip"]],["h",["text/plain","text/x-h"]],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hdf","application/x-hdf"],["help","application/x-helpfile"],["hgl","application/vnd.hp-hpgl"],["hh",["text/plain","text/x-h"]],["hlb","text/x-script"],["hlp",["application/winhlp","application/hlp","application/x-helpfile","application/x-winhelp"]],["hpg","application/vnd.hp-hpgl"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx",["application/mac-binhex40","application/binhex","application/binhex4","application/mac-binhex","application/x-binhex40","application/x-mac-binhex40"]],["hta","application/hta"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["htmls","text/html"],["htt","text/webviewhtml"],["htx","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["ico","image/x-icon"],["ics","text/calendar"],["idc","text/plain"],["ief","image/ief"],["iefs","image/ief"],["ifm","application/vnd.shana.informed.formdata"],["iges",["application/iges","model/iges"]],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs",["application/iges","model/iges"]],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["iii","application/x-iphone"],["ima","application/x-ima"],["imap","application/x-httpd-imap"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["inf","application/inf"],["ins",["application/x-internet-signup","application/x-internett-signup"]],["ip","application/x-ip2"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["isp","application/x-internet-signup"],["isu","video/x-isvideo"],["it","audio/it"],["itp","application/vnd.shana.informed.formtemplate"],["iv","application/x-inventor"],["ivp","application/vnd.immervision-ivp"],["ivr","i-world/i-vrml"],["ivu","application/vnd.immervision-ivu"],["ivy","application/x-livescreen"],["jad","text/vnd.sun.j2me.app-descriptor"],["jam",["application/vnd.jam","audio/x-jam"]],["jar","application/java-archive"],["jav",["text/plain","text/x-java-source"]],["java",["text/plain","text/x-java-source,java","text/x-java-source"]],["jcm","application/x-java-commerce"],["jfif",["image/pipeg","image/jpeg","image/pjpeg"]],["jfif-tbnl","image/jpeg"],["jisp","application/vnd.jisp"],["jlt","application/vnd.hp-jlyt"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jpe",["image/jpeg","image/pjpeg"]],["jpeg",["image/jpeg","image/pjpeg"]],["jpg",["image/jpeg","image/pjpeg"]],["jpgv","video/jpeg"],["jpm","video/jpm"],["jps","image/x-jps"],["js",["application/javascript","application/ecmascript","text/javascript","text/ecmascript","application/x-javascript"]],["json","application/json"],["jut","image/jutvision"],["kar",["audio/midi","music/x-karaoke"]],["karbon","application/vnd.kde.karbon"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["ksh",["application/x-ksh","text/x-script.ksh"]],["ksp","application/vnd.kde.kspread"],["ktx","image/ktx"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["la",["audio/nspaudio","audio/x-nspaudio"]],["lam","audio/x-liveaudio"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["lha",["application/octet-stream","application/lha","application/x-lha"]],["lhx","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["lma",["audio/nspaudio","audio/x-nspaudio"]],["log","text/plain"],["lrm","application/vnd.ms-lrm"],["lsf","video/x-la-asf"],["lsp",["application/x-lisp","text/x-script.lisp"]],["lst","text/plain"],["lsx",["video/x-la-asf","text/x-la-asf"]],["ltf","application/vnd.frogans.ltf"],["ltx","application/x-latex"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh",["application/octet-stream","application/x-lzh"]],["lzx",["application/lzx","application/octet-stream","application/x-lzx"]],["m",["text/plain","text/x-m"]],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m1v","video/mpeg"],["m21","application/mp21"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3u",["audio/x-mpegurl","audio/x-mpequrl"]],["m3u8","application/vnd.apple.mpegurl"],["m4v","video/x-m4v"],["ma","application/mathematica"],["mads","application/mads+xml"],["mag","application/vnd.ecowin.chart"],["man","application/x-troff-man"],["map","application/x-navimap"],["mar","text/plain"],["mathml","application/mathml+xml"],["mbd","application/mbedlet"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc$","application/x-magic-cap-package-1.0"],["mc1","application/vnd.medcalcdata"],["mcd",["application/mcad","application/vnd.mcd","application/x-mathcad"]],["mcf",["image/vasa","text/mcf"]],["mcp","application/netmc"],["mcurl","text/vnd.curl.mcurl"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["me","application/x-troff-me"],["meta4","application/metalink4+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mht","message/rfc822"],["mhtml","message/rfc822"],["mid",["audio/mid","audio/midi","music/crescendo","x-music/x-midi","audio/x-midi","application/x-midi","audio/x-mid"]],["midi",["audio/midi","music/crescendo","x-music/x-midi","audio/x-midi","application/x-midi","audio/x-mid"]],["mif",["application/vnd.mif","application/x-mif","application/x-frame"]],["mime",["message/rfc822","www/mime"]],["mj2","video/mj2"],["mjf","audio/x-vnd.audioexplosion.mjuicemediafile"],["mjpg","video/x-motion-jpeg"],["mlp","application/vnd.dolby.mlp"],["mm",["application/base64","application/x-meme"]],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mme","application/base64"],["mmf","application/vnd.smaf"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mny","application/x-msmoney"],["mod",["audio/mod","audio/x-mod"]],["mods","application/mods+xml"],["moov","video/quicktime"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2",["video/mpeg","audio/mpeg","video/x-mpeg","audio/x-mpeg","video/x-mpeq2a"]],["mp3",["audio/mpeg","audio/mpeg3","video/mpeg","audio/x-mpeg-3","video/x-mpeg"]],["mp4",["video/mp4","application/mp4"]],["mp4a","audio/mp4"],["mpa",["video/mpeg","audio/mpeg"]],["mpc",["application/vnd.mophun.certificate","application/x-project"]],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg",["video/mpeg","audio/mpeg"]],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/x-project"],["mpv","application/x-project"],["mpv2","video/mpeg"],["mpx","application/x-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","application/x-troff-ms"],["mscml","application/mediaservercontrol+xml"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msl","application/vnd.mobius.msl"],["msty","application/vnd.muvee.style"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musicxml","application/vnd.recordare.musicxml+xml"],["mv","video/x-sgi-movie"],["mvb","application/x-msmediaview"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["my","audio/make"],["mzz","application/x-vnd.audioexplosion.mzz"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nap","image/naplps"],["naplps","image/naplps"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncm","application/vnd.nokia.configuration-message"],["ncx","application/x-dtbncx+xml"],["ngdat","application/vnd.nokia.n-gage.data"],["nif","image/x-niff"],["niff","image/x-niff"],["nix","application/x-mix-transfer"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nvd","application/x-navidoc"],["nws","message/rfc822"],["o","application/octet-stream"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omc","application/x-omc"],["omcd","application/x-omcdatamaker"],["omcr","application/x-omcregerator"],["onetoc","application/onenote"],["opf","application/oebps-package+xml"],["org","application/vnd.lotus-organizer"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","application/x-font-otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p10",["application/pkcs10","application/x-pkcs10"]],["p12",["application/pkcs-12","application/x-pkcs12"]],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c",["application/pkcs7-mime","application/x-pkcs7-mime"]],["p7m",["application/pkcs7-mime","application/x-pkcs7-mime"]],["p7r","application/x-pkcs7-certreqresp"],["p7s",["application/pkcs7-signature","application/x-pkcs7-signature"]],["p8","application/pkcs8"],["par","text/plain-bas"],["part","application/pro_eng"],["pas","text/pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcf","application/x-font-pcf"],["pcl",["application/vnd.hp-pcl","application/x-pcl"]],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb",["application/vnd.palm","chemical/x-pdb"]],["pdf","application/pdf"],["pfa","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfunk",["audio/make","audio/make.my.funk"]],["pfx","application/x-pkcs12"],["pgm",["image/x-portable-graymap","image/x-portable-greymap"]],["pgn","application/x-chess-pgn"],["pgp","application/pgp-signature"],["pic",["image/pict","image/x-pict"]],["pict","image/pict"],["pkg","application/x-newton-compatible-pkg"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pko",["application/ynd.ms-pkipko","application/vnd.ms-pki.pko"]],["pl",["text/plain","text/x-script.perl"]],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["plx","application/x-pixclscript"],["pm",["text/x-script.perl-module","image/x-xpixmap"]],["pm4","application/x-pagemaker"],["pm5","application/x-pagemaker"],["pma","application/x-perfmon"],["pmc","application/x-perfmon"],["pml",["application/vnd.ctc-posml","application/x-perfmon"]],["pmr","application/x-perfmon"],["pmw","application/x-perfmon"],["png","image/png"],["pnm",["application/x-portable-anymap","image/x-portable-anymap"]],["portpkg","application/vnd.macports.portpkg"],["pot",["application/vnd.ms-powerpoint","application/mspowerpoint"]],["potm","application/vnd.ms-powerpoint.template.macroenabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["pov","model/x-pov"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroenabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps",["application/vnd.ms-powerpoint","application/mspowerpoint"]],["ppsm","application/vnd.ms-powerpoint.slideshow.macroenabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt",["application/vnd.ms-powerpoint","application/mspowerpoint","application/powerpoint","application/x-mspowerpoint"]],["pptm","application/vnd.ms-powerpoint.presentation.macroenabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["ppz","application/mspowerpoint"],["prc","application/x-mobipocket-ebook"],["pre",["application/vnd.lotus-freelance","application/x-freelance"]],["prf","application/pics-rules"],["prt","application/pro_eng"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd",["application/octet-stream","image/vnd.adobe.photoshop"]],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pvu","paleovu/x-pv"],["pwn","application/vnd.3m.post-it-notes"],["pwz","application/vnd.ms-powerpoint"],["py","text/x-script.phyton"],["pya","audio/vnd.ms-playready.media.pya"],["pyc","applicaiton/x-bytecode.python"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qcp","audio/vnd.qcelp"],["qd3","x-world/x-3dmf"],["qd3d","x-world/x-3dmf"],["qfx","application/vnd.intu.qfx"],["qif","image/x-quicktime"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qtc","video/x-qtc"],["qti","image/x-quicktime"],["qtif","image/x-quicktime"],["qxd","application/vnd.quark.quarkxpress"],["ra",["audio/x-realaudio","audio/x-pn-realaudio","audio/x-pn-realaudio-plugin"]],["ram","audio/x-pn-realaudio"],["rar","application/x-rar-compressed"],["ras",["image/cmu-raster","application/x-cmu-raster","image/x-cmu-raster"]],["rast","image/cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rexx","text/x-script.rexx"],["rf","image/vnd.rn-realflash"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm",["application/vnd.rn-realmedia","audio/x-pn-realaudio"]],["rmi","audio/mid"],["rmm","audio/x-pn-realaudio"],["rmp",["audio/x-pn-realaudio-plugin","audio/x-pn-realaudio"]],["rms","application/vnd.jcp.javame.midlet-rms"],["rnc","application/relax-ng-compact-syntax"],["rng",["application/ringing-tones","application/vnd.nokia.ringing-tone"]],["rnx","application/vnd.rn-realplayer"],["roff","application/x-troff"],["rp","image/vnd.rn-realpix"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsd","application/rsd+xml"],["rt",["text/richtext","text/vnd.rn-realtext"]],["rtf",["application/rtf","text/richtext","application/x-rtf"]],["rtx",["text/richtext","application/rtf"]],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["saveme","application/octet-stream"],["sbk","application/x-tbook"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm",["application/vnd.lotus-screencam","video/x-scm","text/x-script.guile","application/x-lotusscreencam","text/x-script.scheme"]],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["sct","text/scriptlet"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkm","application/vnd.solent.sdkm+xml"],["sdml","text/plain"],["sdp",["application/sdp","application/x-sdp"]],["sdr","application/sounder"],["sdw","application/vnd.stardivision.writer"],["sea",["application/sea","application/x-sea"]],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["ser","application/java-serialized-object"],["set","application/set"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sgl","application/vnd.stardivision.writer-global"],["sgm",["text/sgml","text/x-sgml"]],["sgml",["text/sgml","text/x-sgml"]],["sh",["application/x-shar","application/x-bsh","application/x-sh","text/x-script.sh"]],["shar",["application/x-bsh","application/x-shar"]],["shf","application/shf+xml"],["shtml",["text/html","text/x-server-parsed-html"]],["sid","audio/x-psid"],["sis","application/vnd.symbian.install"],["sit",["application/x-stuffit","application/x-sit"]],["sitx","application/x-stuffitx"],["skd","application/x-koan"],["skm","application/x-koan"],["skp",["application/vnd.koan","application/x-koan"]],["skt","application/x-koan"],["sl","application/x-seelogo"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi",["application/smil","application/smil+xml"]],["smil","application/smil"],["snd",["audio/basic","audio/x-adpcm"]],["snf","application/x-font-snf"],["sol","application/solids"],["spc",["text/x-speech","application/x-pkcs7-certificates"]],["spf","application/vnd.yamaha.smaf-phrase"],["spl",["application/futuresplash","application/x-futuresplash"]],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spr","application/x-sprite"],["sprite","application/x-sprite"],["src","application/x-wais-source"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssi","text/x-server-parsed-html"],["ssm","application/streamingmedia"],["ssml","application/ssml+xml"],["sst",["application/vnd.ms-pkicertstore","application/vnd.ms-pki.certstore"]],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["step","application/step"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl",["application/vnd.ms-pkistl","application/sla","application/vnd.ms-pki.stl","application/x-navistyle"]],["stm","text/html"],["stp","application/step"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["sub","image/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svf",["image/vnd.dwg","image/x-dwg"]],["svg","image/svg+xml"],["svr",["x-world/x-svr","application/x-world"]],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t",["text/troff","application/x-troff"]],["talk","text/x-speech"],["tao","application/vnd.tao.intent-module-archive"],["tar","application/x-tar"],["tbk",["application/toolbook","application/x-tbook"]],["tcap","application/vnd.3gpp2.tcap"],["tcl",["text/x-script.tcl","application/x-tcl"]],["tcsh","text/x-script.tcsh"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text",["application/plain","text/plain"]],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tgz",["application/gnutar","application/x-compressed"]],["thmx","application/vnd.ms-officetheme"],["tif",["image/tiff","image/x-tiff"]],["tiff",["image/tiff","image/x-tiff"]],["tmo","application/vnd.tmobile-livetv"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","application/x-troff"],["tra","application/vnd.trueapp"],["trm","application/x-msterminal"],["tsd","application/timestamped-data"],["tsi","audio/tsp-audio"],["tsp",["application/dsptype","audio/tsplayer"]],["tsv","text/tab-separated-values"],["ttf","application/x-font-ttf"],["ttl","text/turtle"],["turbot","image/florian"],["twd","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["ufd","application/vnd.ufdl"],["uil","text/x-uil"],["uls","text/iuls"],["umj","application/vnd.umajin"],["uni","text/uri-list"],["unis","text/uri-list"],["unityweb","application/vnd.unity"],["unv","application/i-deas"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["ustar",["application/x-ustar","multipart/x-ustar"]],["utz","application/vnd.uiq.theme"],["uu",["application/octet-stream","text/x-uuencode"]],["uue","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vda","application/vda"],["vdo","video/vdo"],["vew","application/groupwise"],["vis","application/vnd.visionary"],["viv",["video/vivo","video/vnd.vivo"]],["vivo",["video/vivo","video/vnd.vivo"]],["vmd","application/vocaltec-media-desc"],["vmf","application/vocaltec-media-file"],["voc",["audio/voc","audio/x-voc"]],["vos","video/vosaic"],["vox","audio/voxware"],["vqe","audio/x-twinvq-plugin"],["vqf","audio/x-twinvq"],["vql","audio/x-twinvq-plugin"],["vrml",["model/vrml","x-world/x-vrml","application/x-vrml"]],["vrt","x-world/x-vrt"],["vsd",["application/vnd.visio","application/x-visio"]],["vsf","application/vnd.vsf"],["vst","application/x-visio"],["vsw","application/x-visio"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w60","application/wordperfect6.0"],["w61","application/wordperfect6.1"],["w6w","application/msword"],["wad","application/x-doom"],["wav",["audio/wav","audio/x-wav"]],["wax","audio/x-ms-wax"],["wb1","application/x-qpro"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/vnd.wap.wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["web","application/vnd.xara"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wiz","application/msword"],["wk1","application/x-123"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf",["windows/metafile","application/x-msmetafile"]],["wml","text/vnd.wap.wml"],["wmlc","application/vnd.wap.wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-ms-wmz"],["woff","application/x-font-woff"],["word","application/msword"],["wp","application/wordperfect"],["wp5",["application/wordperfect","application/wordperfect6.0"]],["wp6","application/wordperfect"],["wpd",["application/wordperfect","application/vnd.wordperfect","application/x-wpwin"]],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wq1","application/x-lotus"],["wqd","application/vnd.wqd"],["wri",["application/mswrite","application/x-wri","application/x-mswrite"]],["wrl",["model/vrml","x-world/x-vrml","application/x-world"]],["wrz",["model/vrml","x-world/x-vrml"]],["wsc","text/scriplet"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wsrc","application/x-wais-source"],["wtb","application/vnd.webturbo"],["wtk","application/x-wintalk"],["wvx","video/x-ms-wvx"],["x-png","image/png"],["x3d","application/vnd.hzn-3d-crossword"],["xaf","x-world/x-vrml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm",["image/xbm","image/x-xbm","image/x-xbitmap"]],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdr","video/x-amt-demorun"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xgz","xgl/drawing"],["xhtml","application/xhtml+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla",["application/vnd.ms-excel","application/excel","application/x-msexcel","application/x-excel"]],["xlam","application/vnd.ms-excel.addin.macroenabled.12"],["xlb",["application/excel","application/vnd.ms-excel","application/x-excel"]],["xlc",["application/vnd.ms-excel","application/excel","application/x-excel"]],["xld",["application/excel","application/x-excel"]],["xlk",["application/excel","application/x-excel"]],["xll",["application/excel","application/vnd.ms-excel","application/x-excel"]],["xlm",["application/vnd.ms-excel","application/excel","application/x-excel"]],["xls",["application/vnd.ms-excel","application/excel","application/x-msexcel","application/x-excel"]],["xlsb","application/vnd.ms-excel.sheet.binary.macroenabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroenabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt",["application/vnd.ms-excel","application/excel","application/x-excel"]],["xltm","application/vnd.ms-excel.template.macroenabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlv",["application/excel","application/x-excel"]],["xlw",["application/vnd.ms-excel","application/excel","application/x-msexcel","application/x-excel"]],["xm","audio/xm"],["xml",["application/xml","text/xml","application/atom+xml","application/rss+xml"]],["xmz","xgl/movie"],["xo","application/vnd.olpc-sugar"],["xof","x-world/x-vrml"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpix","application/x-vnd.ls-xpix"],["xpm",["image/xpm","image/x-xpixmap"]],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xsr","video/x-amt-showrun"],["xul","application/vnd.mozilla.xul+xml"],["xwd",["image/x-xwd","image/x-xwindowdump"]],["xyz",["chemical/x-xyz","chemical/x-pdb"]],["yang","application/yang"],["yin","application/yin+xml"],["z",["application/x-compressed","application/x-compress"]],["zaz","application/vnd.zzazz.deck+xml"],["zip",["application/zip","multipart/x-zip","application/x-zip-compressed","application/x-compressed"]],["zir","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zoo","application/octet-stream"],["zsh","text/x-script.zsh"]]);e.exports={detectMimeType(e){if(!e)return"application/octet-stream";let t=n.parse(e),i=(t.ext.substr(1)||t.name||"").split("?").shift().trim().toLowerCase(),r="application/octet-stream";return o.has(i)&&(r=o.get(i)),Array.isArray(r)?r[0]:r},detectExtension(e){if(!e)return"bin";let t=(e||"").toLowerCase().trim().split("/"),i=t.shift().trim(),n=t.join("/").trim();if(r.has(i+"/"+n)){let e=r.get(i+"/"+n);return Array.isArray(e)?e[0]:e}switch(i){case"text":return"txt";default:return"bin"}}}},function(e,t,i){"use strict";const n=i(15),r=i(16),o=i(2),s=i(78),a=i(0).PassThrough,c=i(11),l=i(45),d=i(80),u=i(79),h=i(166),p=i(44),f=i(167);class A{constructor(e,t){this.nodeCounter=0,t=t||{},this.baseBoundary=t.baseBoundary||n.randomBytes(8).toString("hex"),this.boundaryPrefix=t.boundaryPrefix||"--_NmP",this.disableFileAccess=!!t.disableFileAccess,this.disableUrlAccess=!!t.disableUrlAccess,this.normalizeHeaderKey=t.normalizeHeaderKey,this.date=new Date,this.rootNode=t.rootNode||this,this.keepBcc=!!t.keepBcc,t.filename&&(this.filename=t.filename,e||(e=l.detectMimeType(this.filename.split(".").pop()))),this.textEncoding=(t.textEncoding||"").toString().trim().charAt(0).toUpperCase(),this.parentNode=t.parentNode,this.hostname=t.hostname,this.childNodes=[],this._nodeId=++this.rootNode.nodeCounter,this._headers=[],this._isPlainText=!1,this._hasLongLines=!1,this._envelope=!1,this._raw=!1,this._transforms=[],this._processFuncs=[],e&&this.setHeader("Content-Type",e)}createChild(e,t){t||"object"!=typeof e||(t=e,e=void 0);let i=new A(e,t);return this.appendChild(i),i}appendChild(e){return e.rootNode!==this.rootNode&&(e.rootNode=this.rootNode,e._nodeId=++this.rootNode.nodeCounter),e.parentNode=this,this.childNodes.push(e),e}replace(e){return e===this?this:(this.parentNode.childNodes.forEach((t,i)=>{t===this&&(e.rootNode=this.rootNode,e.parentNode=this.parentNode,e._nodeId=this._nodeId,this.rootNode=this,this.parentNode=void 0,e.parentNode.childNodes[i]=e)}),e)}remove(){if(!this.parentNode)return this;for(let e=this.parentNode.childNodes.length-1;e>=0;e--)if(this.parentNode.childNodes[e]===this)return this.parentNode.childNodes.splice(e,1),this.parentNode=void 0,this.rootNode=this,this}setHeader(e,t){let i,n=!1;if(!t&&e&&"object"==typeof e)return e.key&&"value"in e?this.setHeader(e.key,e.value):Array.isArray(e)?e.forEach(e=>{this.setHeader(e.key,e.value)}):Object.keys(e).forEach(t=>{this.setHeader(t,e[t])}),this;i={key:e=this._normalizeHeaderKey(e),value:t};for(let t=0,r=this._headers.length;t<r;t++)this._headers[t].key===e&&(n?(this._headers.splice(t,1),t--,r--):(this._headers[t]=i,n=!0));return n||this._headers.push(i),this}addHeader(e,t){return!t&&e&&"object"==typeof e?(e.key&&e.value?this.addHeader(e.key,e.value):Array.isArray(e)?e.forEach(e=>{this.addHeader(e.key,e.value)}):Object.keys(e).forEach(t=>{this.addHeader(t,e[t])}),this):Array.isArray(t)?(t.forEach(t=>{this.addHeader(e,t)}),this):(this._headers.push({key:this._normalizeHeaderKey(e),value:t}),this)}getHeader(e){e=this._normalizeHeaderKey(e);for(let t=0,i=this._headers.length;t<i;t++)if(this._headers[t].key===e)return this._headers[t].value}setContent(e){return this.content=e,"function"==typeof this.content.pipe?(this._contentErrorHandler=e=>{this.content.removeListener("error",this._contentErrorHandler),this.content=e},this.content.once("error",this._contentErrorHandler)):"string"==typeof this.content&&(this._isPlainText=l.isPlainText(this.content),this._isPlainText&&l.hasLongerLines(this.content,76)&&(this._hasLongLines=!0)),this}build(e){let t;e||(t=new Promise((t,i)=>{e=c.callbackPromise(t,i)}));let i=this.createReadStream(),n=[],r=0,o=!1;return i.on("readable",()=>{let e;for(;null!==(e=i.read());)n.push(e),r+=e.length}),i.once("error",t=>{if(!o)return o=!0,e(t)}),i.once("end",t=>{if(!o)return o=!0,t&&t.length&&(n.push(t),r+=t.length),e(null,Buffer.concat(n,r))}),t}getTransferEncoding(){let e=!1,t=(this.getHeader("Content-Type")||"").toString().toLowerCase().trim();return this.content&&(e=(this.getHeader("Content-Transfer-Encoding")||"").toString().toLowerCase().trim(),e&&["base64","quoted-printable"].includes(e)||(/^text\//i.test(t)?e=this._isPlainText&&!this._hasLongLines?"7bit":"string"==typeof this.content||this.content instanceof Buffer?"Q"===this._getTextEncoding(this.content)?"quoted-printable":"base64":"B"===this.textEncoding?"base64":"quoted-printable":/^(multipart|message)\//i.test(t)||(e=e||"base64"))),e}buildHeaders(){let e=this.getTransferEncoding(),t=[];return e&&this.setHeader("Content-Transfer-Encoding",e),this.filename&&!this.getHeader("Content-Disposition")&&this.setHeader("Content-Disposition","attachment"),this.rootNode===this&&(this.getHeader("Date")||this.setHeader("Date",this.date.toUTCString().replace(/GMT/,"+0000")),this.messageId(),this.getHeader("MIME-Version")||this.setHeader("MIME-Version","1.0")),this._headers.forEach(e=>{let i,n,r=e.key,o=e.value,s={};if(!o||"object"!=typeof o||["From","Sender","To","Cc","Bcc","Reply-To","Date","References"].includes(r)||(Object.keys(o).forEach(e=>{"value"!==e&&(s[e]=o[e])}),o=(o.value||"").toString(),o.trim()))if(s.prepared)s.foldLines?t.push(l.foldLines(r+": "+o)):t.push(r+": "+o);else{switch(e.key){case"Content-Disposition":i=l.parseHeaderValue(o),this.filename&&(i.params.filename=this.filename),o=l.buildHeaderValue(i);break;case"Content-Type":i=l.parseHeaderValue(o),this._handleContentType(i),i.value.match(/^text\/plain\b/)&&"string"==typeof this.content&&/[\u0080-\uFFFF]/.test(this.content)&&(i.params.charset="utf-8"),o=l.buildHeaderValue(i),this.filename&&(n=this._encodeWords(this.filename),(n!==this.filename||/[\s'"\\;:/=(),<>@[\]?]|^-/.test(n))&&(n='"'+n+'"'),o+="; name="+n);break;case"Bcc":if(!this.keepBcc)return}if(o=this._encodeHeaderValue(r,o),(o||"").toString().trim()){if("function"==typeof this.normalizeHeaderKey){let e=this.normalizeHeaderKey(r,o);e&&"string"==typeof e&&e.length&&(r=e)}t.push(l.foldLines(r+": "+o,76))}}}),t.join("\r\n")}createReadStream(e){let t,i=new a(e=e||{}),n=i;this.stream(i,e,e=>{e?n.emit("error",e):i.end()});for(let e=0,i=this._transforms.length;e<i;e++)t="function"==typeof this._transforms[e]?this._transforms[e]():this._transforms[e],n.once("error",e=>{t.emit("error",e)}),n=n.pipe(t);t=new f,n.once("error",e=>{t.emit("error",e)}),n=n.pipe(t);for(let e=0,i=this._processFuncs.length;e<i;e++)t=this._processFuncs[e],n=t(n);return n}transform(e){this._transforms.push(e)}processFunc(e){this._processFuncs.push(e)}stream(e,t,i){let n,r,o=this.getTransferEncoding(),s=!1,a=e=>{s||(s=!0,i(e))},c=()=>{let i=0,n=()=>{if(i>=this.childNodes.length)return e.write("\r\n--"+this.boundary+"--\r\n"),a();let r=this.childNodes[i++];e.write((i>1?"\r\n":"")+"--"+this.boundary+"\r\n"),r.stream(e,t,e=>{if(e)return a(e);setImmediate(n)})};if(!this.multipart)return a();setImmediate(n)},l=()=>{if(!this.content)return setImmediate(c);{if("[object Error]"===Object.prototype.toString.call(this.content))return a(this.content);"function"==typeof this.content.pipe&&(this.content.removeListener("error",this._contentErrorHandler),this._contentErrorHandler=e=>a(e),this.content.once("error",this._contentErrorHandler));let i=()=>{["quoted-printable","base64"].includes(o)?(n=new("base64"===o?u:d).Encoder(t),n.pipe(e,{end:!1}),n.once("end",c),n.once("error",e=>a(e)),r=this._getStream(this.content),r.pipe(n)):(r=this._getStream(this.content),r.pipe(e,{end:!1}),r.once("end",c)),r.once("error",e=>a(e))};if(this.content._resolve){let e=[],t=0,n=!1,r=this._getStream(this.content);r.on("error",e=>{n||(n=!0,a(e))}),r.on("readable",()=>{let i;for(;null!==(i=r.read());)e.push(i),t+=i.length}),r.on("end",()=>{n||(n=!0,this.content._resolve=!1,this.content._resolvedValue=Buffer.concat(e,t),setImmediate(i))})}else setImmediate(i)}};this._raw?setImmediate(()=>{if("[object Error]"===Object.prototype.toString.call(this._raw))return a(this._raw);"function"==typeof this._raw.pipe&&this._raw.removeListener("error",this._contentErrorHandler);let t=this._getStream(this._raw);t.pipe(e,{end:!1}),t.on("error",t=>e.emit("error",t)),t.on("end",c)}):(e.write(this.buildHeaders()+"\r\n\r\n"),setImmediate(l))}setEnvelope(e){let t;this._envelope={from:!1,to:[]},e.from&&(t=[],this._convertAddresses(this._parseAddresses(e.from),t),t=t.filter(e=>e&&e.address),t.length&&t[0]&&(this._envelope.from=t[0].address)),["to","cc","bcc"].forEach(t=>{e[t]&&this._convertAddresses(this._parseAddresses(e[t]),this._envelope.to)}),this._envelope.to=this._envelope.to.map(e=>e.address).filter(e=>e);let i=["to","cc","bcc","from"];return Object.keys(e).forEach(t=>{i.includes(t)||(this._envelope[t]=e[t])}),this}getAddresses(){let e={};return this._headers.forEach(t=>{let i=t.key.toLowerCase();["from","sender","reply-to","to","cc","bcc"].includes(i)&&(Array.isArray(e[i])||(e[i]=[]),this._convertAddresses(this._parseAddresses(t.value),e[i]))}),e}getEnvelope(){if(this._envelope)return this._envelope;let e={from:!1,to:[]};return this._headers.forEach(t=>{let i=[];"From"===t.key||!e.from&&["Reply-To","Sender"].includes(t.key)?(this._convertAddresses(this._parseAddresses(t.value),i),i.length&&i[0]&&(e.from=i[0].address)):["To","Cc","Bcc"].includes(t.key)&&this._convertAddresses(this._parseAddresses(t.value),e.to)}),e.to=e.to.map(e=>e.address),e}messageId(){let e=this.getHeader("Message-ID");return e||(e=this._generateMessageId(),this.setHeader("Message-ID",e)),e}setRaw(e){return this._raw=e,this._raw&&"function"==typeof this._raw.pipe&&(this._contentErrorHandler=e=>{this._raw.removeListener("error",this._contentErrorHandler),this._raw=e},this._raw.once("error",this._contentErrorHandler)),this}_getStream(e){let t;return e._resolvedValue?(t=new a,setImmediate(()=>t.end(e._resolvedValue)),t):"function"==typeof e.pipe?e:e&&"string"==typeof e.path&&!e.href?this.disableFileAccess?(t=new a,setImmediate(()=>t.emit("error",new Error("File access rejected for "+e.path))),t):o.createReadStream(e.path):e&&"string"==typeof e.href?this.disableUrlAccess?(t=new a,setImmediate(()=>t.emit("error",new Error("Url access rejected for "+e.href))),t):p(e.href,{headers:e.httpHeaders}):(t=new a,setImmediate(()=>t.end(e||"")),t)}_parseAddresses(e){return[].concat.apply([],[].concat(e).map(e=>e&&e.address?(e.address=this._normalizeAddress(e.address),e.name=e.name||"",[e]):h(e)))}_normalizeHeaderKey(e){return e=(e||"").toString().replace(/\r?\n|\r/g," ").trim().toLowerCase().replace(/^X-SMTPAPI$|^(MIME|DKIM|ARC|BIMI)\b|^[a-z]|-(SPF|FBL|ID|MD5)$|-[a-z]/gi,e=>e.toUpperCase()).replace(/^Content-Features$/i,"Content-features")}_handleContentType(e){this.contentType=e.value.trim().toLowerCase(),this.multipart=!!/^multipart\//i.test(this.contentType)&&this.contentType.substr(this.contentType.indexOf("/")+1),this.multipart?this.boundary=e.params.boundary=e.params.boundary||this.boundary||this._generateBoundary():this.boundary=!1}_generateBoundary(){return this.rootNode.boundaryPrefix+"-"+this.rootNode.baseBoundary+"-Part_"+this._nodeId}_encodeHeaderValue(e,t){switch(e=this._normalizeHeaderKey(e)){case"From":case"Sender":case"To":case"Cc":case"Bcc":case"Reply-To":return this._convertAddresses(this._parseAddresses(t));case"Message-ID":case"In-Reply-To":case"Content-Id":return"<"!==(t=(t||"").toString().replace(/\r?\n|\r/g," ")).charAt(0)&&(t="<"+t),">"!==t.charAt(t.length-1)&&(t+=">"),t;case"References":return(t=[].concat.apply([],[].concat(t||"").map(e=>(e=(e||"").toString().replace(/\r?\n|\r/g," ").trim()).replace(/<[^>]*>/g,e=>e.replace(/\s/g,"")).split(/\s+/))).map(e=>("<"!==e.charAt(0)&&(e="<"+e),">"!==e.charAt(e.length-1)&&(e+=">"),e))).join(" ").trim();case"Date":return"[object Date]"===Object.prototype.toString.call(t)?t.toUTCString().replace(/GMT/,"+0000"):(t=(t||"").toString().replace(/\r?\n|\r/g," "),this._encodeWords(t));case"Content-Type":case"Content-Disposition":return(t||"").toString().replace(/\r?\n|\r/g," ");default:return t=(t||"").toString().replace(/\r?\n|\r/g," "),this._encodeWords(t)}}_convertAddresses(e,t){let i=[];return t=t||[],[].concat(e||[]).forEach(e=>{e.address?(e.address=this._normalizeAddress(e.address),e.name?e.name&&i.push(this._encodeAddressName(e.name)+" <"+e.address+">"):i.push(e.address),e.address&&(t.filter(t=>t.address===e.address).length||t.push(e))):e.group&&i.push(this._encodeAddressName(e.name)+":"+(e.group.length?this._convertAddresses(e.group,t):"").trim()+";")}),i.join(", ")}_normalizeAddress(e){let t=(e=(e||"").toString().trim()).lastIndexOf("@");if(t<0)return e;let i=e.substr(0,t),n=e.substr(t+1);return i+"@"+s.toASCII(n.toLowerCase())}_encodeAddressName(e){return/^[\w ']*$/.test(e)?e:/^[\x20-\x7e]*$/.test(e)?'"'+e.replace(/([\\"])/g,"\\$1")+'"':l.encodeWord(e,this._getTextEncoding(e),52)}_encodeWords(e){return l.encodeWords(e,this._getTextEncoding(e),52,!0)}_getTextEncoding(e){e=(e||"").toString();let t,i,n=this.textEncoding;return n||(i=(e.match(/[\x00-\x08\x0B\x0C\x0E-\x1F\u0080-\uFFFF]/g)||[]).length,t=(e.match(/[a-z]/gi)||[]).length,n=i<t?"Q":"B"),n}_generateMessageId(){return"<"+[2,2,2,6].reduce((e,t)=>e+"-"+n.randomBytes(t).toString("hex"),n.randomBytes(4).toString("hex"))+"@"+(this.getEnvelope().from||this.hostname||r.hostname()||"localhost").split("@").pop()+">"}}e.exports=A},function(e,t){e.exports=require("punycode")},function(e,t,i){"use strict";const n=i(0).Transform;function r(e){return"string"==typeof e&&(e=Buffer.from(e,"utf-8")),e.toString("base64")}function o(e,t){if(t=t||76,(e=(e||"").toString()).length<=t)return e;let i=[],n=0,r=1024*t;for(;n<e.length;){let o=e.substr(n,r).replace(new RegExp(".{"+t+"}","g"),"$&\r\n").trim();i.push(o),n+=r}return i.join("\r\n").trim()}e.exports={encode:r,wrap:o,Encoder:class extends n{constructor(e){super(),this.options=e||{},!1!==this.options.lineLength&&(this.options.lineLength=this.options.lineLength||76),this._curLine="",this._remainingBytes=!1,this.inputBytes=0,this.outputBytes=0}_transform(e,t,i){if("buffer"!==t&&(e=Buffer.from(e,t)),!e||!e.length)return setImmediate(i);this.inputBytes+=e.length,this._remainingBytes&&this._remainingBytes.length&&(e=Buffer.concat([this._remainingBytes,e],this._remainingBytes.length+e.length),this._remainingBytes=!1),e.length%3?(this._remainingBytes=e.slice(e.length-e.length%3),e=e.slice(0,e.length-e.length%3)):this._remainingBytes=!1;let n=this._curLine+r(e);if(this.options.lineLength){n=o(n,this.options.lineLength);let e=n.lastIndexOf("\n");e<0?(this._curLine=n,n=""):e===n.length-1?this._curLine="":(this._curLine=n.substr(e+1),n=n.substr(0,e+1))}n&&(this.outputBytes+=n.length,this.push(Buffer.from(n,"ascii"))),setImmediate(i)}_flush(e){this._remainingBytes&&this._remainingBytes.length&&(this._curLine+=r(this._remainingBytes)),this._curLine&&(this._curLine=o(this._curLine,this.options.lineLength),this.outputBytes+=this._curLine.length,this.push(this._curLine,"ascii"),this._curLine=""),e()}}}},function(e,t,i){"use strict";const n=i(0).Transform;function r(e){"string"==typeof e&&(e=Buffer.from(e,"utf-8"));let t,i=[[9],[10],[13],[32,60],[62,126]],n="";for(let r=0,o=e.length;r<o;r++)t=e[r],s(t,i)&&(32!==t&&9!==t||r!==o-1&&10!==e[r+1]&&13!==e[r+1])?n+=String.fromCharCode(t):n+="="+(t<16?"0":"")+t.toString(16).toUpperCase();return n}function o(e,t){if(t=t||76,(e=(e||"").toString()).length<=t)return e;let i,n,r,o=0,s=e.length,a=Math.floor(t/3),c="";for(;o<s;)if(r=e.substr(o,t),i=r.match(/\r\n/))r=r.substr(0,i.index+i[0].length),c+=r,o+=r.length;else if("\n"!==r.substr(-1))if(i=r.substr(-a).match(/\n.*?$/))r=r.substr(0,r.length-(i[0].length-1)),c+=r,o+=r.length;else{if(r.length>t-a&&(i=r.substr(-a).match(/[ \t.,!?][^ \t.,!?]*$/)))r=r.substr(0,r.length-(i[0].length-1));else if(r.match(/[=][\da-f]{0,2}$/i))for((i=r.match(/[=][\da-f]{0,1}$/i))&&(r=r.substr(0,r.length-i[0].length));r.length>3&&r.length<s-o&&!r.match(/^(?:=[\da-f]{2}){1,4}$/i)&&(i=r.match(/[=][\da-f]{2}$/gi))&&(n=parseInt(i[0].substr(1,2),16),!(n<128))&&(r=r.substr(0,r.length-3),!(n>=192)););o+r.length<s&&"\n"!==r.substr(-1)?(r.length===t&&r.match(/[=][\da-f]{2}$/i)?r=r.substr(0,r.length-3):r.length===t&&(r=r.substr(0,r.length-1)),o+=r.length,r+="=\r\n"):o+=r.length,c+=r}else c+=r,o+=r.length;return c}function s(e,t){for(let i=t.length-1;i>=0;i--)if(t[i].length){if(1===t[i].length&&e===t[i][0])return!0;if(2===t[i].length&&e>=t[i][0]&&e<=t[i][1])return!0}return!1}e.exports={encode:r,wrap:o,Encoder:class extends n{constructor(e){super(),this.options=e||{},!1!==this.options.lineLength&&(this.options.lineLength=this.options.lineLength||76),this._curLine="",this.inputBytes=0,this.outputBytes=0}_transform(e,t,i){let n;if("buffer"!==t&&(e=Buffer.from(e,t)),!e||!e.length)return i();this.inputBytes+=e.length,this.options.lineLength?(n=this._curLine+r(e),n=o(n,this.options.lineLength),n=n.replace(/(^|\n)([^\n]*)$/,(e,t,i)=>(this._curLine=i,t)),n&&(this.outputBytes+=n.length,this.push(n))):(n=r(e),this.outputBytes+=n.length,this.push(n,"ascii")),i()}_flush(e){this._curLine&&(this.outputBytes+=this._curLine.length,this.push(this._curLine,"ascii")),e()}}}},function(e,t,i){"use strict";const n=i(0).Stream,r=i(44),o=i(15),s=i(11);e.exports=class extends n{constructor(e,t){if(super(),this.options=e||{},e&&e.serviceClient){if(!e.privateKey||!e.user)return void setImmediate(()=>this.emit("error",new Error('Options "privateKey" and "user" are required for service account!')));let t=Math.min(Math.max(Number(this.options.serviceRequestTimeout)||0,0),3600);this.options.serviceRequestTimeout=t||300}if(this.logger=s.getLogger({logger:t},{component:this.options.component||"OAuth2"}),this.provisionCallback="function"==typeof this.options.provisionCallback&&this.options.provisionCallback,this.options.accessUrl=this.options.accessUrl||"https://accounts.google.com/o/oauth2/token",this.options.customHeaders=this.options.customHeaders||{},this.options.customParams=this.options.customParams||{},this.accessToken=this.options.accessToken||!1,this.options.expires&&Number(this.options.expires))this.expires=this.options.expires;else{let e=Math.max(Number(this.options.timeout)||0,0);this.expires=e&&Date.now()+1e3*e||0}}getToken(e,t){if(!e&&this.accessToken&&(!this.expires||this.expires>Date.now()))return t(null,this.accessToken);let i=(...e)=>{e[0]?this.logger.error({err:e[0],tnx:"OAUTH2",user:this.options.user,action:"renew"},"Failed generating new Access Token for %s",this.options.user):this.logger.info({tnx:"OAUTH2",user:this.options.user,action:"renew"},"Generated new Access Token for %s",this.options.user),t(...e)};this.provisionCallback?this.provisionCallback(this.options.user,!!e,(e,t,n)=>{!e&&t&&(this.accessToken=t,this.expires=n||0),i(e,t)}):this.generateToken(i)}updateToken(e,t){this.accessToken=e,t=Math.max(Number(t)||0,0),this.expires=t&&Date.now()+1e3*t||0,this.emit("token",{user:this.options.user,accessToken:e||"",expires:this.expires})}generateToken(e){let t,i;if(this.options.serviceClient){let n,r=Math.floor(Date.now()/1e3),o={iss:this.options.serviceClient,scope:this.options.scope||"https://mail.google.com/",sub:this.options.user,aud:this.options.accessUrl,iat:r,exp:r+this.options.serviceRequestTimeout};try{n=this.jwtSignRS256(o)}catch(t){return e(new Error("Can't generate token. Check your auth options"))}t={grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:n},i={grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:o}}else{if(!this.options.refreshToken)return e(new Error("Can't create new access token for user"));t={client_id:this.options.clientId||"",client_secret:this.options.clientSecret||"",refresh_token:this.options.refreshToken,grant_type:"refresh_token"},i={client_id:this.options.clientId||"",client_secret:(this.options.clientSecret||"").substr(0,6)+"...",refresh_token:(this.options.refreshToken||"").substr(0,6)+"...",grant_type:"refresh_token"}}Object.keys(this.options.customParams).forEach(e=>{t[e]=this.options.customParams[e],i[e]=this.options.customParams[e]}),this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"generate"},"Requesting token using: %s",JSON.stringify(i)),this.postRequest(this.options.accessUrl,t,this.options,(t,i)=>{let n;if(t)return e(t);try{n=JSON.parse(i.toString())}catch(t){return e(t)}if(!n||"object"!=typeof n)return this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"post"},"Response: %s",(i||"").toString()),e(new Error("Invalid authentication response"));let r={};if(Object.keys(n).forEach(e=>{r[e]="access_token"!==e?n[e]:(n[e]||"").toString().substr(0,6)+"..."}),this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"post"},"Response: %s",JSON.stringify(r)),n.error){let t=n.error;return n.error_description&&(t+=": "+n.error_description),n.error_uri&&(t+=" ("+n.error_uri+")"),e(new Error(t))}return n.access_token?(this.updateToken(n.access_token,n.expires_in),e(null,this.accessToken)):e(new Error("No access token"))})}buildXOAuth2Token(e){let t=["user="+(this.options.user||""),"auth=Bearer "+(e||this.accessToken),"",""];return Buffer.from(t.join(""),"utf-8").toString("base64")}postRequest(e,t,i,n){let o=!1,s=[],a=0,c=r(e,{method:"post",headers:i.customHeaders,body:t,allowErrorResponse:!0});c.on("readable",()=>{let e;for(;null!==(e=c.read());)s.push(e),a+=e.length}),c.once("error",e=>{if(!o)return o=!0,n(e)}),c.once("end",()=>{if(!o)return o=!0,n(null,Buffer.concat(s,a))})}toBase64URL(e){return"string"==typeof e&&(e=Buffer.from(e)),e.toString("base64").replace(/[=]+/g,"").replace(/\+/g,"-").replace(/\//g,"_")}jwtSignRS256(e){e=['{"alg":"RS256","typ":"JWT"}',JSON.stringify(e)].map(e=>this.toBase64URL(e)).join(".");let t=o.createSign("RSA-SHA256").update(e).sign(this.options.privateKey);return e+"."+this.toBase64URL(t)}}},function(e,t,i){"use strict";const n=i(177),r={};function o(e){return e.replace(/[^a-zA-Z0-9.-]/g,"").toLowerCase()}function s(e){let t=["domains","aliases"],i={};return Object.keys(e).forEach(n=>{t.indexOf(n)<0&&(i[n]=e[n])}),i}Object.keys(n).forEach(e=>{let t=n[e];r[o(e)]=s(t),[].concat(t.aliases||[]).forEach(e=>{r[o(e)]=s(t)}),[].concat(t.domains||[]).forEach(e=>{r[o(e)]=s(t)})}),e.exports=function(e){return e=o(e.split("@").pop()),r[e]||!1}},function(e,t,i){"use strict";const n=i(0).Transform;e.exports=class extends n{constructor(e){super(e),this.options=e||{}}_transform(e,t,i){let n,r=0;for(let t=0,i=e.length;t<i;t++)13===e[t]&&(n=e.slice(r,t),r=t+1,this.push(n));r&&r<e.length?(n=e.slice(r),this.push(n)):r||this.push(e),i()}}},function(e,t,i){"use strict";var n;e.exports=x,x.ReadableState=w;i(7).EventEmitter;var r=function(e,t){return e.listeners(t).length},o=i(85),s=i(6).Buffer,a=global.Uint8Array||function(){};var c,l=i(1);c=l&&l.debuglog?l.debuglog("stream"):function(){};var d,u,h,p=i(191),f=i(86),A=i(87).getHighWaterMark,m=i(20).codes,g=m.ERR_INVALID_ARG_TYPE,y=m.ERR_STREAM_PUSH_AFTER_EOF,_=m.ERR_METHOD_NOT_IMPLEMENTED,b=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;i(12)(x,o);var v=f.errorOrDestroy,C=["error","close","destroy","pause","resume"];function w(e,t,r){n=n||i(27),e=e||{},"boolean"!=typeof r&&(r=t instanceof n),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=A(this,e,"readableHighWaterMark",r),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=i(47).StringDecoder),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function x(e){if(n=n||i(27),!(this instanceof x))return new x(e);var t=this instanceof n;this._readableState=new w(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function E(e,t,i,n,r){c("readableAddChunk",t);var o,l=e._readableState;if(null===t)l.reading=!1,function(e,t){if(c("onEofChunk"),t.ended)return;if(t.decoder){var i=t.decoder.end();i&&i.length&&(t.buffer.push(i),t.length+=t.objectMode?1:i.length)}t.ended=!0,t.sync?I(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,M(e)))}(e,l);else if(r||(o=function(e,t){var i;n=t,s.isBuffer(n)||n instanceof a||"string"==typeof t||void 0===t||e.objectMode||(i=new g("chunk",["string","Buffer","Uint8Array"],t));var n;return i}(l,t)),o)v(e,o);else if(l.objectMode||t&&t.length>0)if("string"==typeof t||l.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),n)l.endEmitted?v(e,new b):k(e,l,t,!0);else if(l.ended)v(e,new y);else{if(l.destroyed)return!1;l.reading=!1,l.decoder&&!i?(t=l.decoder.write(t),l.objectMode||0!==t.length?k(e,l,t,!1):O(e,l)):k(e,l,t,!1)}else n||(l.reading=!1,O(e,l));return!l.ended&&(l.length<l.highWaterMark||0===l.length)}function k(e,t,i,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",i)):(t.length+=t.objectMode?1:i.length,n?t.buffer.unshift(i):t.buffer.push(i),t.needReadable&&I(e)),O(e,t)}Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),x.prototype.destroy=f.destroy,x.prototype._undestroy=f.undestroy,x.prototype._destroy=function(e,t){t(e)},x.prototype.push=function(e,t){var i,n=this._readableState;return n.objectMode?i=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=s.from(e,t),t=""),i=!0),E(this,e,t,!1,i)},x.prototype.unshift=function(e){return E(this,e,null,!0,!1)},x.prototype.isPaused=function(){return!1===this._readableState.flowing},x.prototype.setEncoding=function(e){d||(d=i(47).StringDecoder);var t=new d(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,r="";null!==n;)r+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==r&&this._readableState.buffer.push(r),this._readableState.length=r.length,this};function S(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=1073741824?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function I(e){var t=e._readableState;c("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(M,e))}function M(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,F(e)}function O(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(T,e,t))}function T(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var i=t.length;if(c("maybeReadMore read 0"),e.read(0),i===t.length)break}t.readingMore=!1}function P(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function R(e){c("readable nexttick read 0"),e.read(0)}function L(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),F(e),t.flowing&&!t.reading&&e.read(0)}function F(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function N(e,t){return 0===t.length?null:(t.objectMode?i=t.buffer.shift():!e||e>=t.length?(i=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):i=t.buffer.consume(e,t.decoder),i);var i}function B(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(K,t,e))}function K(e,t){if(c("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var i=t._writableState;(!i||i.autoDestroy&&i.finished)&&t.destroy()}}function j(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1}x.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,i=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?B(this):I(this),null;if(0===(e=S(e,t))&&t.ended)return 0===t.length&&B(this),null;var n,r=t.needReadable;return c("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",r=!0),t.ended||t.reading?c("reading or ended",r=!1):r&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=S(i,t))),null===(n=e>0?N(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),i!==e&&t.ended&&B(this)),null!==n&&this.emit("data",n),n},x.prototype._read=function(e){v(this,new _("_read()"))},x.prototype.pipe=function(e,t){var i=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,c("pipe count=%d opts=%j",n.pipesCount,t);var o=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?a:A;function s(t,r){c("onunpipe"),t===i&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,c("cleanup"),e.removeListener("close",p),e.removeListener("finish",f),e.removeListener("drain",l),e.removeListener("error",h),e.removeListener("unpipe",s),i.removeListener("end",a),i.removeListener("end",A),i.removeListener("data",u),d=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function a(){c("onend"),e.end()}n.endEmitted?process.nextTick(o):i.once("end",o),e.on("unpipe",s);var l=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&r(e,"data")&&(t.flowing=!0,F(e))}}(i);e.on("drain",l);var d=!1;function u(t){c("ondata");var r=e.write(t);c("dest.write",r),!1===r&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==j(n.pipes,e))&&!d&&(c("false write response, pause",n.awaitDrain),n.awaitDrain++),i.pause())}function h(t){c("onerror",t),A(),e.removeListener("error",h),0===r(e,"error")&&v(e,t)}function p(){e.removeListener("finish",f),A()}function f(){c("onfinish"),e.removeListener("close",p),A()}function A(){c("unpipe"),i.unpipe(e)}return i.on("data",u),function(e,t,i){if("function"==typeof e.prependListener)return e.prependListener(t,i);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(i):e._events[t]=[i,e._events[t]]:e.on(t,i)}(e,"error",h),e.once("close",p),e.once("finish",f),e.emit("pipe",i),n.flowing||(c("pipe resume"),i.resume()),e},x.prototype.unpipe=function(e){var t=this._readableState,i={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,i)),this;if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<r;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=j(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,i)),this},x.prototype.on=function(e,t){var i=o.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,c("on readable",n.length,n.reading),n.length?I(this):n.reading||process.nextTick(R,this))),i},x.prototype.addListener=x.prototype.on,x.prototype.removeListener=function(e,t){var i=o.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(P,this),i},x.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(P,this),t},x.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(L,e,t))}(this,e)),e.paused=!1,this},x.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},x.prototype.wrap=function(e){var t=this,i=this._readableState,n=!1;for(var r in e.on("end",(function(){if(c("wrapped end"),i.decoder&&!i.ended){var e=i.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(r){(c("wrapped data"),i.decoder&&(r=i.decoder.write(r)),i.objectMode&&null==r)||(i.objectMode||r&&r.length)&&(t.push(r)||(n=!0,e.pause()))})),e)void 0===this[r]&&"function"==typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));for(var o=0;o<C.length;o++)e.on(C[o],this.emit.bind(this,C[o]));return this._read=function(t){c("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(x.prototype[Symbol.asyncIterator]=function(){return void 0===u&&(u=i(194)),u(this)}),Object.defineProperty(x.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(x.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(x.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),x._fromList=N,Object.defineProperty(x.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(x.from=function(e,t){return void 0===h&&(h=i(195)),h(x,e,t)})},function(e,t,i){e.exports=i(0)},function(e,t,i){"use strict";function n(e,t){o(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var i=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(o,this,e)):process.nextTick(o,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?i._writableState?i._writableState.errorEmitted?process.nextTick(r,i):(i._writableState.errorEmitted=!0,process.nextTick(n,i,e)):process.nextTick(n,i,e):t?(process.nextTick(r,i),t(e)):process.nextTick(r,i)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var i=e._readableState,n=e._writableState;i&&i.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},function(e,t,i){"use strict";var n=i(20).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,i,r){var o=function(e,t,i){return null!=e.highWaterMark?e.highWaterMark:t?e[i]:null}(t,r,i);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(r?i:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},function(e,t,i){"use strict";function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,i){var n=e.entry;e.entry=null;for(;n;){var r=n.callback;t.pendingcb--,r(i),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var r;e.exports=x,x.WritableState=w;var o={deprecate:i(89)},s=i(85),a=i(6).Buffer,c=global.Uint8Array||function(){};var l,d=i(86),u=i(87).getHighWaterMark,h=i(20).codes,p=h.ERR_INVALID_ARG_TYPE,f=h.ERR_METHOD_NOT_IMPLEMENTED,A=h.ERR_MULTIPLE_CALLBACK,m=h.ERR_STREAM_CANNOT_PIPE,g=h.ERR_STREAM_DESTROYED,y=h.ERR_STREAM_NULL_VALUES,_=h.ERR_STREAM_WRITE_AFTER_END,b=h.ERR_UNKNOWN_ENCODING,v=d.errorOrDestroy;function C(){}function w(e,t,o){r=r||i(27),e=e||{},"boolean"!=typeof o&&(o=t instanceof r),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=u(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var i=e._writableState,n=i.sync,r=i.writecb;if("function"!=typeof r)throw new A;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(i),t)!function(e,t,i,n,r){--t.pendingcb,i?(process.nextTick(r,n),process.nextTick(O,e,t),e._writableState.errorEmitted=!0,v(e,n)):(r(n),e._writableState.errorEmitted=!0,v(e,n),O(e,t))}(e,i,n,t,r);else{var o=I(i)||e.destroyed;o||i.corked||i.bufferProcessing||!i.bufferedRequest||S(e,i),n?process.nextTick(k,e,i,o,r):k(e,i,o,r)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function x(e){var t=this instanceof(r=r||i(27));if(!t&&!l.call(x,this))return new x(e);this._writableState=new w(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function E(e,t,i,n,r,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new g("write")):i?e._writev(r,t.onwrite):e._write(r,o,t.onwrite),t.sync=!1}function k(e,t,i,n){i||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),O(e,t)}function S(e,t){t.bufferProcessing=!0;var i=t.bufferedRequest;if(e._writev&&i&&i.next){var r=t.bufferedRequestCount,o=new Array(r),s=t.corkedRequestsFree;s.entry=i;for(var a=0,c=!0;i;)o[a]=i,i.isBuf||(c=!1),i=i.next,a+=1;o.allBuffers=c,E(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;i;){var l=i.chunk,d=i.encoding,u=i.callback;if(E(e,t,!1,t.objectMode?1:l.length,l,d,u),i=i.next,t.bufferedRequestCount--,t.writing)break}null===i&&(t.lastBufferedRequest=null)}t.bufferedRequest=i,t.bufferProcessing=!1}function I(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function M(e,t){e._final((function(i){t.pendingcb--,i&&v(e,i),t.prefinished=!0,e.emit("prefinish"),O(e,t)}))}function O(e,t){var i=I(t);if(i&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(M,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return i}i(12)(x,s),w.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(w.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===x&&(e&&e._writableState instanceof w)}})):l=function(e){return e instanceof this},x.prototype.pipe=function(){v(this,new m)},x.prototype.write=function(e,t,i){var n,r=this._writableState,o=!1,s=!r.objectMode&&(n=e,a.isBuffer(n)||n instanceof c);return s&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(i=t,t=null),s?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof i&&(i=C),r.ending?function(e,t){var i=new _;v(e,i),process.nextTick(t,i)}(this,i):(s||function(e,t,i,n){var r;return null===i?r=new y:"string"==typeof i||t.objectMode||(r=new p("chunk",["string","Buffer"],i)),!r||(v(e,r),process.nextTick(n,r),!1)}(this,r,e,i))&&(r.pendingcb++,o=function(e,t,i,n,r,o){if(!i){var s=function(e,t,i){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,i));return t}(t,n,r);n!==s&&(i=!0,r="buffer",n=s)}var c=t.objectMode?1:n.length;t.length+=c;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var d=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:r,isBuf:i,callback:o,next:null},d?d.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else E(e,t,!1,c,n,r,o);return l}(this,r,s,e,t,i)),o},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||S(this,e))},x.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new b(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),x.prototype._write=function(e,t,i){i(new f("_write()"))},x.prototype._writev=null,x.prototype.end=function(e,t,i){var n=this._writableState;return"function"==typeof e?(i=e,e=null,t=null):"function"==typeof t&&(i=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,i){t.ending=!0,O(e,t),i&&(t.finished?process.nextTick(i):e.once("finish",i));t.ended=!0,e.writable=!1}(this,n,i),this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),x.prototype.destroy=d.destroy,x.prototype._undestroy=d.undestroy,x.prototype._destroy=function(e,t){t(e)}},function(e,t,i){e.exports=i(1).deprecate},function(e,t,i){"use strict";e.exports=d;var n=i(20).codes,r=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=i(27);function l(e,t){var i=this._transformState;i.transforming=!1;var n=i.writecb;if(null===n)return this.emit("error",new o);i.writechunk=null,i.writecb=null,null!=t&&this.push(t),n(e);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function d(e){if(!(this instanceof d))return new d(e);c.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",u)}function u(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,i){h(e,t,i)}))}function h(e,t,i){if(t)return e.emit("error",t);if(null!=i&&e.push(i),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}i(12)(d,c),d.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},d.prototype._transform=function(e,t,i){i(new r("_transform()"))},d.prototype._write=function(e,t,i){var n=this._transformState;if(n.writecb=i,n.writechunk=e,n.writeencoding=t,!n.transforming){var r=this._readableState;(n.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},d.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},d.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},function(e,t){var i=Buffer.alloc,n="0".charCodeAt(0),r=Buffer.from("ustar\0","binary"),o=Buffer.from("00","binary"),s=Buffer.from("ustar ","binary"),a=Buffer.from(" \0","binary"),c=parseInt("7777",8),l=function(e,t,i,n){for(;i<n;i++)if(e[i]===t)return i;return n},d=function(e){for(var t=256,i=0;i<148;i++)t+=e[i];for(var n=156;n<512;n++)t+=e[n];return t},u=function(e,t){return(e=e.toString(8)).length>t?"7777777777777777777".slice(0,t)+" ":"0000000000000000000".slice(0,t-e.length)+e+" "};var h=function(e,t,i){if(128&(e=e.slice(t,t+i))[t=0])return function(e){var t;if(128===e[0])t=!0;else{if(255!==e[0])return null;t=!1}for(var i=[],n=e.length-1;n>0;n--){var r=e[n];t?i.push(r):i.push(255-r)}var o=0,s=i.length;for(n=0;n<s;n++)o+=i[n]*Math.pow(256,n);return t?o:-1*o}(e);for(;t<e.length&&32===e[t];)t++;for(var n=(r=l(e,32,t,e.length),o=e.length,s=e.length,"number"!=typeof r?s:(r=~~r)>=o?o:r>=0||(r+=o)>=0?r:0);t<n&&0===e[t];)t++;return n===t?0:parseInt(e.slice(t,n).toString(),8);var r,o,s},p=function(e,t,i,n){return e.slice(t,l(e,0,t,t+i)).toString(n)},f=function(e){var t=Buffer.byteLength(e),i=Math.floor(Math.log(t)/Math.log(10))+1;return t+i>=Math.pow(10,i)&&i++,t+i+e};t.decodeLongPath=function(e,t){return p(e,0,e.length,t)},t.encodePax=function(e){var t="";e.name&&(t+=f(" path="+e.name+"\n")),e.linkname&&(t+=f(" linkpath="+e.linkname+"\n"));var i=e.pax;if(i)for(var n in i)t+=f(" "+n+"="+i[n]+"\n");return Buffer.from(t)},t.decodePax=function(e){for(var t={};e.length;){for(var i=0;i<e.length&&32!==e[i];)i++;var n=parseInt(e.slice(0,i).toString(),10);if(!n)return t;var r=e.slice(i+1,n-1).toString(),o=r.indexOf("=");if(-1===o)return t;t[r.slice(0,o)]=r.slice(o+1),e=e.slice(n)}return t},t.encode=function(e){var t=i(512),s=e.name,a="";if(5===e.typeflag&&"/"!==s[s.length-1]&&(s+="/"),Buffer.byteLength(s)!==s.length)return null;for(;Buffer.byteLength(s)>100;){var l=s.indexOf("/");if(-1===l)return null;a+=a?"/"+s.slice(0,l):s.slice(0,l),s=s.slice(l+1)}return Buffer.byteLength(s)>100||Buffer.byteLength(a)>155||e.linkname&&Buffer.byteLength(e.linkname)>100?null:(t.write(s),t.write(u(e.mode&c,6),100),t.write(u(e.uid,6),108),t.write(u(e.gid,6),116),t.write(u(e.size,11),124),t.write(u(e.mtime.getTime()/1e3|0,11),136),t[156]=n+function(e){switch(e){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}(e.type),e.linkname&&t.write(e.linkname,157),r.copy(t,257),o.copy(t,263),e.uname&&t.write(e.uname,265),e.gname&&t.write(e.gname,297),t.write(u(e.devmajor||0,6),329),t.write(u(e.devminor||0,6),337),a&&t.write(a,345),t.write(u(d(t),6),148),t)},t.decode=function(e,t,i){var o=0===e[156]?0:e[156]-n,c=p(e,0,100,t),l=h(e,100,8),u=h(e,108,8),f=h(e,116,8),A=h(e,124,12),m=h(e,136,12),g=function(e){switch(e){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}(o),y=0===e[157]?null:p(e,157,100,t),_=p(e,265,32),b=p(e,297,32),v=h(e,329,8),C=h(e,337,8),w=d(e);if(256===w)return null;if(w!==h(e,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(0===r.compare(e,257,263))e[345]&&(c=p(e,345,155,t)+"/"+c);else if(0===s.compare(e,257,263)&&0===a.compare(e,263,265));else if(!i)throw new Error("Invalid tar header: unknown format.");return 0===o&&c&&"/"===c[c.length-1]&&(o=5),{name:c,mode:l,uid:u,gid:f,size:A,mtime:new Date(1e3*m),type:g,linkname:y,uname:_,gname:b,devmajor:v,devminor:C}}},function(e,t,i){"use strict";var n;e.exports=x,x.ReadableState=w;i(7).EventEmitter;var r=function(e,t){return e.listeners(t).length},o=i(93),s=i(6).Buffer,a=global.Uint8Array||function(){};var c,l=i(1);c=l&&l.debuglog?l.debuglog("stream"):function(){};var d,u,h,p=i(199),f=i(94),A=i(95).getHighWaterMark,m=i(21).codes,g=m.ERR_INVALID_ARG_TYPE,y=m.ERR_STREAM_PUSH_AFTER_EOF,_=m.ERR_METHOD_NOT_IMPLEMENTED,b=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;i(12)(x,o);var v=f.errorOrDestroy,C=["error","close","destroy","pause","resume"];function w(e,t,r){n=n||i(28),e=e||{},"boolean"!=typeof r&&(r=t instanceof n),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=A(this,e,"readableHighWaterMark",r),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=i(47).StringDecoder),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function x(e){if(n=n||i(28),!(this instanceof x))return new x(e);var t=this instanceof n;this._readableState=new w(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function E(e,t,i,n,r){c("readableAddChunk",t);var o,l=e._readableState;if(null===t)l.reading=!1,function(e,t){if(c("onEofChunk"),t.ended)return;if(t.decoder){var i=t.decoder.end();i&&i.length&&(t.buffer.push(i),t.length+=t.objectMode?1:i.length)}t.ended=!0,t.sync?I(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,M(e)))}(e,l);else if(r||(o=function(e,t){var i;n=t,s.isBuffer(n)||n instanceof a||"string"==typeof t||void 0===t||e.objectMode||(i=new g("chunk",["string","Buffer","Uint8Array"],t));var n;return i}(l,t)),o)v(e,o);else if(l.objectMode||t&&t.length>0)if("string"==typeof t||l.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),n)l.endEmitted?v(e,new b):k(e,l,t,!0);else if(l.ended)v(e,new y);else{if(l.destroyed)return!1;l.reading=!1,l.decoder&&!i?(t=l.decoder.write(t),l.objectMode||0!==t.length?k(e,l,t,!1):O(e,l)):k(e,l,t,!1)}else n||(l.reading=!1,O(e,l));return!l.ended&&(l.length<l.highWaterMark||0===l.length)}function k(e,t,i,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",i)):(t.length+=t.objectMode?1:i.length,n?t.buffer.unshift(i):t.buffer.push(i),t.needReadable&&I(e)),O(e,t)}Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),x.prototype.destroy=f.destroy,x.prototype._undestroy=f.undestroy,x.prototype._destroy=function(e,t){t(e)},x.prototype.push=function(e,t){var i,n=this._readableState;return n.objectMode?i=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=s.from(e,t),t=""),i=!0),E(this,e,t,!1,i)},x.prototype.unshift=function(e){return E(this,e,null,!0,!1)},x.prototype.isPaused=function(){return!1===this._readableState.flowing},x.prototype.setEncoding=function(e){d||(d=i(47).StringDecoder);var t=new d(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,r="";null!==n;)r+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==r&&this._readableState.buffer.push(r),this._readableState.length=r.length,this};function S(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=1073741824?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function I(e){var t=e._readableState;c("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(M,e))}function M(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,F(e)}function O(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(T,e,t))}function T(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var i=t.length;if(c("maybeReadMore read 0"),e.read(0),i===t.length)break}t.readingMore=!1}function P(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function R(e){c("readable nexttick read 0"),e.read(0)}function L(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),F(e),t.flowing&&!t.reading&&e.read(0)}function F(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function N(e,t){return 0===t.length?null:(t.objectMode?i=t.buffer.shift():!e||e>=t.length?(i=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):i=t.buffer.consume(e,t.decoder),i);var i}function B(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(K,t,e))}function K(e,t){if(c("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var i=t._writableState;(!i||i.autoDestroy&&i.finished)&&t.destroy()}}function j(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1}x.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,i=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?B(this):I(this),null;if(0===(e=S(e,t))&&t.ended)return 0===t.length&&B(this),null;var n,r=t.needReadable;return c("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",r=!0),t.ended||t.reading?c("reading or ended",r=!1):r&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=S(i,t))),null===(n=e>0?N(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),i!==e&&t.ended&&B(this)),null!==n&&this.emit("data",n),n},x.prototype._read=function(e){v(this,new _("_read()"))},x.prototype.pipe=function(e,t){var i=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,c("pipe count=%d opts=%j",n.pipesCount,t);var o=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?a:A;function s(t,r){c("onunpipe"),t===i&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,c("cleanup"),e.removeListener("close",p),e.removeListener("finish",f),e.removeListener("drain",l),e.removeListener("error",h),e.removeListener("unpipe",s),i.removeListener("end",a),i.removeListener("end",A),i.removeListener("data",u),d=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function a(){c("onend"),e.end()}n.endEmitted?process.nextTick(o):i.once("end",o),e.on("unpipe",s);var l=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&r(e,"data")&&(t.flowing=!0,F(e))}}(i);e.on("drain",l);var d=!1;function u(t){c("ondata");var r=e.write(t);c("dest.write",r),!1===r&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==j(n.pipes,e))&&!d&&(c("false write response, pause",n.awaitDrain),n.awaitDrain++),i.pause())}function h(t){c("onerror",t),A(),e.removeListener("error",h),0===r(e,"error")&&v(e,t)}function p(){e.removeListener("finish",f),A()}function f(){c("onfinish"),e.removeListener("close",p),A()}function A(){c("unpipe"),i.unpipe(e)}return i.on("data",u),function(e,t,i){if("function"==typeof e.prependListener)return e.prependListener(t,i);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(i):e._events[t]=[i,e._events[t]]:e.on(t,i)}(e,"error",h),e.once("close",p),e.once("finish",f),e.emit("pipe",i),n.flowing||(c("pipe resume"),i.resume()),e},x.prototype.unpipe=function(e){var t=this._readableState,i={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,i)),this;if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<r;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=j(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,i)),this},x.prototype.on=function(e,t){var i=o.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,c("on readable",n.length,n.reading),n.length?I(this):n.reading||process.nextTick(R,this))),i},x.prototype.addListener=x.prototype.on,x.prototype.removeListener=function(e,t){var i=o.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(P,this),i},x.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(P,this),t},x.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(L,e,t))}(this,e)),e.paused=!1,this},x.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},x.prototype.wrap=function(e){var t=this,i=this._readableState,n=!1;for(var r in e.on("end",(function(){if(c("wrapped end"),i.decoder&&!i.ended){var e=i.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(r){(c("wrapped data"),i.decoder&&(r=i.decoder.write(r)),i.objectMode&&null==r)||(i.objectMode||r&&r.length)&&(t.push(r)||(n=!0,e.pause()))})),e)void 0===this[r]&&"function"==typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));for(var o=0;o<C.length;o++)e.on(C[o],this.emit.bind(this,C[o]));return this._read=function(t){c("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(x.prototype[Symbol.asyncIterator]=function(){return void 0===u&&(u=i(200)),u(this)}),Object.defineProperty(x.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(x.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(x.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),x._fromList=N,Object.defineProperty(x.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(x.from=function(e,t){return void 0===h&&(h=i(201)),h(x,e,t)})},function(e,t,i){e.exports=i(0)},function(e,t,i){"use strict";function n(e,t){o(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var i=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(o,this,e)):process.nextTick(o,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?i._writableState?i._writableState.errorEmitted?process.nextTick(r,i):(i._writableState.errorEmitted=!0,process.nextTick(n,i,e)):process.nextTick(n,i,e):t?(process.nextTick(r,i),t(e)):process.nextTick(r,i)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var i=e._readableState,n=e._writableState;i&&i.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},function(e,t,i){"use strict";var n=i(21).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,i,r){var o=function(e,t,i){return null!=e.highWaterMark?e.highWaterMark:t?e[i]:null}(t,r,i);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(r?i:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},function(e,t,i){"use strict";function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,i){var n=e.entry;e.entry=null;for(;n;){var r=n.callback;t.pendingcb--,r(i),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var r;e.exports=x,x.WritableState=w;var o={deprecate:i(89)},s=i(93),a=i(6).Buffer,c=global.Uint8Array||function(){};var l,d=i(94),u=i(95).getHighWaterMark,h=i(21).codes,p=h.ERR_INVALID_ARG_TYPE,f=h.ERR_METHOD_NOT_IMPLEMENTED,A=h.ERR_MULTIPLE_CALLBACK,m=h.ERR_STREAM_CANNOT_PIPE,g=h.ERR_STREAM_DESTROYED,y=h.ERR_STREAM_NULL_VALUES,_=h.ERR_STREAM_WRITE_AFTER_END,b=h.ERR_UNKNOWN_ENCODING,v=d.errorOrDestroy;function C(){}function w(e,t,o){r=r||i(28),e=e||{},"boolean"!=typeof o&&(o=t instanceof r),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=u(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var i=e._writableState,n=i.sync,r=i.writecb;if("function"!=typeof r)throw new A;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(i),t)!function(e,t,i,n,r){--t.pendingcb,i?(process.nextTick(r,n),process.nextTick(O,e,t),e._writableState.errorEmitted=!0,v(e,n)):(r(n),e._writableState.errorEmitted=!0,v(e,n),O(e,t))}(e,i,n,t,r);else{var o=I(i)||e.destroyed;o||i.corked||i.bufferProcessing||!i.bufferedRequest||S(e,i),n?process.nextTick(k,e,i,o,r):k(e,i,o,r)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function x(e){var t=this instanceof(r=r||i(28));if(!t&&!l.call(x,this))return new x(e);this._writableState=new w(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function E(e,t,i,n,r,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new g("write")):i?e._writev(r,t.onwrite):e._write(r,o,t.onwrite),t.sync=!1}function k(e,t,i,n){i||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),O(e,t)}function S(e,t){t.bufferProcessing=!0;var i=t.bufferedRequest;if(e._writev&&i&&i.next){var r=t.bufferedRequestCount,o=new Array(r),s=t.corkedRequestsFree;s.entry=i;for(var a=0,c=!0;i;)o[a]=i,i.isBuf||(c=!1),i=i.next,a+=1;o.allBuffers=c,E(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;i;){var l=i.chunk,d=i.encoding,u=i.callback;if(E(e,t,!1,t.objectMode?1:l.length,l,d,u),i=i.next,t.bufferedRequestCount--,t.writing)break}null===i&&(t.lastBufferedRequest=null)}t.bufferedRequest=i,t.bufferProcessing=!1}function I(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function M(e,t){e._final((function(i){t.pendingcb--,i&&v(e,i),t.prefinished=!0,e.emit("prefinish"),O(e,t)}))}function O(e,t){var i=I(t);if(i&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(M,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return i}i(12)(x,s),w.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(w.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===x&&(e&&e._writableState instanceof w)}})):l=function(e){return e instanceof this},x.prototype.pipe=function(){v(this,new m)},x.prototype.write=function(e,t,i){var n,r=this._writableState,o=!1,s=!r.objectMode&&(n=e,a.isBuffer(n)||n instanceof c);return s&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(i=t,t=null),s?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof i&&(i=C),r.ending?function(e,t){var i=new _;v(e,i),process.nextTick(t,i)}(this,i):(s||function(e,t,i,n){var r;return null===i?r=new y:"string"==typeof i||t.objectMode||(r=new p("chunk",["string","Buffer"],i)),!r||(v(e,r),process.nextTick(n,r),!1)}(this,r,e,i))&&(r.pendingcb++,o=function(e,t,i,n,r,o){if(!i){var s=function(e,t,i){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,i));return t}(t,n,r);n!==s&&(i=!0,r="buffer",n=s)}var c=t.objectMode?1:n.length;t.length+=c;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var d=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:r,isBuf:i,callback:o,next:null},d?d.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else E(e,t,!1,c,n,r,o);return l}(this,r,s,e,t,i)),o},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||S(this,e))},x.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new b(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),x.prototype._write=function(e,t,i){i(new f("_write()"))},x.prototype._writev=null,x.prototype.end=function(e,t,i){var n=this._writableState;return"function"==typeof e?(i=e,e=null,t=null):"function"==typeof t&&(i=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,i){t.ending=!0,O(e,t),i&&(t.finished?process.nextTick(i):e.once("finish",i));t.ended=!0,e.writable=!1}(this,n,i),this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),x.prototype.destroy=d.destroy,x.prototype._undestroy=d.undestroy,x.prototype._destroy=function(e,t){t(e)}},function(e,t,i){"use strict";e.exports=d;var n=i(21).codes,r=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=i(28);function l(e,t){var i=this._transformState;i.transforming=!1;var n=i.writecb;if(null===n)return this.emit("error",new o);i.writechunk=null,i.writecb=null,null!=t&&this.push(t),n(e);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function d(e){if(!(this instanceof d))return new d(e);c.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",u)}function u(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,i){h(e,t,i)}))}function h(e,t,i){if(t)return e.emit("error",t);if(null!=i&&e.push(i),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}i(12)(d,c),d.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},d.prototype._transform=function(e,t,i){i(new r("_transform()"))},d.prototype._write=function(e,t,i){var n=this._transformState;if(n.writecb=i,n.writechunk=e,n.writeencoding=t,!n.transforming){var r=this._readableState;(n.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},d.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},d.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},function(e,t){e.exports=require("constants")},function(e,t,i){var n=i(100),r=function(){},o=function(e,t,i){if("function"==typeof t)return o(e,null,t);t||(t={}),i=n(i||r);var s=e._writableState,a=e._readableState,c=t.readable||!1!==t.readable&&e.readable,l=t.writable||!1!==t.writable&&e.writable,d=!1,u=function(){e.writable||h()},h=function(){l=!1,c||i.call(e)},p=function(){c=!1,l||i.call(e)},f=function(t){i.call(e,t?new Error("exited with error code: "+t):null)},A=function(t){i.call(e,t)},m=function(){process.nextTick(g)},g=function(){if(!d)return(!c||a&&a.ended&&!a.destroyed)&&(!l||s&&s.ended&&!s.destroyed)?void 0:i.call(e,new Error("premature close"))},y=function(){e.req.on("finish",h)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(e)?l&&!s&&(e.on("end",u),e.on("close",u)):(e.on("complete",h),e.on("abort",m),e.req?y():e.on("request",y)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",f),e.on("end",p),e.on("finish",h),!1!==t.error&&e.on("error",A),e.on("close",m),function(){d=!0,e.removeListener("complete",h),e.removeListener("abort",m),e.removeListener("request",y),e.req&&e.req.removeListener("finish",h),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",h),e.removeListener("exit",f),e.removeListener("end",p),e.removeListener("error",A),e.removeListener("close",m)}};e.exports=o},function(e,t,i){var n=i(206);function r(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},i=e.name||"Function wrapped with `once`";return t.onceError=i+" shouldn't be called more than once",t.called=!1,t}e.exports=n(r),e.exports.strict=n(o),r.proto=r((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return r(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},function(e,t){e.exports=require("string_decoder")},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=null;try{n=i(49).Browser}catch(e){n=i(51).Browser}n.prototype.defaultPage=async function(...e){let t=null,i=await this.pages();if(0===i.length&&(i=[await this.newPage()]),t=i.shift(),null!=e&&!0===Array.isArray(e))for(let i of e)t=await i(t);return t};let r=n.prototype.newPage;n.prototype.newPage=async function(...e){let t=await r.apply(this,arguments);if(null!=e&&!0===Array.isArray(e))for(let i of e)t=await i(t);return t}},function(e,t,i){e.exports=function(e){function t(e){let i,r=null;function o(...e){if(!o.enabled)return;const n=o,r=Number(new Date),s=r-(i||r);n.diff=s,n.prev=i,n.curr=r,i=r,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(i,r)=>{if("%%"===i)return"%";a++;const o=t.formatters[r];if("function"==typeof o){const t=e[a];i=o.call(n,t),e.splice(a,1),a--}return i}),t.formatArgs.call(n,e);(n.log||t.log).apply(n,e)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=n,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null===r?t.enabled(e):r,set:e=>{r=e}}),"function"==typeof t.init&&t.init(o),o}function n(e,i){const n=t(this.namespace+(void 0===i?":":i)+e);return n.log=this.log,n}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(r),...t.skips.map(r).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let i;t.save(e),t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length;for(i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let i,n;for(i=0,n=t.skips.length;i<n;i++)if(t.skips[i].test(e))return!1;for(i=0,n=t.names.length;i<n;i++)if(t.names[i].test(e))return!0;return!1},t.humanize=i(211),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(i=>{t[i]=e[i]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let i=0;for(let t=0;t<e.length;t++)i=(i<<5)-i+e.charCodeAt(t),i|=0;return t.colors[Math.abs(i)%t.colors.length]},t.enable(t.load()),t}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Page=void 0;const n=i(30),r=i(39),o=i(218),s=i(219),a=i(62),c=i(225),l=i(227),d=i(4),u=i(8),h=i(228),p=i(106),f=i(50),A=i(65),m=i(229),g=i(230),y=i(231),_=i(232),b=i(233),v=i(18);class C{constructor(){this._chain=Promise.resolve(void 0)}postTask(e){const t=this._chain.then(e);return this._chain=t.catch(()=>{}),t}}class w extends n.EventEmitter{constructor(e,t,i){super(),this._closed=!1,this._timeoutSettings=new g.TimeoutSettings,this._pageBindings=new Map,this._javascriptEnabled=!0,this._workers=new Map,this._fileChooserInterceptors=new Set,this._client=e,this._target=t,this._keyboard=new c.Keyboard(e),this._mouse=new c.Mouse(e,this._keyboard),this._touchscreen=new c.Touchscreen(e,this._keyboard),this._accessibility=new m.Accessibility(e),this._frameManager=new a.FrameManager(e,this,i,this._timeoutSettings),this._emulationManager=new s.EmulationManager(e),this._tracing=new l.Tracing(e),this._coverage=new h.Coverage(e),this._screenshotTaskQueue=new C,this._viewport=null,e.on("Target.attachedToTarget",t=>{if("worker"!==t.targetInfo.type)return void e.send("Target.detachFromTarget",{sessionId:t.sessionId}).catch(u.debugError);const i=r.Connection.fromSession(e).session(t.sessionId),n=new p.WebWorker(i,t.targetInfo.url,this._addConsoleMessage.bind(this),this._handleException.bind(this));this._workers.set(t.sessionId,n),this.emit("workercreated",n)}),e.on("Target.detachedFromTarget",e=>{const t=this._workers.get(e.sessionId);t&&(this.emit("workerdestroyed",t),this._workers.delete(e.sessionId))}),this._frameManager.on(a.FrameManagerEmittedEvents.FrameAttached,e=>this.emit("frameattached",e)),this._frameManager.on(a.FrameManagerEmittedEvents.FrameDetached,e=>this.emit("framedetached",e)),this._frameManager.on(a.FrameManagerEmittedEvents.FrameNavigated,e=>this.emit("framenavigated",e));const n=this._frameManager.networkManager();n.on(A.NetworkManagerEmittedEvents.Request,e=>this.emit("request",e)),n.on(A.NetworkManagerEmittedEvents.Response,e=>this.emit("response",e)),n.on(A.NetworkManagerEmittedEvents.RequestFailed,e=>this.emit("requestfailed",e)),n.on(A.NetworkManagerEmittedEvents.RequestFinished,e=>this.emit("requestfinished",e)),this._fileChooserInterceptors=new Set,e.on("Page.domContentEventFired",()=>this.emit("domcontentloaded")),e.on("Page.loadEventFired",()=>this.emit("load")),e.on("Runtime.consoleAPICalled",e=>this._onConsoleAPI(e)),e.on("Runtime.bindingCalled",e=>this._onBindingCalled(e)),e.on("Page.javascriptDialogOpening",e=>this._onDialog(e)),e.on("Runtime.exceptionThrown",e=>this._handleException(e.exceptionDetails)),e.on("Inspector.targetCrashed",()=>this._onTargetCrashed()),e.on("Performance.metrics",e=>this._emitMetrics(e)),e.on("Log.entryAdded",e=>this._onLogEntryAdded(e)),e.on("Page.fileChooserOpened",e=>this._onFileChooser(e)),this._target._isClosedPromise.then(()=>{this.emit("close"),this._closed=!0})}static async create(e,t,i,n){const r=new w(e,t,i);return await r._initialize(),n&&await r.setViewport(n),r}async _initialize(){await Promise.all([this._frameManager.initialize(),this._client.send("Target.setAutoAttach",{autoAttach:!0,waitForDebuggerOnStart:!1,flatten:!0}),this._client.send("Performance.enable"),this._client.send("Log.enable")])}async _onFileChooser(e){if(!this._fileChooserInterceptors.size)return;const t=this._frameManager.frame(e.frameId),i=await t.executionContext(),n=await i._adoptBackendNodeId(e.backendNodeId),r=Array.from(this._fileChooserInterceptors);this._fileChooserInterceptors.clear();const o=new y.FileChooser(n,e);for(const e of r)e.call(null,o)}isJavaScriptEnabled(){return this._javascriptEnabled}async waitForFileChooser(e={}){this._fileChooserInterceptors.size||await this._client.send("Page.setInterceptFileChooserDialog",{enabled:!0});const{timeout:t=this._timeoutSettings.timeout()}=e;let i;const n=new Promise(e=>i=e);return this._fileChooserInterceptors.add(i),u.helper.waitWithTimeout(n,"waiting for file chooser",t).catch(e=>{throw this._fileChooserInterceptors.delete(i),e})}async setGeolocation(e){const{longitude:t,latitude:i,accuracy:n=0}=e;if(t<-180||t>180)throw new Error(`Invalid longitude "${t}": precondition -180 <= LONGITUDE <= 180 failed.`);if(i<-90||i>90)throw new Error(`Invalid latitude "${i}": precondition -90 <= LATITUDE <= 90 failed.`);if(n<0)throw new Error(`Invalid accuracy "${n}": precondition 0 <= ACCURACY failed.`);await this._client.send("Emulation.setGeolocationOverride",{longitude:t,latitude:i,accuracy:n})}target(){return this._target}browser(){return this._target.browser()}browserContext(){return this._target.browserContext()}_onTargetCrashed(){this.emit("error",new Error("Page crashed!"))}_onLogEntryAdded(e){const{level:t,text:i,args:n,source:r,url:o,lineNumber:s}=e.entry;n&&n.map(e=>u.helper.releaseObject(this._client,e)),"worker"!==r&&this.emit("console",new _.ConsoleMessage(t,i,[],[{url:o,lineNumber:s}]))}mainFrame(){return this._frameManager.mainFrame()}get keyboard(){return this._keyboard}get touchscreen(){return this._touchscreen}get coverage(){return this._coverage}get tracing(){return this._tracing}get accessibility(){return this._accessibility}frames(){return this._frameManager.frames()}workers(){return Array.from(this._workers.values())}async setRequestInterception(e){return this._frameManager.networkManager().setRequestInterception(e)}setOfflineMode(e){return this._frameManager.networkManager().setOfflineMode(e)}emulateNetworkConditions(e){return this._frameManager.networkManager().emulateNetworkConditions(e)}setDefaultNavigationTimeout(e){this._timeoutSettings.setDefaultNavigationTimeout(e)}setDefaultTimeout(e){this._timeoutSettings.setDefaultTimeout(e)}async $(e){return this.mainFrame().$(e)}async evaluateHandle(e,...t){return(await this.mainFrame().executionContext()).evaluateHandle(e,...t)}async queryObjects(e){return(await this.mainFrame().executionContext()).queryObjects(e)}async $eval(e,t,...i){return this.mainFrame().$eval(e,t,...i)}async $$eval(e,t,...i){return this.mainFrame().$$eval(e,t,...i)}async $$(e){return this.mainFrame().$$(e)}async $x(e){return this.mainFrame().$x(e)}async cookies(...e){const t=(await this._client.send("Network.getCookies",{urls:e.length?e:[this.url()]})).cookies,i=["priority"];return t.map(e=>{for(const t of i)delete e[t];return e})}async deleteCookie(...e){const t=this.url();for(const i of e){const e=Object.assign({},i);!i.url&&t.startsWith("http")&&(e.url=t),await this._client.send("Network.deleteCookies",e)}}async setCookie(...e){const t=this.url(),i=t.startsWith("http"),n=e.map(e=>{const n=Object.assign({},e);return!n.url&&i&&(n.url=t),d.assert("about:blank"!==n.url,`Blank page can not have cookie "${n.name}"`),d.assert(!String.prototype.startsWith.call(n.url||"","data:"),`Data URL page can not have cookie "${n.name}"`),n});await this.deleteCookie(...n),n.length&&await this._client.send("Network.setCookies",{cookies:n})}async addScriptTag(e){return this.mainFrame().addScriptTag(e)}async addStyleTag(e){return this.mainFrame().addStyleTag(e)}async exposeFunction(e,t){if(this._pageBindings.has(e))throw new Error(`Failed to add page binding with name ${e}: window['${e}'] already exists!`);this._pageBindings.set(e,t);const i=u.helper.pageBindingInitString("exposedFun",e);await this._client.send("Runtime.addBinding",{name:e}),await this._client.send("Page.addScriptToEvaluateOnNewDocument",{source:i}),await Promise.all(this.frames().map(e=>e.evaluate(i).catch(u.debugError)))}async authenticate(e){return this._frameManager.networkManager().authenticate(e)}async setExtraHTTPHeaders(e){return this._frameManager.networkManager().setExtraHTTPHeaders(e)}async setUserAgent(e){return this._frameManager.networkManager().setUserAgent(e)}async metrics(){const e=await this._client.send("Performance.getMetrics");return this._buildMetricsObject(e.metrics)}_emitMetrics(e){this.emit("metrics",{title:e.title,metrics:this._buildMetricsObject(e.metrics)})}_buildMetricsObject(e){const t={};for(const i of e||[])x.has(i.name)&&(t[i.name]=i.value);return t}_handleException(e){const t=u.helper.getExceptionMessage(e),i=new Error(t);i.stack="",this.emit("pageerror",i)}async _onConsoleAPI(e){if(0===e.executionContextId)return;const t=this._frameManager.executionContextById(e.executionContextId),i=e.args.map(e=>f.createJSHandle(t,e));this._addConsoleMessage(e.type,i,e.stackTrace)}async _onBindingCalled(e){let t;try{t=JSON.parse(e.payload)}catch{return}const{type:i,name:n,seq:r,args:o}=t;if("exposedFun"!==i||!this._pageBindings.has(n))return;let s=null;try{const e=await this._pageBindings.get(n)(...o);s=u.helper.pageBindingDeliverResultString(n,r,e)}catch(e){s=e instanceof Error?u.helper.pageBindingDeliverErrorString(n,r,e.message,e.stack):u.helper.pageBindingDeliverErrorValueString(n,r,e)}this._client.send("Runtime.evaluate",{expression:s,contextId:e.executionContextId}).catch(u.debugError)}_addConsoleMessage(e,t,i){if(!this.listenerCount("console"))return void t.forEach(e=>e.dispose());const n=[];for(const e of t){const t=e._remoteObject;t.objectId?n.push(e.toString()):n.push(u.helper.valueFromRemoteObject(t))}const r=[];if(i)for(const e of i.callFrames)r.push({url:e.url,lineNumber:e.lineNumber,columnNumber:e.columnNumber});const o=new _.ConsoleMessage(e,n.join(" "),t,r);this.emit("console",o)}_onDialog(e){let t=null;new Set(["alert","confirm","prompt","beforeunload"]).has(e.type)&&(t=e.type),d.assert(t,"Unknown javascript dialog type: "+e.type);const i=new o.Dialog(this._client,t,e.message,e.defaultPrompt);this.emit("dialog",i)}url(){return this.mainFrame().url()}async content(){return await this._frameManager.mainFrame().content()}async setContent(e,t={}){await this._frameManager.mainFrame().setContent(e,t)}async goto(e,t={}){return await this._frameManager.mainFrame().goto(e,t)}async reload(e){return(await Promise.all([this.waitForNavigation(e),this._client.send("Page.reload")]))[0]}async waitForNavigation(e={}){return await this._frameManager.mainFrame().waitForNavigation(e)}_sessionClosePromise(){return this._disconnectPromise||(this._disconnectPromise=new Promise(e=>this._client.once(r.CDPSessionEmittedEvents.Disconnected,()=>e(new Error("Target closed"))))),this._disconnectPromise}async waitForRequest(e,t={}){const{timeout:i=this._timeoutSettings.timeout()}=t;return u.helper.waitForEvent(this._frameManager.networkManager(),A.NetworkManagerEmittedEvents.Request,t=>u.helper.isString(e)?e===t.url():"function"==typeof e&&!!e(t),i,this._sessionClosePromise())}async waitForResponse(e,t={}){const{timeout:i=this._timeoutSettings.timeout()}=t;return u.helper.waitForEvent(this._frameManager.networkManager(),A.NetworkManagerEmittedEvents.Response,async t=>u.helper.isString(e)?e===t.url():"function"==typeof e&&!!await e(t),i,this._sessionClosePromise())}async goBack(e={}){return this._go(-1,e)}async goForward(e={}){return this._go(1,e)}async _go(e,t){const i=await this._client.send("Page.getNavigationHistory"),n=i.entries[i.currentIndex+e];if(!n)return null;return(await Promise.all([this.waitForNavigation(t),this._client.send("Page.navigateToHistoryEntry",{entryId:n.id})]))[0]}async bringToFront(){await this._client.send("Page.bringToFront")}async emulate(e){await Promise.all([this.setViewport(e.viewport),this.setUserAgent(e.userAgent)])}async setJavaScriptEnabled(e){this._javascriptEnabled!==e&&(this._javascriptEnabled=e,await this._client.send("Emulation.setScriptExecutionDisabled",{value:!e}))}async setBypassCSP(e){await this._client.send("Page.setBypassCSP",{enabled:e})}async emulateMediaType(e){d.assert("screen"===e||"print"===e||null===e,"Unsupported media type: "+e),await this._client.send("Emulation.setEmulatedMedia",{media:e||""})}async emulateMediaFeatures(e){null===e&&await this._client.send("Emulation.setEmulatedMedia",{features:null}),Array.isArray(e)&&(e.every(e=>{const t=e.name;return d.assert(/^(?:prefers-(?:color-scheme|reduced-motion)|color-gamut)$/.test(t),"Unsupported media feature: "+t),!0}),await this._client.send("Emulation.setEmulatedMedia",{features:e}))}async emulateTimezone(e){try{await this._client.send("Emulation.setTimezoneOverride",{timezoneId:e||""})}catch(t){if(t.message.includes("Invalid timezone"))throw new Error("Invalid timezone ID: "+e);throw t}}async emulateIdleState(e){e?await this._client.send("Emulation.setIdleOverride",{isUserActive:e.isUserActive,isScreenUnlocked:e.isScreenUnlocked}):await this._client.send("Emulation.clearIdleOverride")}async emulateVisionDeficiency(e){const t=new Set(["none","achromatopsia","blurredVision","deuteranopia","protanopia","tritanopia"]);try{d.assert(!e||t.has(e),"Unsupported vision deficiency: "+e),await this._client.send("Emulation.setEmulatedVisionDeficiency",{type:e||"none"})}catch(e){throw e}}async setViewport(e){const t=await this._emulationManager.emulateViewport(e);this._viewport=e,t&&await this.reload()}viewport(){return this._viewport}async evaluate(e,...t){return this._frameManager.mainFrame().evaluate(e,...t)}async evaluateOnNewDocument(e,...t){const i=u.helper.evaluationString(e,...t);await this._client.send("Page.addScriptToEvaluateOnNewDocument",{source:i})}async setCacheEnabled(e=!0){await this._frameManager.networkManager().setCacheEnabled(e)}async screenshot(e={}){let t=null;if(e.type)d.assert("png"===e.type||"jpeg"===e.type,"Unknown options.type value: "+e.type),t=e.type;else if(e.path){const i=e.path,n=i.slice(i.lastIndexOf(".")+1).toLowerCase();"png"===n?t="png":"jpg"!==n&&"jpeg"!==n||(t="jpeg"),d.assert(t,`Unsupported screenshot type for extension \`.${n}\``)}return t||(t="png"),e.quality&&(d.assert("jpeg"===t,"options.quality is unsupported for the "+t+" screenshots"),d.assert("number"==typeof e.quality,"Expected options.quality to be a number but found "+typeof e.quality),d.assert(Number.isInteger(e.quality),"Expected options.quality to be an integer"),d.assert(e.quality>=0&&e.quality<=100,"Expected options.quality to be between 0 and 100 (inclusive), got "+e.quality)),d.assert(!e.clip||!e.fullPage,"options.clip and options.fullPage are exclusive"),e.clip&&(d.assert("number"==typeof e.clip.x,"Expected options.clip.x to be a number but found "+typeof e.clip.x),d.assert("number"==typeof e.clip.y,"Expected options.clip.y to be a number but found "+typeof e.clip.y),d.assert("number"==typeof e.clip.width,"Expected options.clip.width to be a number but found "+typeof e.clip.width),d.assert("number"==typeof e.clip.height,"Expected options.clip.height to be a number but found "+typeof e.clip.height),d.assert(0!==e.clip.width,"Expected options.clip.width not to be 0."),d.assert(0!==e.clip.height,"Expected options.clip.height not to be 0.")),this._screenshotTaskQueue.postTask(()=>this._screenshotTask(t,e))}async _screenshotTask(e,t){await this._client.send("Target.activateTarget",{targetId:this._target._targetId});let i=t.clip?function(e){const t=Math.round(e.x),i=Math.round(e.y),n=Math.round(e.width+e.x-t),r=Math.round(e.height+e.y-i);return{x:t,y:i,width:n,height:r,scale:1}}(t.clip):void 0;if(t.fullPage){const e=await this._client.send("Page.getLayoutMetrics");i={x:0,y:0,width:Math.ceil(e.contentSize.width),height:Math.ceil(e.contentSize.height),scale:1}}const n=t.omitBackground&&"png"===e;n&&await this._client.send("Emulation.setDefaultBackgroundColorOverride",{color:{r:0,g:0,b:0,a:0}});const r=await this._client.send("Page.captureScreenshot",{format:e,quality:t.quality,clip:i,captureBeyondViewport:!0});n&&await this._client.send("Emulation.setDefaultBackgroundColorOverride"),t.fullPage&&this._viewport&&await this.setViewport(this._viewport);const o="base64"===t.encoding?r.data:Buffer.from(r.data,"base64");if(!v.isNode&&t.path)throw new Error("Screenshots can only be written to a file path in a Node environment.");const s=await u.helper.importFSModule();return t.path&&await s.promises.writeFile(t.path,o),o}async pdf(e={}){const{scale:t=1,displayHeaderFooter:i=!1,headerTemplate:n="",footerTemplate:r="",printBackground:o=!1,landscape:s=!1,pageRanges:a="",preferCSSPageSize:c=!1,margin:l={},path:h=null}=e;let p=8.5,f=11;if(e.format){const t=b.paperFormats[e.format.toLowerCase()];d.assert(t,"Unknown paper format: "+e.format),p=t.width,f=t.height}else p=k(e.width)||p,f=k(e.height)||f;const A=k(l.top)||0,m=k(l.left)||0,g=k(l.bottom)||0,y=k(l.right)||0,_=await this._client.send("Page.printToPDF",{transferMode:"ReturnAsStream",landscape:s,displayHeaderFooter:i,headerTemplate:n,footerTemplate:r,printBackground:o,scale:t,paperWidth:p,paperHeight:f,marginTop:A,marginBottom:g,marginLeft:m,marginRight:y,pageRanges:a,preferCSSPageSize:c});return await u.helper.readProtocolStream(this._client,_.stream,h)}async title(){return this.mainFrame().title()}async close(e={runBeforeUnload:void 0}){d.assert(!!this._client._connection,"Protocol error: Connection closed. Most likely the page has been closed.");!!e.runBeforeUnload?await this._client.send("Page.close"):(await this._client._connection.send("Target.closeTarget",{targetId:this._target._targetId}),await this._target._isClosedPromise)}isClosed(){return this._closed}get mouse(){return this._mouse}click(e,t={}){return this.mainFrame().click(e,t)}focus(e){return this.mainFrame().focus(e)}hover(e){return this.mainFrame().hover(e)}select(e,...t){return this.mainFrame().select(e,...t)}tap(e){return this.mainFrame().tap(e)}type(e,t,i){return this.mainFrame().type(e,t,i)}waitFor(e,t={},...i){return this.mainFrame().waitFor(e,t,...i)}waitForTimeout(e){return this.mainFrame().waitForTimeout(e)}waitForSelector(e,t={}){return this.mainFrame().waitForSelector(e,t)}waitForXPath(e,t={}){return this.mainFrame().waitForXPath(e,t)}waitForFunction(e,t={},...i){return this.mainFrame().waitForFunction(e,t,...i)}}t.Page=w;const x=new Set(["Timestamp","Documents","Frames","JSEventListeners","Nodes","LayoutCount","RecalcStyleCount","LayoutDuration","RecalcStyleDuration","ScriptDuration","TaskDuration","JSHeapUsedSize","JSHeapTotalSize"]),E={px:1,in:96,cm:37.8,mm:3.78};function k(e){if(void 0===e)return;let t;if(u.helper.isNumber(e))t=e;else{if(!u.helper.isString(e))throw new Error("page.pdf() Cannot handle parameter type: "+typeof e);{const i=e;let n=i.substring(i.length-2).toLowerCase(),r="";E.hasOwnProperty(n)?r=i.substring(0,i.length-2):(n="px",r=i);const o=Number(r);d.assert(!isNaN(o),"Failed to parse parameter value: "+i),t=o*E[n]}}return t/96}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LifecycleWatcher=void 0;const n=i(4),r=i(8),o=i(37),s=i(62),a=i(65),c=i(39),l=new Map([["load","load"],["domcontentloaded","DOMContentLoaded"],["networkidle0","networkIdle"],["networkidle2","networkAlmostIdle"]]);t.LifecycleWatcher=class{constructor(e,t,i,o){Array.isArray(i)?i=i.slice():"string"==typeof i&&(i=[i]),this._expectedLifecycle=i.map(e=>{const t=l.get(e);return n.assert(t,"Unknown value for options.waitUntil: "+e),t}),this._frameManager=e,this._frame=t,this._initialLoaderId=t._loaderId,this._timeout=o,this._navigationRequest=null,this._eventListeners=[r.helper.addEventListener(e._client,c.CDPSessionEmittedEvents.Disconnected,()=>this._terminate(new Error("Navigation failed because browser has disconnected!"))),r.helper.addEventListener(this._frameManager,s.FrameManagerEmittedEvents.LifecycleEvent,this._checkLifecycleComplete.bind(this)),r.helper.addEventListener(this._frameManager,s.FrameManagerEmittedEvents.FrameNavigatedWithinDocument,this._navigatedWithinDocument.bind(this)),r.helper.addEventListener(this._frameManager,s.FrameManagerEmittedEvents.FrameDetached,this._onFrameDetached.bind(this)),r.helper.addEventListener(this._frameManager.networkManager(),a.NetworkManagerEmittedEvents.Request,this._onRequest.bind(this))],this._sameDocumentNavigationPromise=new Promise(e=>{this._sameDocumentNavigationCompleteCallback=e}),this._lifecyclePromise=new Promise(e=>{this._lifecycleCallback=e}),this._newDocumentNavigationPromise=new Promise(e=>{this._newDocumentNavigationCompleteCallback=e}),this._timeoutPromise=this._createTimeoutPromise(),this._terminationPromise=new Promise(e=>{this._terminationCallback=e}),this._checkLifecycleComplete()}_onRequest(e){e.frame()===this._frame&&e.isNavigationRequest()&&(this._navigationRequest=e)}_onFrameDetached(e){this._frame!==e?this._checkLifecycleComplete():this._terminationCallback.call(null,new Error("Navigating frame was detached"))}navigationResponse(){return this._navigationRequest?this._navigationRequest.response():null}_terminate(e){this._terminationCallback.call(null,e)}sameDocumentNavigationPromise(){return this._sameDocumentNavigationPromise}newDocumentNavigationPromise(){return this._newDocumentNavigationPromise}lifecyclePromise(){return this._lifecyclePromise}timeoutOrTerminationPromise(){return Promise.race([this._timeoutPromise,this._terminationPromise])}_createTimeoutPromise(){if(!this._timeout)return new Promise(()=>{});const e="Navigation timeout of "+this._timeout+" ms exceeded";return new Promise(e=>this._maximumTimer=setTimeout(e,this._timeout)).then(()=>new o.TimeoutError(e))}_navigatedWithinDocument(e){e===this._frame&&(this._hasSameDocumentNavigation=!0,this._checkLifecycleComplete())}_checkLifecycleComplete(){(function e(t,i){for(const e of i)if(!t._lifecycleEvents.has(e))return!1;for(const n of t.childFrames())if(!e(n,i))return!1;return!0})(this._frame,this._expectedLifecycle)&&(this._lifecycleCallback(),(this._frame._loaderId!==this._initialLoaderId||this._hasSameDocumentNavigation)&&(this._hasSameDocumentNavigation&&this._sameDocumentNavigationCompleteCallback(),this._frame._loaderId!==this._initialLoaderId&&this._newDocumentNavigationCompleteCallback()))}dispose(){r.helper.removeEventListeners(this._eventListeners),clearTimeout(this._maximumTimer)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebWorker=void 0;const n=i(30),r=i(8),o=i(63),s=i(50);class a extends n.EventEmitter{constructor(e,t,i,n){let a;super(),this._client=e,this._url=t,this._executionContextPromise=new Promise(e=>this._executionContextCallback=e),this._client.once("Runtime.executionContextCreated",async t=>{a=t=>new s.JSHandle(i,e,t);const i=new o.ExecutionContext(e,t.context,null);this._executionContextCallback(i)}),this._client.send("Runtime.enable").catch(r.debugError),this._client.on("Runtime.consoleAPICalled",e=>i(e.type,e.args.map(a),e.stackTrace)),this._client.on("Runtime.exceptionThrown",e=>n(e.exceptionDetails))}url(){return this._url}async executionContext(){return this._executionContextPromise}async evaluate(e,...t){return(await this._executionContextPromise).evaluate(e,...t)}async evaluateHandle(e,...t){return(await this._executionContextPromise).evaluateHandle(e,...t)}}t.WebWorker=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Page=void 0;const n=i(31),r=i(42),o=i(236),s=i(237),a=i(66),c=i(243),l=i(245),d=i(5),u=i(9),h=i(246),p=i(109),f=i(52),A=i(69),m=i(247),g=i(248),y=i(249),_=i(250),b=i(251),v=i(19);class C{constructor(){this._chain=Promise.resolve(void 0)}postTask(e){const t=this._chain.then(e);return this._chain=t.catch(()=>{}),t}}class w extends n.EventEmitter{constructor(e,t,i){super(),this._closed=!1,this._timeoutSettings=new g.TimeoutSettings,this._pageBindings=new Map,this._javascriptEnabled=!0,this._workers=new Map,this._fileChooserInterceptors=new Set,this._client=e,this._target=t,this._keyboard=new c.Keyboard(e),this._mouse=new c.Mouse(e,this._keyboard),this._touchscreen=new c.Touchscreen(e,this._keyboard),this._accessibility=new m.Accessibility(e),this._frameManager=new a.FrameManager(e,this,i,this._timeoutSettings),this._emulationManager=new s.EmulationManager(e),this._tracing=new l.Tracing(e),this._coverage=new h.Coverage(e),this._screenshotTaskQueue=new C,this._viewport=null,e.on("Target.attachedToTarget",t=>{if("worker"!==t.targetInfo.type)return void e.send("Target.detachFromTarget",{sessionId:t.sessionId}).catch(u.debugError);const i=r.Connection.fromSession(e).session(t.sessionId),n=new p.WebWorker(i,t.targetInfo.url,this._addConsoleMessage.bind(this),this._handleException.bind(this));this._workers.set(t.sessionId,n),this.emit("workercreated",n)}),e.on("Target.detachedFromTarget",e=>{const t=this._workers.get(e.sessionId);t&&(this.emit("workerdestroyed",t),this._workers.delete(e.sessionId))}),this._frameManager.on(a.FrameManagerEmittedEvents.FrameAttached,e=>this.emit("frameattached",e)),this._frameManager.on(a.FrameManagerEmittedEvents.FrameDetached,e=>this.emit("framedetached",e)),this._frameManager.on(a.FrameManagerEmittedEvents.FrameNavigated,e=>this.emit("framenavigated",e));const n=this._frameManager.networkManager();n.on(A.NetworkManagerEmittedEvents.Request,e=>this.emit("request",e)),n.on(A.NetworkManagerEmittedEvents.Response,e=>this.emit("response",e)),n.on(A.NetworkManagerEmittedEvents.RequestFailed,e=>this.emit("requestfailed",e)),n.on(A.NetworkManagerEmittedEvents.RequestFinished,e=>this.emit("requestfinished",e)),this._fileChooserInterceptors=new Set,e.on("Page.domContentEventFired",()=>this.emit("domcontentloaded")),e.on("Page.loadEventFired",()=>this.emit("load")),e.on("Runtime.consoleAPICalled",e=>this._onConsoleAPI(e)),e.on("Runtime.bindingCalled",e=>this._onBindingCalled(e)),e.on("Page.javascriptDialogOpening",e=>this._onDialog(e)),e.on("Runtime.exceptionThrown",e=>this._handleException(e.exceptionDetails)),e.on("Inspector.targetCrashed",()=>this._onTargetCrashed()),e.on("Performance.metrics",e=>this._emitMetrics(e)),e.on("Log.entryAdded",e=>this._onLogEntryAdded(e)),e.on("Page.fileChooserOpened",e=>this._onFileChooser(e)),this._target._isClosedPromise.then(()=>{this.emit("close"),this._closed=!0})}static async create(e,t,i,n){const r=new w(e,t,i);return await r._initialize(),n&&await r.setViewport(n),r}async _initialize(){await Promise.all([this._frameManager.initialize(),this._client.send("Target.setAutoAttach",{autoAttach:!0,waitForDebuggerOnStart:!1,flatten:!0}),this._client.send("Performance.enable"),this._client.send("Log.enable")])}async _onFileChooser(e){if(!this._fileChooserInterceptors.size)return;const t=this._frameManager.frame(e.frameId),i=await t.executionContext(),n=await i._adoptBackendNodeId(e.backendNodeId),r=Array.from(this._fileChooserInterceptors);this._fileChooserInterceptors.clear();const o=new y.FileChooser(n,e);for(const e of r)e.call(null,o)}isJavaScriptEnabled(){return this._javascriptEnabled}async waitForFileChooser(e={}){this._fileChooserInterceptors.size||await this._client.send("Page.setInterceptFileChooserDialog",{enabled:!0});const{timeout:t=this._timeoutSettings.timeout()}=e;let i;const n=new Promise(e=>i=e);return this._fileChooserInterceptors.add(i),u.helper.waitWithTimeout(n,"waiting for file chooser",t).catch(e=>{throw this._fileChooserInterceptors.delete(i),e})}async setGeolocation(e){const{longitude:t,latitude:i,accuracy:n=0}=e;if(t<-180||t>180)throw new Error(`Invalid longitude "${t}": precondition -180 <= LONGITUDE <= 180 failed.`);if(i<-90||i>90)throw new Error(`Invalid latitude "${i}": precondition -90 <= LATITUDE <= 90 failed.`);if(n<0)throw new Error(`Invalid accuracy "${n}": precondition 0 <= ACCURACY failed.`);await this._client.send("Emulation.setGeolocationOverride",{longitude:t,latitude:i,accuracy:n})}target(){return this._target}browser(){return this._target.browser()}browserContext(){return this._target.browserContext()}_onTargetCrashed(){this.emit("error",new Error("Page crashed!"))}_onLogEntryAdded(e){const{level:t,text:i,args:n,source:r,url:o,lineNumber:s}=e.entry;n&&n.map(e=>u.helper.releaseObject(this._client,e)),"worker"!==r&&this.emit("console",new _.ConsoleMessage(t,i,[],[{url:o,lineNumber:s}]))}mainFrame(){return this._frameManager.mainFrame()}get keyboard(){return this._keyboard}get touchscreen(){return this._touchscreen}get coverage(){return this._coverage}get tracing(){return this._tracing}get accessibility(){return this._accessibility}frames(){return this._frameManager.frames()}workers(){return Array.from(this._workers.values())}async setRequestInterception(e){return this._frameManager.networkManager().setRequestInterception(e)}setOfflineMode(e){return this._frameManager.networkManager().setOfflineMode(e)}emulateNetworkConditions(e){return this._frameManager.networkManager().emulateNetworkConditions(e)}setDefaultNavigationTimeout(e){this._timeoutSettings.setDefaultNavigationTimeout(e)}setDefaultTimeout(e){this._timeoutSettings.setDefaultTimeout(e)}async $(e){return this.mainFrame().$(e)}async evaluateHandle(e,...t){return(await this.mainFrame().executionContext()).evaluateHandle(e,...t)}async queryObjects(e){return(await this.mainFrame().executionContext()).queryObjects(e)}async $eval(e,t,...i){return this.mainFrame().$eval(e,t,...i)}async $$eval(e,t,...i){return this.mainFrame().$$eval(e,t,...i)}async $$(e){return this.mainFrame().$$(e)}async $x(e){return this.mainFrame().$x(e)}async cookies(...e){const t=(await this._client.send("Network.getCookies",{urls:e.length?e:[this.url()]})).cookies,i=["priority"];return t.map(e=>{for(const t of i)delete e[t];return e})}async deleteCookie(...e){const t=this.url();for(const i of e){const e=Object.assign({},i);!i.url&&t.startsWith("http")&&(e.url=t),await this._client.send("Network.deleteCookies",e)}}async setCookie(...e){const t=this.url(),i=t.startsWith("http"),n=e.map(e=>{const n=Object.assign({},e);return!n.url&&i&&(n.url=t),d.assert("about:blank"!==n.url,`Blank page can not have cookie "${n.name}"`),d.assert(!String.prototype.startsWith.call(n.url||"","data:"),`Data URL page can not have cookie "${n.name}"`),n});await this.deleteCookie(...n),n.length&&await this._client.send("Network.setCookies",{cookies:n})}async addScriptTag(e){return this.mainFrame().addScriptTag(e)}async addStyleTag(e){return this.mainFrame().addStyleTag(e)}async exposeFunction(e,t){if(this._pageBindings.has(e))throw new Error(`Failed to add page binding with name ${e}: window['${e}'] already exists!`);this._pageBindings.set(e,t);const i=u.helper.pageBindingInitString("exposedFun",e);await this._client.send("Runtime.addBinding",{name:e}),await this._client.send("Page.addScriptToEvaluateOnNewDocument",{source:i}),await Promise.all(this.frames().map(e=>e.evaluate(i).catch(u.debugError)))}async authenticate(e){return this._frameManager.networkManager().authenticate(e)}async setExtraHTTPHeaders(e){return this._frameManager.networkManager().setExtraHTTPHeaders(e)}async setUserAgent(e){return this._frameManager.networkManager().setUserAgent(e)}async metrics(){const e=await this._client.send("Performance.getMetrics");return this._buildMetricsObject(e.metrics)}_emitMetrics(e){this.emit("metrics",{title:e.title,metrics:this._buildMetricsObject(e.metrics)})}_buildMetricsObject(e){const t={};for(const i of e||[])x.has(i.name)&&(t[i.name]=i.value);return t}_handleException(e){const t=u.helper.getExceptionMessage(e),i=new Error(t);i.stack="",this.emit("pageerror",i)}async _onConsoleAPI(e){if(0===e.executionContextId)return;const t=this._frameManager.executionContextById(e.executionContextId),i=e.args.map(e=>f.createJSHandle(t,e));this._addConsoleMessage(e.type,i,e.stackTrace)}async _onBindingCalled(e){let t;try{t=JSON.parse(e.payload)}catch{return}const{type:i,name:n,seq:r,args:o}=t;if("exposedFun"!==i||!this._pageBindings.has(n))return;let s=null;try{const e=await this._pageBindings.get(n)(...o);s=u.helper.pageBindingDeliverResultString(n,r,e)}catch(e){s=e instanceof Error?u.helper.pageBindingDeliverErrorString(n,r,e.message,e.stack):u.helper.pageBindingDeliverErrorValueString(n,r,e)}this._client.send("Runtime.evaluate",{expression:s,contextId:e.executionContextId}).catch(u.debugError)}_addConsoleMessage(e,t,i){if(!this.listenerCount("console"))return void t.forEach(e=>e.dispose());const n=[];for(const e of t){const t=e._remoteObject;t.objectId?n.push(e.toString()):n.push(u.helper.valueFromRemoteObject(t))}const r=[];if(i)for(const e of i.callFrames)r.push({url:e.url,lineNumber:e.lineNumber,columnNumber:e.columnNumber});const o=new _.ConsoleMessage(e,n.join(" "),t,r);this.emit("console",o)}_onDialog(e){let t=null;new Set(["alert","confirm","prompt","beforeunload"]).has(e.type)&&(t=e.type),d.assert(t,"Unknown javascript dialog type: "+e.type);const i=new o.Dialog(this._client,t,e.message,e.defaultPrompt);this.emit("dialog",i)}url(){return this.mainFrame().url()}async content(){return await this._frameManager.mainFrame().content()}async setContent(e,t={}){await this._frameManager.mainFrame().setContent(e,t)}async goto(e,t={}){return await this._frameManager.mainFrame().goto(e,t)}async reload(e){return(await Promise.all([this.waitForNavigation(e),this._client.send("Page.reload")]))[0]}async waitForNavigation(e={}){return await this._frameManager.mainFrame().waitForNavigation(e)}_sessionClosePromise(){return this._disconnectPromise||(this._disconnectPromise=new Promise(e=>this._client.once(r.CDPSessionEmittedEvents.Disconnected,()=>e(new Error("Target closed"))))),this._disconnectPromise}async waitForRequest(e,t={}){const{timeout:i=this._timeoutSettings.timeout()}=t;return u.helper.waitForEvent(this._frameManager.networkManager(),A.NetworkManagerEmittedEvents.Request,t=>u.helper.isString(e)?e===t.url():"function"==typeof e&&!!e(t),i,this._sessionClosePromise())}async waitForResponse(e,t={}){const{timeout:i=this._timeoutSettings.timeout()}=t;return u.helper.waitForEvent(this._frameManager.networkManager(),A.NetworkManagerEmittedEvents.Response,async t=>u.helper.isString(e)?e===t.url():"function"==typeof e&&!!await e(t),i,this._sessionClosePromise())}async goBack(e={}){return this._go(-1,e)}async goForward(e={}){return this._go(1,e)}async _go(e,t){const i=await this._client.send("Page.getNavigationHistory"),n=i.entries[i.currentIndex+e];if(!n)return null;return(await Promise.all([this.waitForNavigation(t),this._client.send("Page.navigateToHistoryEntry",{entryId:n.id})]))[0]}async bringToFront(){await this._client.send("Page.bringToFront")}async emulate(e){await Promise.all([this.setViewport(e.viewport),this.setUserAgent(e.userAgent)])}async setJavaScriptEnabled(e){this._javascriptEnabled!==e&&(this._javascriptEnabled=e,await this._client.send("Emulation.setScriptExecutionDisabled",{value:!e}))}async setBypassCSP(e){await this._client.send("Page.setBypassCSP",{enabled:e})}async emulateMediaType(e){d.assert("screen"===e||"print"===e||null===e,"Unsupported media type: "+e),await this._client.send("Emulation.setEmulatedMedia",{media:e||""})}async emulateMediaFeatures(e){null===e&&await this._client.send("Emulation.setEmulatedMedia",{features:null}),Array.isArray(e)&&(e.every(e=>{const t=e.name;return d.assert(/^(?:prefers-(?:color-scheme|reduced-motion)|color-gamut)$/.test(t),"Unsupported media feature: "+t),!0}),await this._client.send("Emulation.setEmulatedMedia",{features:e}))}async emulateTimezone(e){try{await this._client.send("Emulation.setTimezoneOverride",{timezoneId:e||""})}catch(t){if(t.message.includes("Invalid timezone"))throw new Error("Invalid timezone ID: "+e);throw t}}async emulateIdleState(e){e?await this._client.send("Emulation.setIdleOverride",{isUserActive:e.isUserActive,isScreenUnlocked:e.isScreenUnlocked}):await this._client.send("Emulation.clearIdleOverride")}async emulateVisionDeficiency(e){const t=new Set(["none","achromatopsia","blurredVision","deuteranopia","protanopia","tritanopia"]);try{d.assert(!e||t.has(e),"Unsupported vision deficiency: "+e),await this._client.send("Emulation.setEmulatedVisionDeficiency",{type:e||"none"})}catch(e){throw e}}async setViewport(e){const t=await this._emulationManager.emulateViewport(e);this._viewport=e,t&&await this.reload()}viewport(){return this._viewport}async evaluate(e,...t){return this._frameManager.mainFrame().evaluate(e,...t)}async evaluateOnNewDocument(e,...t){const i=u.helper.evaluationString(e,...t);await this._client.send("Page.addScriptToEvaluateOnNewDocument",{source:i})}async setCacheEnabled(e=!0){await this._frameManager.networkManager().setCacheEnabled(e)}async screenshot(e={}){let t=null;if(e.type)d.assert("png"===e.type||"jpeg"===e.type,"Unknown options.type value: "+e.type),t=e.type;else if(e.path){const i=e.path,n=i.slice(i.lastIndexOf(".")+1).toLowerCase();"png"===n?t="png":"jpg"!==n&&"jpeg"!==n||(t="jpeg"),d.assert(t,`Unsupported screenshot type for extension \`.${n}\``)}return t||(t="png"),e.quality&&(d.assert("jpeg"===t,"options.quality is unsupported for the "+t+" screenshots"),d.assert("number"==typeof e.quality,"Expected options.quality to be a number but found "+typeof e.quality),d.assert(Number.isInteger(e.quality),"Expected options.quality to be an integer"),d.assert(e.quality>=0&&e.quality<=100,"Expected options.quality to be between 0 and 100 (inclusive), got "+e.quality)),d.assert(!e.clip||!e.fullPage,"options.clip and options.fullPage are exclusive"),e.clip&&(d.assert("number"==typeof e.clip.x,"Expected options.clip.x to be a number but found "+typeof e.clip.x),d.assert("number"==typeof e.clip.y,"Expected options.clip.y to be a number but found "+typeof e.clip.y),d.assert("number"==typeof e.clip.width,"Expected options.clip.width to be a number but found "+typeof e.clip.width),d.assert("number"==typeof e.clip.height,"Expected options.clip.height to be a number but found "+typeof e.clip.height),d.assert(0!==e.clip.width,"Expected options.clip.width not to be 0."),d.assert(0!==e.clip.height,"Expected options.clip.height not to be 0.")),this._screenshotTaskQueue.postTask(()=>this._screenshotTask(t,e))}async _screenshotTask(e,t){await this._client.send("Target.activateTarget",{targetId:this._target._targetId});let i=t.clip?function(e){const t=Math.round(e.x),i=Math.round(e.y),n=Math.round(e.width+e.x-t),r=Math.round(e.height+e.y-i);return{x:t,y:i,width:n,height:r,scale:1}}(t.clip):void 0;if(t.fullPage){const e=await this._client.send("Page.getLayoutMetrics");i={x:0,y:0,width:Math.ceil(e.contentSize.width),height:Math.ceil(e.contentSize.height),scale:1}}const n=t.omitBackground&&"png"===e;n&&await this._client.send("Emulation.setDefaultBackgroundColorOverride",{color:{r:0,g:0,b:0,a:0}});const r=await this._client.send("Page.captureScreenshot",{format:e,quality:t.quality,clip:i,captureBeyondViewport:!0});n&&await this._client.send("Emulation.setDefaultBackgroundColorOverride"),t.fullPage&&this._viewport&&await this.setViewport(this._viewport);const o="base64"===t.encoding?r.data:Buffer.from(r.data,"base64");if(!v.isNode&&t.path)throw new Error("Screenshots can only be written to a file path in a Node environment.");const s=await u.helper.importFSModule();return t.path&&await s.promises.writeFile(t.path,o),o}async pdf(e={}){const{scale:t=1,displayHeaderFooter:i=!1,headerTemplate:n="",footerTemplate:r="",printBackground:o=!1,landscape:s=!1,pageRanges:a="",preferCSSPageSize:c=!1,margin:l={},path:h=null}=e;let p=8.5,f=11;if(e.format){const t=b.paperFormats[e.format.toLowerCase()];d.assert(t,"Unknown paper format: "+e.format),p=t.width,f=t.height}else p=k(e.width)||p,f=k(e.height)||f;const A=k(l.top)||0,m=k(l.left)||0,g=k(l.bottom)||0,y=k(l.right)||0,_=await this._client.send("Page.printToPDF",{transferMode:"ReturnAsStream",landscape:s,displayHeaderFooter:i,headerTemplate:n,footerTemplate:r,printBackground:o,scale:t,paperWidth:p,paperHeight:f,marginTop:A,marginBottom:g,marginLeft:m,marginRight:y,pageRanges:a,preferCSSPageSize:c});return await u.helper.readProtocolStream(this._client,_.stream,h)}async title(){return this.mainFrame().title()}async close(e={runBeforeUnload:void 0}){d.assert(!!this._client._connection,"Protocol error: Connection closed. Most likely the page has been closed.");!!e.runBeforeUnload?await this._client.send("Page.close"):(await this._client._connection.send("Target.closeTarget",{targetId:this._target._targetId}),await this._target._isClosedPromise)}isClosed(){return this._closed}get mouse(){return this._mouse}click(e,t={}){return this.mainFrame().click(e,t)}focus(e){return this.mainFrame().focus(e)}hover(e){return this.mainFrame().hover(e)}select(e,...t){return this.mainFrame().select(e,...t)}tap(e){return this.mainFrame().tap(e)}type(e,t,i){return this.mainFrame().type(e,t,i)}waitFor(e,t={},...i){return this.mainFrame().waitFor(e,t,...i)}waitForTimeout(e){return this.mainFrame().waitForTimeout(e)}waitForSelector(e,t={}){return this.mainFrame().waitForSelector(e,t)}waitForXPath(e,t={}){return this.mainFrame().waitForXPath(e,t)}waitForFunction(e,t={},...i){return this.mainFrame().waitForFunction(e,t,...i)}}t.Page=w;const x=new Set(["Timestamp","Documents","Frames","JSEventListeners","Nodes","LayoutCount","RecalcStyleCount","LayoutDuration","RecalcStyleDuration","ScriptDuration","TaskDuration","JSHeapUsedSize","JSHeapTotalSize"]),E={px:1,in:96,cm:37.8,mm:3.78};function k(e){if(void 0===e)return;let t;if(u.helper.isNumber(e))t=e;else{if(!u.helper.isString(e))throw new Error("page.pdf() Cannot handle parameter type: "+typeof e);{const i=e;let n=i.substring(i.length-2).toLowerCase(),r="";E.hasOwnProperty(n)?r=i.substring(0,i.length-2):(n="px",r=i);const o=Number(r);d.assert(!isNaN(o),"Failed to parse parameter value: "+i),t=o*E[n]}}return t/96}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LifecycleWatcher=void 0;const n=i(5),r=i(9),o=i(40),s=i(66),a=i(69),c=i(42),l=new Map([["load","load"],["domcontentloaded","DOMContentLoaded"],["networkidle0","networkIdle"],["networkidle2","networkAlmostIdle"]]);t.LifecycleWatcher=class{constructor(e,t,i,o){Array.isArray(i)?i=i.slice():"string"==typeof i&&(i=[i]),this._expectedLifecycle=i.map(e=>{const t=l.get(e);return n.assert(t,"Unknown value for options.waitUntil: "+e),t}),this._frameManager=e,this._frame=t,this._initialLoaderId=t._loaderId,this._timeout=o,this._navigationRequest=null,this._eventListeners=[r.helper.addEventListener(e._client,c.CDPSessionEmittedEvents.Disconnected,()=>this._terminate(new Error("Navigation failed because browser has disconnected!"))),r.helper.addEventListener(this._frameManager,s.FrameManagerEmittedEvents.LifecycleEvent,this._checkLifecycleComplete.bind(this)),r.helper.addEventListener(this._frameManager,s.FrameManagerEmittedEvents.FrameNavigatedWithinDocument,this._navigatedWithinDocument.bind(this)),r.helper.addEventListener(this._frameManager,s.FrameManagerEmittedEvents.FrameDetached,this._onFrameDetached.bind(this)),r.helper.addEventListener(this._frameManager.networkManager(),a.NetworkManagerEmittedEvents.Request,this._onRequest.bind(this))],this._sameDocumentNavigationPromise=new Promise(e=>{this._sameDocumentNavigationCompleteCallback=e}),this._lifecyclePromise=new Promise(e=>{this._lifecycleCallback=e}),this._newDocumentNavigationPromise=new Promise(e=>{this._newDocumentNavigationCompleteCallback=e}),this._timeoutPromise=this._createTimeoutPromise(),this._terminationPromise=new Promise(e=>{this._terminationCallback=e}),this._checkLifecycleComplete()}_onRequest(e){e.frame()===this._frame&&e.isNavigationRequest()&&(this._navigationRequest=e)}_onFrameDetached(e){this._frame!==e?this._checkLifecycleComplete():this._terminationCallback.call(null,new Error("Navigating frame was detached"))}navigationResponse(){return this._navigationRequest?this._navigationRequest.response():null}_terminate(e){this._terminationCallback.call(null,e)}sameDocumentNavigationPromise(){return this._sameDocumentNavigationPromise}newDocumentNavigationPromise(){return this._newDocumentNavigationPromise}lifecyclePromise(){return this._lifecyclePromise}timeoutOrTerminationPromise(){return Promise.race([this._timeoutPromise,this._terminationPromise])}_createTimeoutPromise(){if(!this._timeout)return new Promise(()=>{});const e="Navigation timeout of "+this._timeout+" ms exceeded";return new Promise(e=>this._maximumTimer=setTimeout(e,this._timeout)).then(()=>new o.TimeoutError(e))}_navigatedWithinDocument(e){e===this._frame&&(this._hasSameDocumentNavigation=!0,this._checkLifecycleComplete())}_checkLifecycleComplete(){(function e(t,i){for(const e of i)if(!t._lifecycleEvents.has(e))return!1;for(const n of t.childFrames())if(!e(n,i))return!1;return!0})(this._frame,this._expectedLifecycle)&&(this._lifecycleCallback(),(this._frame._loaderId!==this._initialLoaderId||this._hasSameDocumentNavigation)&&(this._hasSameDocumentNavigation&&this._sameDocumentNavigationCompleteCallback(),this._frame._loaderId!==this._initialLoaderId&&this._newDocumentNavigationCompleteCallback()))}dispose(){r.helper.removeEventListeners(this._eventListeners),clearTimeout(this._maximumTimer)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebWorker=void 0;const n=i(31),r=i(9),o=i(67),s=i(52);class a extends n.EventEmitter{constructor(e,t,i,n){let a;super(),this._client=e,this._url=t,this._executionContextPromise=new Promise(e=>this._executionContextCallback=e),this._client.once("Runtime.executionContextCreated",async t=>{a=t=>new s.JSHandle(i,e,t);const i=new o.ExecutionContext(e,t.context,null);this._executionContextCallback(i)}),this._client.send("Runtime.enable").catch(r.debugError),this._client.on("Runtime.consoleAPICalled",e=>i(e.type,e.args.map(a),e.stackTrace)),this._client.on("Runtime.exceptionThrown",e=>n(e.exceptionDetails))}url(){return this._url}async executionContext(){return this._executionContextPromise}async evaluate(e,...t){return(await this._executionContextPromise).evaluate(e,...t)}async evaluateHandle(e,...t){return(await this._executionContextPromise).evaluateHandle(e,...t)}}t.WebWorker=a},function(e,t,i){"use strict";i.r(t)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=null;try{n=i(49).BrowserContext}catch(e){n=i(51).BrowserContext}n.prototype.defaultPage=async function(...e){let t=null,i=await this.pages();if(0===i.length&&(i=[await this.newPage()]),t=i.shift(),null!=e&&!0===Array.isArray(e))for(let i of e)t=await i(t);return t};let r=n.prototype.newPage;n.prototype.newPage=async function(...e){let t=await r.apply(this,arguments);if(null!=e&&!0===Array.isArray(e))for(let i of e)t=await i(t);return t}},function(e,t,i){"use strict";i.r(t)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=null;try{n=i(50).ElementHandle}catch(e){n=i(52).ElementHandle}n.prototype.clickAndWaitForNavigation=function(e){e=null!=e?e:{waitUntil:["load"]};let t=[this._page.waitForNavigation(e),this.click()];return Promise.all(t).then(e=>e.shift())},n.prototype.clickAndWaitForRequest=function(e,t){let i=[this._page.waitForRequest(t=>{let i=t.url();return"string"==typeof e&&!0===e.includes("*")&&(e=new RegExp(e.replace(/[-\/\\^$+?.()|[\]{}]/g,"\\$&").replace(/[*]+/g,".*?"),"g")),e instanceof RegExp?e.test(i):e===i},t),this.click()];return Promise.all(i).then(e=>e.shift())},n.prototype.clickAndWaitForResponse=function(e,t){let i=[this._page.waitForResponse(t=>{let i=t.url();return"string"==typeof e&&!0===e.includes("*")&&(e=new RegExp(e.replace(/[-\/\\^$+?.()|[\]{}]/g,"\\$&").replace(/[*]+/g,".*?"),"g")),e instanceof RegExp?e.test(i):e===i},t),this.click()];return Promise.all(i).then(e=>e.shift())},n.prototype.fillFormByLabel=function(e){return this.evaluate((e,t)=>{if("form"!==e.nodeName.toLowerCase())throw new Error("Element is not a <form> element.");let i={};for(let[n,r]of Object.entries(t)){let t=[`id(string(//label[normalize-space(.) = "${n}"]/@for))`,`//label[normalize-space(.) = "${n}"]//*[self::input or self::select or self::textarea]`].join(" | ");!0!==i.hasOwnProperty(n)&&(i[n]=[]);let o=null,s=[],a=document.evaluate(t,e,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null);for(;null!=(o=a.iterateNext());)s.push(o);if(0===s.length)throw new Error(`No elements match the selector '${t}' for '${n}'.`);let c=(s[0].getAttribute("type")||s[0].nodeName).toLowerCase(),l=!0===Array.isArray(r)?r:[r];if("file"===c)throw new Error("Input element of type 'file' is not supported.");for(let e of s){try{e.focus(),e.dispatchEvent(new Event("focus"))}catch(e){}if("select"===c){e.value=void 0;for(let t of["value","label"]){if(i[n].length>0)break;for(let r of Array.from(e.options))if(r.selected=l.includes(r[t]),!0===r.selected&&(i[n].push(r.value),!0!==e.multiple))break}}else"checkbox"===c||"radio"===c?(e.checked=!0===r||l.includes(e.value),!0===e.checked&&i[n].push(e.value)):"string"==typeof r&&(!0===e.isContentEditable?i[n].push(e.textContent=r):i[n].push(e.value=r));for(let t of["input","change"])e.dispatchEvent(new Event(t,{bubbles:!0}));try{e.blur(),e.dispatchEvent(new Event("blur"))}catch(e){}if("checkbox"===c||"radio"===c)break}}return i},e)},n.prototype.fillFormByName=function(e){return this.evaluate((e,t,i="css")=>{if("form"!==e.nodeName.toLowerCase())throw new Error("Element is not a <form> element.");let n={};for(let[i,r]of Object.entries(t)){let t=`[name="${i}"]`;!0!==n.hasOwnProperty(i)&&(n[i]=[]);let o=Array.from(e.querySelectorAll(t));if(0===o.length)throw new Error(`No elements match the selector '${t}' for '${i}'.`);let s=(o[0].getAttribute("type")||o[0].nodeName).toLowerCase(),a=!0===Array.isArray(r)?r:[r];if("file"===s)throw new Error("Input element of type 'file' is not supported.");for(let e of o){try{e.focus(),e.dispatchEvent(new Event("focus"))}catch(e){}if("select"===s){e.value=void 0;for(let t of["value","label"]){if(n[i].length>0)break;for(let r of Array.from(e.options))if(r.selected=a.includes(r[t]),!0===r.selected&&(n[i].push(r.value),!0!==e.multiple))break}}else"checkbox"===s||"radio"===s?(e.checked=!0===r||a.includes(e.value),!0===e.checked&&n[i].push(e.value)):"string"==typeof r&&(!0===e.isContentEditable?n[i].push(e.textContent=r):n[i].push(e.value=r));for(let t of["input","change"])e.dispatchEvent(new Event(t,{bubbles:!0}));try{e.blur(),e.dispatchEvent(new Event("blur"))}catch(e){}if("checkbox"===s||"radio"===s)break}}return n},e)},n.prototype.fillFormBySelector=function(e){return this.evaluate((e,t,i="css")=>{if("form"!==e.nodeName.toLowerCase())throw new Error("Element is not a <form> element.");let n={};for(let[i,r]of Object.entries(t)){let t=i;!0!==n.hasOwnProperty(i)&&(n[i]=[]);let o=Array.from(e.querySelectorAll(t));if(0===o.length)throw new Error(`No elements match the selector '${t}' for '${i}'.`);let s=(o[0].getAttribute("type")||o[0].nodeName).toLowerCase(),a=!0===Array.isArray(r)?r:[r];if("file"===s)throw new Error("Input element of type 'file' is not supported.");for(let e of o){try{e.focus(),e.dispatchEvent(new Event("focus"))}catch(e){}if("select"===s){e.value=void 0;for(let t of["value","label"]){if(n[i].length>0)break;for(let r of Array.from(e.options))if(r.selected=a.includes(r[t]),!0===r.selected&&(n[i].push(r.value),!0!==e.multiple))break}}else"checkbox"===s||"radio"===s?(e.checked=!0===r||a.includes(e.value),!0===e.checked&&n[i].push(e.value)):"string"==typeof r&&(!0===e.isContentEditable?n[i].push(e.textContent=r):n[i].push(e.value=r));for(let t of["input","change"])e.dispatchEvent(new Event(t,{bubbles:!0}));try{e.blur(),e.dispatchEvent(new Event("blur"))}catch(e){}if("checkbox"===s||"radio"===s)break}}return n},e)},n.prototype.fillFormByXPath=function(e){return this.evaluate((e,t)=>{if("form"!==e.nodeName.toLowerCase())throw new Error("Element is not a <form> element.");let i={};for(let[n,r]of Object.entries(t)){let t=n;!0!==i.hasOwnProperty(n)&&(i[n]=[]);let o=null,s=[],a=document.evaluate(t,e,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null);for(;null!=(o=a.iterateNext());)s.push(o);if(0===s.length)throw new Error(`No elements match the selector '${t}' for '${n}'.`);let c=(s[0].getAttribute("type")||s[0].nodeName).toLowerCase(),l=!0===Array.isArray(r)?r:[r];if("file"===c)throw new Error("Input element of type 'file' is not supported.");for(let e of s){try{e.focus(),e.dispatchEvent(new Event("focus"))}catch(e){}if("select"===c){e.value=void 0;for(let t of["value","label"]){if(i[n].length>0)break;for(let r of Array.from(e.options))if(r.selected=l.includes(r[t]),!0===r.selected&&(i[n].push(r.value),!0!==e.multiple))break}}else"checkbox"===c||"radio"===c?(e.checked=!0===r||l.includes(e.value),!0===e.checked&&i[n].push(e.value)):"string"==typeof r&&(!0===e.isContentEditable?i[n].push(e.textContent=r):i[n].push(e.value=r));for(let t of["input","change"])e.dispatchEvent(new Event(t,{bubbles:!0}));try{e.blur(),e.dispatchEvent(new Event("blur"))}catch(e){}if("checkbox"===c||"radio"===c)break}}return i},e)},n.prototype.getInnerHTML=function(){return this.evaluate(e=>e.innerHTML)},n.prototype.getInnerText=function(){return this.evaluate(e=>e.innerText)},n.prototype.number=function(e=".",t="textContent"){return this.evaluate((e,t,i)=>{let n=e[i];if("string"==typeof n){"string"==typeof(t=null!=t?t:".")&&(t=t.replace(/[.]/g,"\\$&"));let e=n.match(/((?:[-+]|\b)[0-9]+(?:[ ,.'`´]*[0-9]+)*)\b/g);if(null!=e)return e.map(e=>parseFloat(e.replace(new RegExp(`[^-+0-9${t}]+`,"g"),"").replace(t,".")))}return null},e,t)},n.prototype.selectByLabel=function(...e){for(let t of e)console.assert("string"==typeof t,`Values must be strings. Found value '${t}' of type '${typeof t}'.`);return this.evaluate((e,t)=>{if("select"!==e.nodeName.toLowerCase())throw new Error("Element is not a <select> element.");e.value=void 0;let i=[],n=Array.from(e.options);for(let r of n)if(r.selected=t.includes(r.label),!0===r.selected&&(i.push(r.value),!0!==e.multiple))break;for(let t of["input","change"])e.dispatchEvent(new Event(t,{bubbles:!0}));return i},e)},n.prototype.string=function(e="textContent"){return this.evaluate((e,t)=>{let i=e[t];if("string"==typeof i){let e={" ":/[\u00A0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000]/g,"-":/[\u2013\u2014]/g,"...":/[\u2026]/g,"":/[\u200B\uFEFF]/g,'"':/[\u201C\u201D]/g,"<":/[\u00AB\u2039]/g,">":/[\u00BB\u203A]/g,"|":/[\u007C\u00A6\u01C0\u2223\u2758]/g,"'":/[\u2018\u2019\u201A\u201B\u2032]/g};for(let[t,n]of Object.entries(e))i=i.replace(n,t);return i.replace(/[\s]+/g," ").trim()}return null},e)}},function(e,t,i){"use strict";i.r(t)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=null;try{n=i(62).Frame}catch(e){n=i(66).Frame}n.prototype.clickAndWaitForNavigation=function(e,t){t=null!=t?t:{waitUntil:["load"]};let i=[this.waitForNavigation(t),this.waitForSelector(e,{timeout:t.timeout}).then(e=>e.click())];return Promise.all(i).then(e=>e.shift())},n.prototype.clickAndWaitForRequest=function(e,t,i){let n=[this._frameManager._page.waitForRequest(e=>{let i=e.url();return"string"==typeof t&&!0===t.includes("*")&&(t=new RegExp(t.replace(/[-\/\\^$+?.()|[\]{}]/g,"\\$&").replace(/[*]+/g,".*?"),"g")),t instanceof RegExp?t.test(i):t===i},i),this.click(e)];return Promise.all(n).then(e=>e.shift())},n.prototype.clickAndWaitForResponse=function(e,t,i){let n=[this._frameManager._page.waitForResponse(e=>{let i=e.url();return"string"==typeof t&&!0===t.includes("*")&&(t=new RegExp(t.replace(/[-\/\\^$+?.()|[\]{}]/g,"\\$&").replace(/[*]+/g,".*?"),"g")),t instanceof RegExp?t.test(i):t===i},i),this.click(e)];return Promise.all(n).then(e=>e.shift())},n.prototype.count=function(e){return this.evaluate(e=>document.querySelectorAll(e).length,e)},n.prototype.exists=function(e){return this.evaluate(e=>null!==document.querySelector(e),e)},n.prototype.fillFormByLabel=function(e,t){return this.$(e).then(e=>{var i;return null!==(i=null==e?void 0:e.fillFormByLabel(t))&&void 0!==i?i:null})},n.prototype.fillFormByName=function(e,t){return this.$(e).then(e=>{var i;return null!==(i=null==e?void 0:e.fillFormByName(t))&&void 0!==i?i:null})},n.prototype.fillFormBySelector=function(e,t){return this.$(e).then(e=>{var i;return null!==(i=null==e?void 0:e.fillFormBySelector(t))&&void 0!==i?i:null})},n.prototype.fillFormByXPath=function(e,t){return this.$(e).then(e=>{var i;return null!==(i=null==e?void 0:e.fillFormByXPath(t))&&void 0!==i?i:null})},n.prototype.number=function(e,t=".",i="textContent"){return this.$(e).then(e=>{var n;return null!==(n=null==e?void 0:e.number(t,i))&&void 0!==n?n:null})},n.prototype.selectByLabel=function(e,...t){return this.$(e).then(e=>{var i;return null!==(i=null==e?void 0:e.selectByLabel(...t))&&void 0!==i?i:null})},n.prototype.string=function(e,t="textContent"){return this.$(e).then(e=>{var i;return null!==(i=null==e?void 0:e.string(t))&&void 0!==i?i:null})},n.prototype.waitUntilVisible=function(e,t){return this.waitForSelector(e,{...t,visible:!0})},n.prototype.waitWhileVisible=function(e,t){return this.waitForSelector(e,{...t,hidden:!0})}},function(e,t,i){"use strict";i.r(t)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=null;try{n=i(104).Page}catch(e){n=i(107).Page}n.prototype.block=function(e){return this._client.send("Network.setBlockedURLs",{urls:e})},n.prototype.clickAndWaitForNavigation=function(e,t){return this.mainFrame().clickAndWaitForNavigation(e,t)},n.prototype.clickAndWaitForRequest=function(e,t,i){return this.mainFrame().clickAndWaitForRequest(e,t,i)},n.prototype.clickAndWaitForResponse=function(e,t,i){return this.mainFrame().clickAndWaitForResponse(e,t,i)},n.prototype.count=function(e){return this.mainFrame().count(e)},n.prototype.exists=function(e){return this.mainFrame().exists(e)},n.prototype.fillFormByLabel=function(e,t){return this.mainFrame().fillFormByLabel(e,t)},n.prototype.fillFormByName=function(e,t){return this.mainFrame().fillFormByName(e,t)},n.prototype.fillFormBySelector=function(e,t){return this.mainFrame().fillFormBySelector(e,t)},n.prototype.fillFormByXPath=function(e,t){return this.mainFrame().fillFormByXPath(e,t)},n.prototype.number=function(e,t=".",i="textContent"){return this.mainFrame().number(e,t,i)},n.prototype.selectByLabel=function(e,...t){return this.mainFrame().selectByLabel(e,...t)},n.prototype.string=function(e,t="textContent"){return this.mainFrame().string(e,t)},n.prototype.waitUntilVisible=function(e,t){return this.mainFrame().waitUntilVisible(e,t)},n.prototype.waitWhileVisible=function(e,t){return this.coverage.startCSSCoverage(),this.mainFrame().waitWhileVisible(e,t)},n.prototype.withTracing=function(e,t){return this.tracing.start(e).then(async()=>("function"==typeof t&&await t(this),await this.tracing.stop()))}},function(e,t,i){"use strict";i.r(t)},function(e,t,i){"use strict";i.r(t),i.d(t,"Headers",(function(){return M})),i.d(t,"Request",(function(){return H})),i.d(t,"Response",(function(){return B})),i.d(t,"FetchError",(function(){return h}));var n=i(0),r=i(17),o=i(10),s=i(25),a=i(13);const c=n.Readable,l=Symbol("buffer"),d=Symbol("type");class u{constructor(){this[d]="";const e=arguments[0],t=arguments[1],i=[];let n=0;if(e){const t=e,r=Number(t.length);for(let e=0;e<r;e++){const r=t[e];let o;o=r instanceof Buffer?r:ArrayBuffer.isView(r)?Buffer.from(r.buffer,r.byteOffset,r.byteLength):r instanceof ArrayBuffer?Buffer.from(r):r instanceof u?r[l]:Buffer.from("string"==typeof r?r:String(r)),n+=o.length,i.push(o)}}this[l]=Buffer.concat(i);let r=t&&void 0!==t.type&&String(t.type).toLowerCase();r&&!/[^\u0020-\u007E]/.test(r)&&(this[d]=r)}get size(){return this[l].length}get type(){return this[d]}text(){return Promise.resolve(this[l].toString())}arrayBuffer(){const e=this[l],t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return Promise.resolve(t)}stream(){const e=new c;return e._read=function(){},e.push(this[l]),e.push(null),e}toString(){return"[object Blob]"}slice(){const e=this.size,t=arguments[0],i=arguments[1];let n,r;n=void 0===t?0:t<0?Math.max(e+t,0):Math.min(t,e),r=void 0===i?e:i<0?Math.max(e+i,0):Math.min(i,e);const o=Math.max(r-n,0),s=this[l].slice(n,n+o),a=new u([],{type:arguments[2]});return a[l]=s,a}}function h(e,t,i){Error.call(this,e),this.message=e,this.type=t,i&&(this.code=this.errno=i.code),Error.captureStackTrace(this,this.constructor)}let p;Object.defineProperties(u.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(u.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),h.prototype=Object.create(Error.prototype),h.prototype.constructor=h,h.prototype.name="FetchError";try{p=require("encoding").convert}catch(e){}const f=Symbol("Body internals"),A=n.PassThrough;function m(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.size;let o=void 0===r?0:r;var s=i.timeout;let a=void 0===s?0:s;null==e?e=null:y(e)?e=Buffer.from(e.toString()):_(e)||Buffer.isBuffer(e)||("[object ArrayBuffer]"===Object.prototype.toString.call(e)?e=Buffer.from(e):ArrayBuffer.isView(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof n||(e=Buffer.from(String(e)))),this[f]={body:e,disturbed:!1,error:null},this.size=o,this.timeout=a,e instanceof n&&e.on("error",(function(e){const i="AbortError"===e.name?e:new h(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,"system",e);t[f].error=i}))}function g(){var e=this;if(this[f].disturbed)return m.Promise.reject(new TypeError("body used already for: "+this.url));if(this[f].disturbed=!0,this[f].error)return m.Promise.reject(this[f].error);let t=this.body;if(null===t)return m.Promise.resolve(Buffer.alloc(0));if(_(t)&&(t=t.stream()),Buffer.isBuffer(t))return m.Promise.resolve(t);if(!(t instanceof n))return m.Promise.resolve(Buffer.alloc(0));let i=[],r=0,o=!1;return new m.Promise((function(n,s){let a;e.timeout&&(a=setTimeout((function(){o=!0,s(new h(`Response timeout while trying to fetch ${e.url} (over ${e.timeout}ms)`,"body-timeout"))}),e.timeout)),t.on("error",(function(t){"AbortError"===t.name?(o=!0,s(t)):s(new h(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t))})),t.on("data",(function(t){if(!o&&null!==t){if(e.size&&r+t.length>e.size)return o=!0,void s(new h(`content size at ${e.url} over limit: ${e.size}`,"max-size"));r+=t.length,i.push(t)}})),t.on("end",(function(){if(!o){clearTimeout(a);try{n(Buffer.concat(i,r))}catch(t){s(new h(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t))}}}))}))}function y(e){return"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&("URLSearchParams"===e.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(e)||"function"==typeof e.sort)}function _(e){return"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}function b(e){let t,i,r=e.body;if(e.bodyUsed)throw new Error("cannot clone body after it is used");return r instanceof n&&"function"!=typeof r.getBoundary&&(t=new A,i=new A,r.pipe(t),r.pipe(i),e[f].body=t,r=i),r}function v(e){return null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":y(e)?"application/x-www-form-urlencoded;charset=UTF-8":_(e)?e.type||null:Buffer.isBuffer(e)||"[object ArrayBuffer]"===Object.prototype.toString.call(e)||ArrayBuffer.isView(e)?null:"function"==typeof e.getBoundary?"multipart/form-data;boundary="+e.getBoundary():e instanceof n?null:"text/plain;charset=UTF-8"}function C(e){const t=e.body;return null===t?0:_(t)?t.size:Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&(t._lengthRetrievers&&0==t._lengthRetrievers.length||t.hasKnownLength&&t.hasKnownLength())?t.getLengthSync():null}m.prototype={get body(){return this[f].body},get bodyUsed(){return this[f].disturbed},arrayBuffer(){return g.call(this).then((function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}))},blob(){let e=this.headers&&this.headers.get("content-type")||"";return g.call(this).then((function(t){return Object.assign(new u([],{type:e.toLowerCase()}),{[l]:t})}))},json(){var e=this;return g.call(this).then((function(t){try{return JSON.parse(t.toString())}catch(t){return m.Promise.reject(new h(`invalid json response body at ${e.url} reason: ${t.message}`,"invalid-json"))}}))},text(){return g.call(this).then((function(e){return e.toString()}))},buffer(){return g.call(this)},textConverted(){var e=this;return g.call(this).then((function(t){return function(e,t){if("function"!=typeof p)throw new Error("The package `encoding` must be installed to use the textConverted() function");const i=t.get("content-type");let n,r,o="utf-8";i&&(n=/charset=([^;]*)/i.exec(i));r=e.slice(0,1024).toString(),!n&&r&&(n=/<meta.+?charset=(['"])(.+?)\1/i.exec(r));!n&&r&&(n=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(r),n||(n=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(r),n&&n.pop()),n&&(n=/charset=(.*)/i.exec(n.pop())));!n&&r&&(n=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(r));n&&(o=n.pop(),"gb2312"!==o&&"gbk"!==o||(o="gb18030"));return p(e,"UTF-8",o).toString()}(t,e.headers)}))}},Object.defineProperties(m.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),m.mixIn=function(e){for(const t of Object.getOwnPropertyNames(m.prototype))if(!(t in e)){const i=Object.getOwnPropertyDescriptor(m.prototype,t);Object.defineProperty(e,t,i)}},m.Promise=global.Promise;const w=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,x=/[^\t\x20-\x7e\x80-\xff]/;function E(e){if(e=""+e,w.test(e)||""===e)throw new TypeError(e+" is not a legal HTTP header name")}function k(e){if(e=""+e,x.test(e))throw new TypeError(e+" is not a legal HTTP header value")}function S(e,t){t=t.toLowerCase();for(const i in e)if(i.toLowerCase()===t)return i}const I=Symbol("map");class M{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[I]=Object.create(null),e instanceof M){const t=e.raw(),i=Object.keys(t);for(const e of i)for(const i of t[e])this.append(e,i)}else if(null==e);else{if("object"!=typeof e)throw new TypeError("Provided initializer must be an object");{const t=e[Symbol.iterator];if(null!=t){if("function"!=typeof t)throw new TypeError("Header pairs must be iterable");const i=[];for(const t of e){if("object"!=typeof t||"function"!=typeof t[Symbol.iterator])throw new TypeError("Each header pair must be iterable");i.push(Array.from(t))}for(const e of i){if(2!==e.length)throw new TypeError("Each header pair must be a name/value tuple");this.append(e[0],e[1])}}else for(const t of Object.keys(e)){const i=e[t];this.append(t,i)}}}}get(e){E(e=""+e);const t=S(this[I],e);return void 0===t?null:this[I][t].join(", ")}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=O(this),n=0;for(;n<i.length;){var r=i[n];const o=r[0],s=r[1];e.call(t,s,o,this),i=O(this),n++}}set(e,t){t=""+t,E(e=""+e),k(t);const i=S(this[I],e);this[I][void 0!==i?i:e]=[t]}append(e,t){t=""+t,E(e=""+e),k(t);const i=S(this[I],e);void 0!==i?this[I][i].push(t):this[I][e]=[t]}has(e){return E(e=""+e),void 0!==S(this[I],e)}delete(e){E(e=""+e);const t=S(this[I],e);void 0!==t&&delete this[I][t]}raw(){return this[I]}keys(){return P(this,"key")}values(){return P(this,"value")}[Symbol.iterator](){return P(this,"key+value")}}function O(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";const i=Object.keys(e[I]).sort();return i.map("key"===t?function(e){return e.toLowerCase()}:"value"===t?function(t){return e[I][t].join(", ")}:function(t){return[t.toLowerCase(),e[I][t].join(", ")]})}M.prototype.entries=M.prototype[Symbol.iterator],Object.defineProperty(M.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(M.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});const T=Symbol("internal");function P(e,t){const i=Object.create(R);return i[T]={target:e,kind:t,index:0},i}const R=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==R)throw new TypeError("Value of `this` is not a HeadersIterator");var e=this[T];const t=e.target,i=e.kind,n=e.index,r=O(t,i);return n>=r.length?{value:void 0,done:!0}:(this[T].index=n+1,{value:r[n],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function L(e){const t=Object.assign({__proto__:null},e[I]),i=S(e[I],"Host");return void 0!==i&&(t[i]=t[i][0]),t}Object.defineProperty(R,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});const F=Symbol("Response internals"),N=r.STATUS_CODES;class B{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m.call(this,e,t);const i=t.status||200,n=new M(t.headers);if(null!=e&&!n.has("Content-Type")){const t=v(e);t&&n.append("Content-Type",t)}this[F]={url:t.url,status:i,statusText:t.statusText||N[i],headers:n,counter:t.counter}}get url(){return this[F].url||""}get status(){return this[F].status}get ok(){return this[F].status>=200&&this[F].status<300}get redirected(){return this[F].counter>0}get statusText(){return this[F].statusText}get headers(){return this[F].headers}clone(){return new B(b(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}m.mixIn(B.prototype),Object.defineProperties(B.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(B.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});const K=Symbol("Request internals"),j=o.parse,D=o.format,U="destroy"in n.Readable.prototype;function G(e){return"object"==typeof e&&"object"==typeof e[K]}class H{constructor(e){let t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};G(e)?t=j(e.url):(t=e&&e.href?j(e.href):j(""+e),e={});let n=i.method||e.method||"GET";if(n=n.toUpperCase(),(null!=i.body||G(e)&&null!==e.body)&&("GET"===n||"HEAD"===n))throw new TypeError("Request with GET/HEAD method cannot have body");let r=null!=i.body?i.body:G(e)&&null!==e.body?b(e):null;m.call(this,r,{timeout:i.timeout||e.timeout||0,size:i.size||e.size||0});const o=new M(i.headers||e.headers||{});if(null!=r&&!o.has("Content-Type")){const e=v(r);e&&o.append("Content-Type",e)}let s=G(e)?e.signal:null;if("signal"in i&&(s=i.signal),null!=s&&!function(e){const t=e&&"object"==typeof e&&Object.getPrototypeOf(e);return!(!t||"AbortSignal"!==t.constructor.name)}(s))throw new TypeError("Expected signal to be an instanceof AbortSignal");this[K]={method:n,redirect:i.redirect||e.redirect||"follow",headers:o,parsedURL:t,signal:s},this.follow=void 0!==i.follow?i.follow:void 0!==e.follow?e.follow:20,this.compress=void 0!==i.compress?i.compress:void 0===e.compress||e.compress,this.counter=i.counter||e.counter||0,this.agent=i.agent||e.agent}get method(){return this[K].method}get url(){return D(this[K].parsedURL)}get headers(){return this[K].headers}get redirect(){return this[K].redirect}get signal(){return this[K].signal}clone(){return new H(this)}}function q(e){Error.call(this,e),this.type="aborted",this.message=e,Error.captureStackTrace(this,this.constructor)}m.mixIn(H.prototype),Object.defineProperty(H.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(H.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}}),q.prototype=Object.create(Error.prototype),q.prototype.constructor=q,q.prototype.name="AbortError";const z=n.PassThrough,W=o.resolve;function Q(e,t){if(!Q.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return m.Promise=Q.Promise,new Q.Promise((function(i,o){const c=new H(e,t),l=function(e){const t=e[K].parsedURL,i=new M(e[K].headers);if(i.has("Accept")||i.set("Accept","*/*"),!t.protocol||!t.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(t.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(e.signal&&e.body instanceof n.Readable&&!U)throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let r=null;if(null==e.body&&/^(POST|PUT)$/i.test(e.method)&&(r="0"),null!=e.body){const t=C(e);"number"==typeof t&&(r=String(t))}r&&i.set("Content-Length",r),i.has("User-Agent")||i.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),e.compress&&!i.has("Accept-Encoding")&&i.set("Accept-Encoding","gzip,deflate");let o=e.agent;return"function"==typeof o&&(o=o(t)),i.has("Connection")||o||i.set("Connection","close"),Object.assign({},t,{method:e.method,headers:L(i),agent:o})}(c),d=("https:"===l.protocol?s:r).request,u=c.signal;let p=null;const f=function(){let e=new q("The user aborted a request.");o(e),c.body&&c.body instanceof n.Readable&&c.body.destroy(e),p&&p.body&&p.body.emit("error",e)};if(u&&u.aborted)return void f();const A=function(){f(),y()},m=d(l);let g;function y(){m.abort(),u&&u.removeEventListener("abort",A),clearTimeout(g)}u&&u.addEventListener("abort",A),c.timeout&&m.once("socket",(function(e){g=setTimeout((function(){o(new h("network timeout at: "+c.url,"request-timeout")),y()}),c.timeout)})),m.on("error",(function(e){o(new h(`request to ${c.url} failed, reason: ${e.message}`,"system",e)),y()})),m.on("response",(function(e){clearTimeout(g);const t=function(e){const t=new M;for(const i of Object.keys(e))if(!w.test(i))if(Array.isArray(e[i]))for(const n of e[i])x.test(n)||(void 0===t[I][i]?t[I][i]=[n]:t[I][i].push(n));else x.test(e[i])||(t[I][i]=[e[i]]);return t}(e.headers);if(Q.isRedirect(e.statusCode)){const n=t.get("Location"),r=null===n?null:W(c.url,n);switch(c.redirect){case"error":return o(new h("uri requested responds with a redirect, redirect mode is set to error: "+c.url,"no-redirect")),void y();case"manual":if(null!==r)try{t.set("Location",r)}catch(e){o(e)}break;case"follow":if(null===r)break;if(c.counter>=c.follow)return o(new h("maximum redirect reached at: "+c.url,"max-redirect")),void y();const n={headers:new M(c.headers),follow:c.follow,counter:c.counter+1,agent:c.agent,compress:c.compress,method:c.method,body:c.body,signal:c.signal,timeout:c.timeout,size:c.size};return 303!==e.statusCode&&c.body&&null===C(c)?(o(new h("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void y()):(303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||"POST"!==c.method)||(n.method="GET",n.body=void 0,n.headers.delete("content-length")),i(Q(new H(r,n))),void y())}}e.once("end",(function(){u&&u.removeEventListener("abort",A)}));let n=e.pipe(new z);const r={url:c.url,status:e.statusCode,statusText:e.statusMessage,headers:t,size:c.size,timeout:c.timeout,counter:c.counter},s=t.get("Content-Encoding");if(!c.compress||"HEAD"===c.method||null===s||204===e.statusCode||304===e.statusCode)return p=new B(n,r),void i(p);const l={flush:a.Z_SYNC_FLUSH,finishFlush:a.Z_SYNC_FLUSH};if("gzip"==s||"x-gzip"==s)return n=n.pipe(a.createGunzip(l)),p=new B(n,r),void i(p);if("deflate"!=s&&"x-deflate"!=s){if("br"==s&&"function"==typeof a.createBrotliDecompress)return n=n.pipe(a.createBrotliDecompress()),p=new B(n,r),void i(p);p=new B(n,r),i(p)}else{e.pipe(new z).once("data",(function(e){n=8==(15&e[0])?n.pipe(a.createInflate()):n.pipe(a.createInflateRaw()),p=new B(n,r),i(p)}))}})),function(e,t){const i=t.body;null===i?e.end():_(i)?i.stream().pipe(e):Buffer.isBuffer(i)?(e.write(i),e.end()):i.pipe(e)}(m,c)}))}Q.isRedirect=function(e){return 301===e||302===e||303===e||307===e||308===e},Q.Promise=global.Promise,t.default=Q},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.NodeWebSocketTransport=void 0;const r=n(i(121));class o{constructor(e){this._ws=e,this._ws.addEventListener("message",e=>{this.onmessage&&this.onmessage.call(null,e.data)}),this._ws.addEventListener("close",()=>{this.onclose&&this.onclose.call(null)}),this._ws.addEventListener("error",()=>{}),this.onmessage=null,this.onclose=null}static create(e){return new Promise((t,i)=>{const n=new r.default(e,[],{perMessageDeflate:!1,maxPayload:268435456});n.addEventListener("open",()=>t(new o(n))),n.addEventListener("error",i)})}send(e){this._ws.send(e)}close(){this._ws.close()}}t.NodeWebSocketTransport=o},function(e,t,i){"use strict";const n=i(122);n.createWebSocketStream=i(267),n.Server=i(268),n.Receiver=i(123),n.Sender=i(125),e.exports=n},function(e,t,i){"use strict";const n=i(7),r=i(25),o=i(17),s=i(26),a=i(46),{randomBytes:c,createHash:l}=i(15),{URL:d}=i(10),u=i(53),h=i(123),p=i(125),{BINARY_TYPES:f,EMPTY_BUFFER:A,GUID:m,kStatusCode:g,kWebSocket:y,NOOP:_}=i(32),{addEventListener:b,removeEventListener:v}=i(266),{format:C,parse:w}=i(126),{toBuffer:x}=i(54),E=["CONNECTING","OPEN","CLOSING","CLOSED"],k=[8,13];class S extends n{constructor(e,t,i){super(),this._binaryType=f[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage="",this._closeTimer=null,this._extensions={},this._protocol="",this._readyState=S.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,Array.isArray(t)?t=t.join(", "):"object"==typeof t&&null!==t&&(i=t,t=void 0),function e(t,i,n,s){const a={protocolVersion:k[1],maxPayload:104857600,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...s,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,host:void 0,path:void 0,port:void 0};if(!k.includes(a.protocolVersion))throw new RangeError(`Unsupported protocol version: ${a.protocolVersion} (supported versions: ${k.join(", ")})`);let h;i instanceof d?(h=i,t._url=i.href):(h=new d(i),t._url=i);const p="ws+unix:"===h.protocol;if(!(h.host||p&&h.pathname))throw new Error("Invalid URL: "+t.url);const f="wss:"===h.protocol||"https:"===h.protocol,A=f?443:80,g=c(16).toString("base64"),y=f?r.get:o.get;let _;a.createConnection=f?M:I,a.defaultPort=a.defaultPort||A,a.port=h.port||A,a.host=h.hostname.startsWith("[")?h.hostname.slice(1,-1):h.hostname,a.headers={"Sec-WebSocket-Version":a.protocolVersion,"Sec-WebSocket-Key":g,Connection:"Upgrade",Upgrade:"websocket",...a.headers},a.path=h.pathname+h.search,a.timeout=a.handshakeTimeout,a.perMessageDeflate&&(_=new u(!0!==a.perMessageDeflate?a.perMessageDeflate:{},!1,a.maxPayload),a.headers["Sec-WebSocket-Extensions"]=C({[u.extensionName]:_.offer()}));n&&(a.headers["Sec-WebSocket-Protocol"]=n);a.origin&&(a.protocolVersion<13?a.headers["Sec-WebSocket-Origin"]=a.origin:a.headers.Origin=a.origin);(h.username||h.password)&&(a.auth=`${h.username}:${h.password}`);if(p){const e=a.path.split(":");a.socketPath=e[0],a.path=e[1]}let b=t._req=y(a);a.timeout&&b.on("timeout",()=>{O(t,b,"Opening handshake has timed out")});b.on("error",e=>{null===b||b.aborted||(b=t._req=null,t._readyState=S.CLOSING,t.emit("error",e),t.emitClose())}),b.on("response",r=>{const o=r.headers.location,c=r.statusCode;if(o&&a.followRedirects&&c>=300&&c<400){if(++t._redirects>a.maxRedirects)return void O(t,b,"Maximum redirects exceeded");b.abort();const r=new d(o,i);e(t,r,n,s)}else t.emit("unexpected-response",b,r)||O(t,b,"Unexpected server response: "+r.statusCode)}),b.on("upgrade",(e,i,r)=>{if(t.emit("upgrade",e),t.readyState!==S.CONNECTING)return;b=t._req=null;const o=l("sha1").update(g+m).digest("base64");if(e.headers["sec-websocket-accept"]!==o)return void O(t,i,"Invalid Sec-WebSocket-Accept header");const s=e.headers["sec-websocket-protocol"],c=(n||"").split(/, */);let d;if(!n&&s?d="Server sent a subprotocol but none was requested":n&&!s?d="Server sent no subprotocol":s&&!c.includes(s)&&(d="Server sent an invalid subprotocol"),d)O(t,i,d);else{if(s&&(t._protocol=s),_)try{const i=w(e.headers["sec-websocket-extensions"]);i[u.extensionName]&&(_.accept(i[u.extensionName]),t._extensions[u.extensionName]=_)}catch(e){return void O(t,i,"Invalid Sec-WebSocket-Extensions header")}t.setSocket(i,r,a.maxPayload)}})}(this,e,t,i)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){f.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,i){const n=new h(this.binaryType,this._extensions,this._isServer,i);this._sender=new p(e,this._extensions),this._receiver=n,this._socket=e,n[y]=this,e[y]=this,n.on("conclude",P),n.on("drain",R),n.on("error",L),n.on("message",N),n.on("ping",B),n.on("pong",K),e.setTimeout(0),e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",j),e.on("data",D),e.on("end",U),e.on("error",G),this._readyState=S.OPEN,this.emit("open")}emitClose(){if(!this._socket)return this._readyState=S.CLOSED,void this.emit("close",this._closeCode,this._closeMessage);this._extensions[u.extensionName]&&this._extensions[u.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=S.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==S.CLOSED){if(this.readyState===S.CONNECTING){const e="WebSocket was closed before the connection was established";return O(this,this._req,e)}this.readyState!==S.CLOSING?(this._readyState=S.CLOSING,this._sender.close(e,t,!this._isServer,e=>{e||(this._closeFrameSent=!0,this._closeFrameReceived&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)):this._closeFrameSent&&this._closeFrameReceived&&this._socket.end()}}ping(e,t,i){if(this.readyState===S.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(i=e,e=t=void 0):"function"==typeof t&&(i=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===S.OPEN?(void 0===t&&(t=!this._isServer),this._sender.ping(e||A,t,i)):T(this,e,i)}pong(e,t,i){if(this.readyState===S.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(i=e,e=t=void 0):"function"==typeof t&&(i=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===S.OPEN?(void 0===t&&(t=!this._isServer),this._sender.pong(e||A,t,i)):T(this,e,i)}send(e,t,i){if(this.readyState===S.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(i=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==S.OPEN)return void T(this,e,i);const n={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[u.extensionName]||(n.compress=!1),this._sender.send(e||A,n,i)}terminate(){if(this.readyState!==S.CLOSED){if(this.readyState===S.CONNECTING){const e="WebSocket was closed before the connection was established";return O(this,this._req,e)}this._socket&&(this._readyState=S.CLOSING,this._socket.destroy())}}}function I(e){return e.path=e.socketPath,s.connect(e)}function M(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=s.isIP(e.host)?"":e.host),a.connect(e)}function O(e,t,i){e._readyState=S.CLOSING;const n=new Error(i);Error.captureStackTrace(n,O),t.setHeader?(t.abort(),t.once("abort",e.emitClose.bind(e)),e.emit("error",n)):(t.destroy(n),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function T(e,t,i){if(t){const i=x(t).length;e._socket?e._sender._bufferedBytes+=i:e._bufferedAmount+=i}if(i){i(new Error(`WebSocket is not open: readyState ${e.readyState} (${E[e.readyState]})`))}}function P(e,t){const i=this[y];i._socket.removeListener("data",D),i._socket.resume(),i._closeFrameReceived=!0,i._closeMessage=t,i._closeCode=e,1005===e?i.close():i.close(e,t)}function R(){this[y]._socket.resume()}function L(e){const t=this[y];t._socket.removeListener("data",D),t._readyState=S.CLOSING,t._closeCode=e[g],t.emit("error",e),t._socket.destroy()}function F(){this[y].emitClose()}function N(e){this[y].emit("message",e)}function B(e){const t=this[y];t.pong(e,!t._isServer,_),t.emit("ping",e)}function K(e){this[y].emit("pong",e)}function j(){const e=this[y];this.removeListener("close",j),this.removeListener("end",U),e._readyState=S.CLOSING,e._socket.read(),e._receiver.end(),this.removeListener("data",D),this[y]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",F),e._receiver.on("finish",F))}function D(e){this[y]._receiver.write(e)||this.pause()}function U(){const e=this[y];e._readyState=S.CLOSING,e._receiver.end(),this.end()}function G(){const e=this[y];this.removeListener("error",G),this.on("error",_),e&&(e._readyState=S.CLOSING,this.destroy())}E.forEach((e,t)=>{const i={enumerable:!0,value:t};Object.defineProperty(S.prototype,e,i),Object.defineProperty(S,e,i)}),["binaryType","bufferedAmount","extensions","protocol","readyState","url"].forEach(e=>{Object.defineProperty(S.prototype,e,{enumerable:!0})}),["open","error","close","message"].forEach(e=>{Object.defineProperty(S.prototype,"on"+e,{configurable:!0,enumerable:!0,get(){const t=this.listeners(e);for(let e=0;e<t.length;e++)if(t[e]._listener)return t[e]._listener},set(t){const i=this.listeners(e);for(let t=0;t<i.length;t++)i[t]._listener&&this.removeListener(e,i[t]);this.addEventListener(e,t)}})}),S.prototype.addEventListener=b,S.prototype.removeEventListener=v,e.exports=S},function(e,t,i){"use strict";const{Writable:n}=i(0),r=i(53),{BINARY_TYPES:o,EMPTY_BUFFER:s,kStatusCode:a,kWebSocket:c}=i(32),{concat:l,toArrayBuffer:d,unmask:u}=i(54),{isValidStatusCode:h,isValidUTF8:p}=i(124);function f(e,t,i,n){const r=new e(i?"Invalid WebSocket frame: "+t:t);return Error.captureStackTrace(r,f),r[a]=n,r}e.exports=class extends n{constructor(e,t,i,n){super(),this._binaryType=e||o[0],this[c]=void 0,this._extensions=t||{},this._isServer=!!i,this._maxPayload=0|n,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=0,this._loop=!1}_write(e,t,i){if(8===this._opcode&&0==this._state)return i();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(i)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){const t=this._buffers[0];return this._buffers[0]=t.slice(e),t.slice(0,e)}const t=Buffer.allocUnsafe(e);do{const i=this._buffers[0],n=t.length-e;e>=i.length?t.set(this._buffers.shift(),n):(t.set(new Uint8Array(i.buffer,i.byteOffset,e),n),this._buffers[0]=i.slice(e)),e-=i.length}while(e>0);return t}startLoop(e){let t;this._loop=!0;do{switch(this._state){case 0:t=this.getInfo();break;case 1:t=this.getPayloadLength16();break;case 2:t=this.getPayloadLength64();break;case 3:this.getMask();break;case 4:t=this.getData(e);break;default:return void(this._loop=!1)}}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2)return void(this._loop=!1);const e=this.consume(2);if(0!=(48&e[0]))return this._loop=!1,f(RangeError,"RSV2 and RSV3 must be clear",!0,1002);const t=64==(64&e[0]);if(t&&!this._extensions[r.extensionName])return this._loop=!1,f(RangeError,"RSV1 must be clear",!0,1002);if(this._fin=128==(128&e[0]),this._opcode=15&e[0],this._payloadLength=127&e[1],0===this._opcode){if(t)return this._loop=!1,f(RangeError,"RSV1 must be clear",!0,1002);if(!this._fragmented)return this._loop=!1,f(RangeError,"invalid opcode 0",!0,1002);this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,f(RangeError,"invalid opcode "+this._opcode,!0,1002);this._compressed=t}else{if(!(this._opcode>7&&this._opcode<11))return this._loop=!1,f(RangeError,"invalid opcode "+this._opcode,!0,1002);if(!this._fin)return this._loop=!1,f(RangeError,"FIN must be set",!0,1002);if(t)return this._loop=!1,f(RangeError,"RSV1 must be clear",!0,1002);if(this._payloadLength>125)return this._loop=!1,f(RangeError,"invalid payload length "+this._payloadLength,!0,1002)}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&e[1]),this._isServer){if(!this._masked)return this._loop=!1,f(RangeError,"MASK must be set",!0,1002)}else if(this._masked)return this._loop=!1,f(RangeError,"MASK must be clear",!0,1002);if(126===this._payloadLength)this._state=1;else{if(127!==this._payloadLength)return this.haveLength();this._state=2}}getPayloadLength16(){if(!(this._bufferedBytes<2))return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength();this._loop=!1}getPayloadLength64(){if(this._bufferedBytes<8)return void(this._loop=!1);const e=this.consume(8),t=e.readUInt32BE(0);return t>Math.pow(2,21)-1?(this._loop=!1,f(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009)):(this._payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,f(RangeError,"Max payload size exceeded",!1,1009);this._masked?this._state=3:this._state=4}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=4)}getData(e){let t=s;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);t=this.consume(this._payloadLength),this._masked&&u(t,this._mask)}return this._opcode>7?this.controlMessage(t):this._compressed?(this._state=5,void this.decompress(t,e)):(t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage())}decompress(e,t){this._extensions[r.extensionName].decompress(e,this._fin,(e,i)=>{if(e)return t(e);if(i.length){if(this._messageLength+=i.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return t(f(RangeError,"Max payload size exceeded",!1,1009));this._fragments.push(i)}const n=this.dataMessage();if(n)return t(n);this.startLoop(t)})}dataMessage(){if(this._fin){const e=this._messageLength,t=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let i;i="nodebuffer"===this._binaryType?l(t,e):"arraybuffer"===this._binaryType?d(l(t,e)):t,this.emit("message",i)}else{const i=l(t,e);if(!p(i))return this._loop=!1,f(Error,"invalid UTF-8 sequence",!0,1007);this.emit("message",i.toString())}}this._state=0}controlMessage(e){if(8===this._opcode)if(this._loop=!1,0===e.length)this.emit("conclude",1005,""),this.end();else{if(1===e.length)return f(RangeError,"invalid payload length 1",!0,1002);{const t=e.readUInt16BE(0);if(!h(t))return f(RangeError,"invalid status code "+t,!0,1002);const i=e.slice(2);if(!p(i))return f(Error,"invalid UTF-8 sequence",!0,1007);this.emit("conclude",t,i.toString()),this.end()}}else 9===this._opcode?this.emit("ping",e):this.emit("pong",e);this._state=0}}},function(e,t,i){"use strict";try{const e=i(!function(){var e=new Error("Cannot find module 'utf-8-validate'");throw e.code="MODULE_NOT_FOUND",e}());t.isValidUTF8="object"==typeof e?e.Validation.isValidUTF8:e}catch(e){t.isValidUTF8=()=>!0}t.isValidStatusCode=e=>e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},function(e,t,i){"use strict";const{randomFillSync:n}=i(15),r=i(53),{EMPTY_BUFFER:o}=i(32),{isValidStatusCode:s}=i(124),{mask:a,toBuffer:c}=i(54),l=Buffer.alloc(4);class d{constructor(e,t){this._extensions=t||{},this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){const i=t.mask&&t.readOnly;let r=t.mask?6:2,o=e.length;e.length>=65536?(r+=8,o=127):e.length>125&&(r+=2,o=126);const s=Buffer.allocUnsafe(i?e.length+r:r);return s[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(s[0]|=64),s[1]=o,126===o?s.writeUInt16BE(e.length,2):127===o&&(s.writeUInt32BE(0,2),s.writeUInt32BE(e.length,6)),t.mask?(n(l,0,4),s[1]|=128,s[r-4]=l[0],s[r-3]=l[1],s[r-2]=l[2],s[r-1]=l[3],i?(a(e,l,s,r,e.length),[s]):(a(e,l,e,0,e.length),[s,e])):[s,e]}close(e,t,i,n){let r;if(void 0===e)r=o;else{if("number"!=typeof e||!s(e))throw new TypeError("First argument must be a valid error code number");if(void 0===t||""===t)r=Buffer.allocUnsafe(2),r.writeUInt16BE(e,0);else{const i=Buffer.byteLength(t);if(i>123)throw new RangeError("The message must not be greater than 123 bytes");r=Buffer.allocUnsafe(2+i),r.writeUInt16BE(e,0),r.write(t,2)}}this._deflating?this.enqueue([this.doClose,r,i,n]):this.doClose(r,i,n)}doClose(e,t,i){this.sendFrame(d.frame(e,{fin:!0,rsv1:!1,opcode:8,mask:t,readOnly:!1}),i)}ping(e,t,i){const n=c(e);if(n.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPing,n,t,c.readOnly,i]):this.doPing(n,t,c.readOnly,i)}doPing(e,t,i,n){this.sendFrame(d.frame(e,{fin:!0,rsv1:!1,opcode:9,mask:t,readOnly:i}),n)}pong(e,t,i){const n=c(e);if(n.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPong,n,t,c.readOnly,i]):this.doPong(n,t,c.readOnly,i)}doPong(e,t,i,n){this.sendFrame(d.frame(e,{fin:!0,rsv1:!1,opcode:10,mask:t,readOnly:i}),n)}send(e,t,i){const n=c(e),o=this._extensions[r.extensionName];let s=t.binary?2:1,a=t.compress;if(this._firstFragment?(this._firstFragment=!1,a&&o&&(a=n.length>=o._threshold),this._compress=a):(a=!1,s=0),t.fin&&(this._firstFragment=!0),o){const e={fin:t.fin,rsv1:a,opcode:s,mask:t.mask,readOnly:c.readOnly};this._deflating?this.enqueue([this.dispatch,n,this._compress,e,i]):this.dispatch(n,this._compress,e,i)}else this.sendFrame(d.frame(n,{fin:t.fin,rsv1:!1,opcode:s,mask:t.mask,readOnly:c.readOnly}),i)}dispatch(e,t,i,n){if(!t)return void this.sendFrame(d.frame(e,i),n);const o=this._extensions[r.extensionName];this._bufferedBytes+=e.length,this._deflating=!0,o.compress(e,i.fin,(t,r)=>{if(this._socket.destroyed){const e=new Error("The socket was closed while data was being compressed");"function"==typeof n&&n(e);for(let t=0;t<this._queue.length;t++){const i=this._queue[t][4];"function"==typeof i&&i(e)}}else this._bufferedBytes-=e.length,this._deflating=!1,i.readOnly=!1,this.sendFrame(d.frame(r,i),n),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){const e=this._queue.shift();this._bufferedBytes-=e[1].length,Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[1].length,this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}e.exports=d},function(e,t,i){"use strict";const n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function r(e,t,i){void 0===e[t]?e[t]=[i]:e[t].push(i)}e.exports={format:function(e){return Object.keys(e).map(t=>{let i=e[t];return Array.isArray(i)||(i=[i]),i.map(e=>[t].concat(Object.keys(e).map(t=>{let i=e[t];return Array.isArray(i)||(i=[i]),i.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(e){const t=Object.create(null);if(void 0===e||""===e)return t;let i,o,s=Object.create(null),a=!1,c=!1,l=!1,d=-1,u=-1,h=0;for(;h<e.length;h++){const p=e.charCodeAt(h);if(void 0===i)if(-1===u&&1===n[p])-1===d&&(d=h);else if(32===p||9===p)-1===u&&-1!==d&&(u=h);else{if(59!==p&&44!==p)throw new SyntaxError("Unexpected character at index "+h);{if(-1===d)throw new SyntaxError("Unexpected character at index "+h);-1===u&&(u=h);const n=e.slice(d,u);44===p?(r(t,n,s),s=Object.create(null)):i=n,d=u=-1}}else if(void 0===o)if(-1===u&&1===n[p])-1===d&&(d=h);else if(32===p||9===p)-1===u&&-1!==d&&(u=h);else if(59===p||44===p){if(-1===d)throw new SyntaxError("Unexpected character at index "+h);-1===u&&(u=h),r(s,e.slice(d,u),!0),44===p&&(r(t,i,s),s=Object.create(null),i=void 0),d=u=-1}else{if(61!==p||-1===d||-1!==u)throw new SyntaxError("Unexpected character at index "+h);o=e.slice(d,h),d=u=-1}else if(c){if(1!==n[p])throw new SyntaxError("Unexpected character at index "+h);-1===d?d=h:a||(a=!0),c=!1}else if(l)if(1===n[p])-1===d&&(d=h);else if(34===p&&-1!==d)l=!1,u=h;else{if(92!==p)throw new SyntaxError("Unexpected character at index "+h);c=!0}else if(34===p&&61===e.charCodeAt(h-1))l=!0;else if(-1===u&&1===n[p])-1===d&&(d=h);else if(-1===d||32!==p&&9!==p){if(59!==p&&44!==p)throw new SyntaxError("Unexpected character at index "+h);{if(-1===d)throw new SyntaxError("Unexpected character at index "+h);-1===u&&(u=h);let n=e.slice(d,u);a&&(n=n.replace(/\\/g,""),a=!1),r(s,o,n),44===p&&(r(t,i,s),s=Object.create(null),i=void 0),o=void 0,d=u=-1}}else-1===u&&(u=h)}if(-1===d||l)throw new SyntaxError("Unexpected end of input");-1===u&&(u=h);const p=e.slice(d,u);return void 0===i?r(t,p,s):(void 0===o?r(s,p,!0):r(s,o,a?p.replace(/\\/g,""):p),r(t,i,s)),t}}},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return r(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserFetcher=void 0;const a=o(i(16)),c=o(i(2)),l=o(i(3)),d=o(i(1)),u=o(i(36)),h=o(i(25)),p=o(i(17)),f=s(i(128)),A=i(38),m=i(1),g=s(i(132)),y=o(i(10)),_=s(i(135)),b=i(136),v=i(4),C=A.debug("puppeteer:fetcher"),w={chrome:{linux:"%s/chromium-browser-snapshots/Linux_x64/%d/%s.zip",mac:"%s/chromium-browser-snapshots/Mac/%d/%s.zip",win32:"%s/chromium-browser-snapshots/Win/%d/%s.zip",win64:"%s/chromium-browser-snapshots/Win_x64/%d/%s.zip"},firefox:{linux:"%s/firefox-%s.en-US.%s-x86_64.tar.bz2",mac:"%s/firefox-%s.en-US.%s.dmg",win32:"%s/firefox-%s.en-US.%s.zip",win64:"%s/firefox-%s.en-US.%s.zip"}},x={chrome:{host:"https://storage.googleapis.com",destination:".local-chromium"},firefox:{host:"https://archive.mozilla.org/pub/firefox/nightly/latest-mozilla-central",destination:".local-firefox"}};function E(e,t,i){if("chrome"===e){if("linux"===t)return"chrome-linux";if("mac"===t)return"chrome-mac";if("win32"===t||"win64"===t)return parseInt(i,10)>591479?"chrome-win":"chrome-win32"}else if("firefox"===e)return t}function k(e,t,i,n){return d.format(w[e][t],i,n,E(e,t,n))}const S=m.promisify(c.readdir.bind(c)),I=m.promisify(c.mkdir.bind(c)),M=m.promisify(c.unlink.bind(c)),O=m.promisify(c.chmod.bind(c));function T(e){return new Promise(t=>{c.access(e,e=>t(!e))})}function P(e,t,i){let n={...y.parse(e),method:t};const r=b.getProxyForUrl(e);if(r)if(e.startsWith("http:")){const e=y.parse(r);n={path:n.href,host:e.hostname,port:e.port}}else{const e=y.parse(r),t={...e,secureProxy:"https:"===e.protocol};n.agent=_.default(t),n.rejectUnauthorized=!1}const o=e=>{e.statusCode>=300&&e.statusCode<400&&e.headers.location?P(e.headers.location,t,i):i(e)},s="https:"===n.protocol?h.request(n,o):p.request(n,o);return s.end(),s}t.BrowserFetcher=class{constructor(e,t={}){this._product=(t.product||"chrome").toLowerCase(),v.assert("chrome"===this._product||"firefox"===this._product,`Unknown product: "${t.product}"`),this._downloadsFolder=t.path||l.join(e,x[this._product].destination),this._downloadHost=t.host||x[this._product].host,this.setPlatform(t.platform),v.assert(w[this._product][this._platform],"Unsupported platform: "+this._platform)}setPlatform(e){if(e)return void(this._platform=e);const t=a.platform();"darwin"===t?this._platform="mac":"linux"===t?this._platform="linux":"win32"===t?this._platform="x64"===a.arch()?"win64":"win32":v.assert(this._platform,"Unsupported platform: "+a.platform())}platform(){return this._platform}product(){return this._product}host(){return this._downloadHost}canDownload(e){const t=k(this._product,this._platform,this._downloadHost,e);return new Promise(e=>{P(t,"HEAD",t=>{e(200===t.statusCode)}).on("error",t=>{console.error(t),e(!1)})})}async download(e,t=(()=>{})){const n=k(this._product,this._platform,this._downloadHost,e),r=n.split("/").pop(),o=l.join(this._downloadsFolder,r),s=this._getFolderPath(e);if(await T(s))return this.revisionInfo(e);if(await T(this._downloadsFolder)||await I(this._downloadsFolder),"arm64"===a.arch())return void c.stat("/usr/bin/chromium-browser",(function(e,t){void 0===t&&c.stat("/usr/bin/chromium",(function(e,t){if(void 0===t)throw console.error("The chromium binary is not available for arm64."),console.error("If you are on Ubuntu, you can install with: "),console.error("\n sudo apt install chromium\n"),console.error("\n sudo apt install chromium-browser\n"),new Error}))}));try{await function(e,t,i){let n,r;C("Downloading binary from "+e);let o=0,s=0;const a=new Promise((e,t)=>{n=e,r=t});return P(e,"GET",o=>{if(o.statusCode!==200){const t=new Error(`Download failed: server returned code ${o.statusCode}. URL: ${e}`);o.resume();r(t);return}const a=c.createWriteStream(t);a.on("finish",()=>n());a.on("error",e=>r(e));o.pipe(a);s=parseInt(o.headers["content-length"],10);if(i)o.on("data",l)}).on("error",e=>r(e)),a;function l(e){o+=e.length,i(o,s)}}(n,o,t),await function(e,t){if(C(`Installing ${e} to ${t}`),e.endsWith(".zip"))return f.default(e,{dir:t});if(e.endsWith(".tar.bz2"))return function(e,t){const n=i(137),r=i(152);return new Promise((i,o)=>{const s=n.extract(t);s.on("error",o),s.on("finish",i);c.createReadStream(e).pipe(r()).pipe(s)})}(e,t);if(e.endsWith(".dmg"))return I(t).then(()=>function(e,t){let i;return new Promise((function(n,r){const o=`hdiutil attach -nobrowse -noautoopen "${e}"`;u.exec(o,(e,o)=>{if(e)return r(e);const s=o.match(/\/Volumes\/(.*)/m);if(!s)return r(new Error("Could not find volume path in "+o));i=s[0],S(i).then(e=>{const o=e.filter(e=>"string"==typeof e&&e.endsWith(".app"))[0];if(!o)return r(new Error("Cannot find app in "+i));const s=l.join(i,o);C(`Copying ${s} to ${t}`),u.exec(`cp -R "${s}" "${t}"`,e=>{e?r(e):n()})}).catch(r)})})).catch(e=>{console.error(e)}).finally((function(){if(!i)return;const e=`hdiutil detach "${i}" -quiet`;C("Unmounting "+i),u.exec(e,e=>{e&&console.error("Error unmounting dmg: "+e)})}))}(e,t));throw new Error("Unsupported archive format: "+e)}(o,s)}finally{await T(o)&&await M(o)}const d=this.revisionInfo(e);return d&&await O(d.executablePath,493),d}async localRevisions(){if(!await T(this._downloadsFolder))return[];return(await S(this._downloadsFolder)).map(e=>function(e,t){const i=l.basename(t).split("-");if(2!==i.length)return null;const[n,r]=i;return w[e][n]?{product:e,platform:n,revision:r}:null}(this._product,e)).filter(e=>e&&e.platform===this._platform).map(e=>e.revision)}async remove(e){const t=this._getFolderPath(e);v.assert(await T(t),`Failed to remove: revision ${e} is not downloaded`),await new Promise(e=>g.default(t,e))}revisionInfo(e){const t=this._getFolderPath(e);let i="";if("chrome"===this._product)if("mac"===this._platform)i=l.join(t,E(this._product,this._platform,e),"Chromium.app","Contents","MacOS","Chromium");else if("linux"===this._platform)i=l.join(t,E(this._product,this._platform,e),"chrome");else{if("win32"!==this._platform&&"win64"!==this._platform)throw new Error("Unsupported platform: "+this._platform);i=l.join(t,E(this._product,this._platform,e),"chrome.exe")}else{if("firefox"!==this._product)throw new Error("Unsupported product: "+this._product);if("mac"===this._platform)i=l.join(t,"Firefox Nightly.app","Contents","MacOS","firefox");else if("linux"===this._platform)i=l.join(t,"firefox","firefox");else{if("win32"!==this._platform&&"win64"!==this._platform)throw new Error("Unsupported platform: "+this._platform);i=l.join(t,"firefox","firefox.exe")}}const n=k(this._product,this._platform,this._downloadHost,e),r=c.existsSync(t);return C({revision:e,executablePath:i,folderPath:t,local:r,url:n,product:this._product}),{revision:e,executablePath:i,folderPath:t,local:r,url:n,product:this._product}}_getFolderPath(e){return l.join(this._downloadsFolder,this._platform+"-"+e)}}},function(e,t,i){const n=i(29)("extract-zip"),{createWriteStream:r,promises:o}=i(2),s=i(271),a=i(3),{promisify:c}=i(1),l=i(0),d=i(273),u=c(d.open),h=c(l.pipeline);class p{constructor(e,t){this.zipPath=e,this.opts=t}async extract(){return n("opening",this.zipPath,"with opts",this.opts),this.zipfile=await u(this.zipPath,{lazyEntries:!0}),this.canceled=!1,new Promise((e,t)=>{this.zipfile.on("error",e=>{this.canceled=!0,t(e)}),this.zipfile.readEntry(),this.zipfile.on("close",()=>{this.canceled||(n("zip extraction complete"),e())}),this.zipfile.on("entry",async e=>{if(this.canceled)return void n("skipping entry",e.fileName,{cancelled:this.canceled});if(n("zipfile entry",e.fileName),e.fileName.startsWith("__MACOSX/"))return void this.zipfile.readEntry();const i=a.dirname(a.join(this.opts.dir,e.fileName));try{await o.mkdir(i,{recursive:!0});const t=await o.realpath(i);if(a.relative(this.opts.dir,t).split(a.sep).includes(".."))throw new Error(`Out of bound path "${t}" found while processing file ${e.fileName}`);await this.extractEntry(e),n("finished processing",e.fileName),this.zipfile.readEntry()}catch(e){this.canceled=!0,this.zipfile.close(),t(e)}})})}async extractEntry(e){if(this.canceled)return void n("skipping entry extraction",e.fileName,{cancelled:this.canceled});this.opts.onEntry&&this.opts.onEntry(e,this.zipfile);const t=a.join(this.opts.dir,e.fileName),i=e.externalFileAttributes>>16&65535,l=40960==(61440&i);let d=16384==(61440&i);!d&&e.fileName.endsWith("/")&&(d=!0);const u=e.versionMadeBy>>8;d||(d=0===u&&16===e.externalFileAttributes),n("extracting entry",{filename:e.fileName,isDir:d,isSymlink:l});const p=511&this.getExtractedMode(i,d),f=d?t:a.dirname(t),A={recursive:!0};if(d&&(A.mode=p),n("mkdir",{dir:f,...A}),await o.mkdir(f,A),d)return;n("opening read stream",t);const m=await c(this.zipfile.openReadStream.bind(this.zipfile))(e);if(l){const e=await s(m);n("creating symlink",e,t),await o.symlink(e,t)}else await h(m,r(t,{mode:p}))}getExtractedMode(e,t){let i=e;return 0===i&&(t?(this.opts.defaultDirMode&&(i=parseInt(this.opts.defaultDirMode,10)),i||(i=493)):(this.opts.defaultFileMode&&(i=parseInt(this.opts.defaultFileMode,10)),i||(i=420))),i}}e.exports=async function(e,t){if(n("creating target directory",t.dir),!a.isAbsolute(t.dir))throw new Error("Target directory is expected to be absolute");return await o.mkdir(t.dir,{recursive:!0}),t.dir=await o.realpath(t.dir),new p(e,t).extract()}},function(e,t,i){var n=i(55),r=i(131),o=i(2),s=function(){},a=/^v?\.0/.test(process.version),c=function(e){return"function"==typeof e},l=function(e,t,i,l){l=n(l);var d=!1;e.on("close",(function(){d=!0})),r(e,{readable:t,writable:i},(function(e){if(e)return l(e);d=!0,l()}));var u=!1;return function(t){if(!d&&!u)return u=!0,function(e){return!!a&&(!!o&&((e instanceof(o.ReadStream||s)||e instanceof(o.WriteStream||s))&&c(e.close)))}(e)?e.close(s):function(e){return e.setHeader&&c(e.abort)}(e)?e.abort():c(e.destroy)?e.destroy():void l(t||new Error("stream was destroyed"))}},d=function(e){e()},u=function(e,t){return e.pipe(t)};e.exports=function(){var e,t=Array.prototype.slice.call(arguments),i=c(t[t.length-1]||s)&&t.pop()||s;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var n=t.map((function(r,o){var s=o<t.length-1;return l(r,s,o>0,(function(t){e||(e=t),t&&n.forEach(d),s||(n.forEach(d),i(e))}))}));return t.reduce(u)}},function(e,t){e.exports=function e(t,i){if(t&&i)return e(t)(i);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){n[e]=t[e]})),n;function n(){for(var e=new Array(arguments.length),i=0;i<e.length;i++)e[i]=arguments[i];var n=t.apply(this,e),r=e[e.length-1];return"function"==typeof n&&n!==r&&Object.keys(r).forEach((function(e){n[e]=r[e]})),n}}},function(e,t,i){var n=i(55),r=function(){},o=function(e,t,i){if("function"==typeof t)return o(e,null,t);t||(t={}),i=n(i||r);var s=e._writableState,a=e._readableState,c=t.readable||!1!==t.readable&&e.readable,l=t.writable||!1!==t.writable&&e.writable,d=!1,u=function(){e.writable||h()},h=function(){l=!1,c||i.call(e)},p=function(){c=!1,l||i.call(e)},f=function(t){i.call(e,t?new Error("exited with error code: "+t):null)},A=function(t){i.call(e,t)},m=function(){process.nextTick(g)},g=function(){if(!d)return(!c||a&&a.ended&&!a.destroyed)&&(!l||s&&s.ended&&!s.destroyed)?void 0:i.call(e,new Error("premature close"))},y=function(){e.req.on("finish",h)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(e)?l&&!s&&(e.on("end",u),e.on("close",u)):(e.on("complete",h),e.on("abort",m),e.req?y():e.on("request",y)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",f),e.on("end",p),e.on("finish",h),!1!==t.error&&e.on("error",A),e.on("close",m),function(){d=!0,e.removeListener("complete",h),e.removeListener("abort",m),e.removeListener("request",y),e.req&&e.req.removeListener("finish",h),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",h),e.removeListener("exit",f),e.removeListener("end",p),e.removeListener("error",A),e.removeListener("close",m)}};e.exports=o},function(e,t,i){const n=i(43),r=i(3),o=i(2);let s=void 0;try{s=i(70)}catch(e){}const a={nosort:!0,silent:!0};let c=0;const l="win32"===process.platform,d=e=>{if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(t=>{e[t]=e[t]||o[t],e[t+="Sync"]=e[t]||o[t]}),e.maxBusyTries=e.maxBusyTries||3,e.emfileWait=e.emfileWait||1e3,!1===e.glob&&(e.disableGlob=!0),!0!==e.disableGlob&&void 0===s)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");e.disableGlob=e.disableGlob||!1,e.glob=e.glob||a},u=(e,t,i)=>{"function"==typeof t&&(i=t,t={}),n(e,"rimraf: missing path"),n.equal(typeof e,"string","rimraf: path should be a string"),n.equal(typeof i,"function","rimraf: callback function required"),n(t,"rimraf: invalid options argument provided"),n.equal(typeof t,"object","rimraf: options should be object"),d(t);let r=0,o=null,a=0;const l=(e,n)=>e?i(e):(a=n.length,0===a?i():void n.forEach(e=>{const n=s=>{if(s){if(("EBUSY"===s.code||"ENOTEMPTY"===s.code||"EPERM"===s.code)&&r<t.maxBusyTries)return r++,setTimeout(()=>h(e,t,n),100*r);if("EMFILE"===s.code&&c<t.emfileWait)return setTimeout(()=>h(e,t,n),c++);"ENOENT"===s.code&&(s=null)}c=0,(e=>{o=o||e,0==--a&&i(o)})(s)};h(e,t,n)}));if(t.disableGlob||!s.hasMagic(e))return l(null,[e]);t.lstat(e,(i,n)=>{if(!i)return l(null,[e]);s(e,t.glob,l)})},h=(e,t,i)=>{n(e),n(t),n("function"==typeof i),t.lstat(e,(n,r)=>n&&"ENOENT"===n.code?i(null):(n&&"EPERM"===n.code&&l&&p(e,t,n,i),r&&r.isDirectory()?A(e,t,n,i):void t.unlink(e,n=>{if(n){if("ENOENT"===n.code)return i(null);if("EPERM"===n.code)return l?p(e,t,n,i):A(e,t,n,i);if("EISDIR"===n.code)return A(e,t,n,i)}return i(n)})))},p=(e,t,i,r)=>{n(e),n(t),n("function"==typeof r),t.chmod(e,438,n=>{n?r("ENOENT"===n.code?null:i):t.stat(e,(n,o)=>{n?r("ENOENT"===n.code?null:i):o.isDirectory()?A(e,t,i,r):t.unlink(e,r)})})},f=(e,t,i)=>{n(e),n(t);try{t.chmodSync(e,438)}catch(e){if("ENOENT"===e.code)return;throw i}let r;try{r=t.statSync(e)}catch(e){if("ENOENT"===e.code)return;throw i}r.isDirectory()?y(e,t,i):t.unlinkSync(e)},A=(e,t,i,r)=>{n(e),n(t),n("function"==typeof r),t.rmdir(e,n=>{!n||"ENOTEMPTY"!==n.code&&"EEXIST"!==n.code&&"EPERM"!==n.code?n&&"ENOTDIR"===n.code?r(i):r(n):m(e,t,r)})},m=(e,t,i)=>{n(e),n(t),n("function"==typeof i),t.readdir(e,(n,o)=>{if(n)return i(n);let s,a=o.length;if(0===a)return t.rmdir(e,i);o.forEach(n=>{u(r.join(e,n),t,n=>{if(!s)return n?i(s=n):void(0==--a&&t.rmdir(e,i))})})})},g=(e,t)=>{let i;if(d(t=t||{}),n(e,"rimraf: missing path"),n.equal(typeof e,"string","rimraf: path should be a string"),n(t,"rimraf: missing options"),n.equal(typeof t,"object","rimraf: options should be object"),t.disableGlob||!s.hasMagic(e))i=[e];else try{t.lstatSync(e),i=[e]}catch(n){i=s.sync(e,t.glob)}if(i.length)for(let e=0;e<i.length;e++){const n=i[e];let r;try{r=t.lstatSync(n)}catch(e){if("ENOENT"===e.code)return;"EPERM"===e.code&&l&&f(n,t,e)}try{r&&r.isDirectory()?y(n,t,null):t.unlinkSync(n)}catch(e){if("ENOENT"===e.code)return;if("EPERM"===e.code)return l?f(n,t,e):y(n,t,e);if("EISDIR"!==e.code)throw e;y(n,t,e)}}},y=(e,t,i)=>{n(e),n(t);try{t.rmdirSync(e)}catch(n){if("ENOENT"===n.code)return;if("ENOTDIR"===n.code)throw i;"ENOTEMPTY"!==n.code&&"EEXIST"!==n.code&&"EPERM"!==n.code||_(e,t)}},_=(e,t)=>{n(e),n(t),t.readdirSync(e).forEach(i=>g(r.join(e,i),t));const i=l?100:1;let o=0;for(;;){let n=!0;try{const r=t.rmdirSync(e,t);return n=!1,r}finally{if(++o<i&&n)continue}}};e.exports=u,u.sync=g},function(e,t,i){e.exports=d,d.realpath=d,d.sync=u,d.realpathSync=u,d.monkeypatch=function(){n.realpath=d,n.realpathSync=u},d.unmonkeypatch=function(){n.realpath=r,n.realpathSync=o};var n=i(2),r=n.realpath,o=n.realpathSync,s=process.version,a=/^v[0-5]\./.test(s),c=i(277);function l(e){return e&&"realpath"===e.syscall&&("ELOOP"===e.code||"ENOMEM"===e.code||"ENAMETOOLONG"===e.code)}function d(e,t,i){if(a)return r(e,t,i);"function"==typeof t&&(i=t,t=null),r(e,t,(function(n,r){l(n)?c.realpath(e,t,i):i(n,r)}))}function u(e,t){if(a)return o(e,t);try{return o(e,t)}catch(i){if(l(i))return c.realpathSync(e,t);throw i}}},function(e,t,i){function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.alphasort=l,t.alphasorti=c,t.setopts=function(e,t,i){i||(i={});if(i.matchBase&&-1===t.indexOf("/")){if(i.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!i.silent,e.pattern=t,e.strict=!1!==i.strict,e.realpath=!!i.realpath,e.realpathCache=i.realpathCache||Object.create(null),e.follow=!!i.follow,e.dot=!!i.dot,e.mark=!!i.mark,e.nodir=!!i.nodir,e.nodir&&(e.mark=!0);e.sync=!!i.sync,e.nounique=!!i.nounique,e.nonull=!!i.nonull,e.nosort=!!i.nosort,e.nocase=!!i.nocase,e.stat=!!i.stat,e.noprocess=!!i.noprocess,e.absolute=!!i.absolute,e.maxLength=i.maxLength||1/0,e.cache=i.cache||Object.create(null),e.statCache=i.statCache||Object.create(null),e.symlinks=i.symlinks||Object.create(null),function(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]);e.ignore.length&&(e.ignore=e.ignore.map(d))}(e,i),e.changedCwd=!1;var o=process.cwd();n(i,"cwd")?(e.cwd=r.resolve(i.cwd),e.changedCwd=e.cwd!==o):e.cwd=o;e.root=i.root||r.resolve(e.cwd,"/"),e.root=r.resolve(e.root),"win32"===process.platform&&(e.root=e.root.replace(/\\/g,"/"));e.cwdAbs=s(e.cwd)?e.cwd:u(e,e.cwd),"win32"===process.platform&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/"));e.nomount=!!i.nomount,i.nonegate=!0,i.nocomment=!0,e.minimatch=new a(t,i),e.options=e.minimatch.options},t.ownProp=n,t.makeAbs=u,t.finish=function(e){for(var t=e.nounique,i=t?[]:Object.create(null),n=0,r=e.matches.length;n<r;n++){var o=e.matches[n];if(o&&0!==Object.keys(o).length){var s=Object.keys(o);t?i.push.apply(i,s):s.forEach((function(e){i[e]=!0}))}else if(e.nonull){var a=e.minimatch.globSet[n];t?i.push(a):i[a]=!0}}t||(i=Object.keys(i));e.nosort||(i=i.sort(e.nocase?c:l));if(e.mark){for(n=0;n<i.length;n++)i[n]=e._mark(i[n]);e.nodir&&(i=i.filter((function(t){var i=!/\/$/.test(t),n=e.cache[t]||e.cache[u(e,t)];return i&&n&&(i="DIR"!==n&&!Array.isArray(n)),i})))}e.ignore.length&&(i=i.filter((function(t){return!h(e,t)})));e.found=i},t.mark=function(e,t){var i=u(e,t),n=e.cache[i],r=t;if(n){var o="DIR"===n||Array.isArray(n),s="/"===t.slice(-1);if(o&&!s?r+="/":!o&&s&&(r=r.slice(0,-1)),r!==t){var a=u(e,r);e.statCache[a]=e.statCache[i],e.cache[a]=e.cache[i]}}return r},t.isIgnored=h,t.childrenIgnored=function(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return!(!e.gmatcher||!e.gmatcher.match(t))}))};var r=i(3),o=i(71),s=i(72),a=o.Minimatch;function c(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function l(e,t){return e.localeCompare(t)}function d(e){var t=null;if("/**"===e.slice(-3)){var i=e.replace(/(\/\*\*)+$/,"");t=new a(i,{dot:!0})}return{matcher:new a(e,{dot:!0}),gmatcher:t}}function u(e,t){var i=t;return i="/"===t.charAt(0)?r.join(e.root,t):s(t)||""===t?t:e.changedCwd?r.resolve(e.cwd,t):r.resolve(t),"win32"===process.platform&&(i=i.replace(/\\/g,"/")),i}function h(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))}))}},function(e,t,i){"use strict";const n=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(i(284));function r(e){return new n.default(e)}!function(e){e.HttpsProxyAgent=n.default,e.prototype=n.default.prototype}(r||(r={})),e.exports=r},function(e,t,i){"use strict";var n=i(10).parse,r={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},o=String.prototype.endsWith||function(e){return e.length<=this.length&&-1!==this.indexOf(e,this.length-e.length)};function s(e){return process.env[e.toLowerCase()]||process.env[e.toUpperCase()]||""}t.getProxyForUrl=function(e){var t="string"==typeof e?n(e):e||{},i=t.protocol,a=t.host,c=t.port;if("string"!=typeof a||!a||"string"!=typeof i)return"";if(i=i.split(":",1)[0],!function(e,t){var i=(s("npm_config_no_proxy")||s("no_proxy")).toLowerCase();if(!i)return!0;if("*"===i)return!1;return i.split(/[,\s]/).every((function(i){if(!i)return!0;var n=i.match(/^(.+):(\d+)$/),r=n?n[1]:i,s=n?parseInt(n[2]):0;return!(!s||s===t)||(/^[.*]/.test(r)?("*"===r.charAt(0)&&(r=r.slice(1)),!o.call(e,r)):e!==r)}))}(a=a.replace(/:\d*$/,""),c=parseInt(c)||r[i]||0))return"";var l=s("npm_config_"+i+"_proxy")||s(i+"_proxy")||s("npm_config_proxy")||s("all_proxy");return l&&-1===l.indexOf("://")&&(l=i+"://"+l),l}},function(e,t,i){var n=i(288),r=i(289),o=i(129),s=i(308),a=i(2),c=i(3),l="win32"===i(16).platform(),d=function(){},u=function(e){return e},h=l?function(e){return e.replace(/\\/g,"/").replace(/[:?<>|]/g,"_")}:u,p=function(e,t){return function(i){i.name=i.name.split("/").slice(t).join("/");var n=i.linkname;return n&&("link"===i.type||c.isAbsolute(n))&&(i.linkname=n.split("/").slice(t).join("/")),e(i)}};t.pack=function(e,t){e||(e="."),t||(t={});var i=t.fs||a,n=t.ignore||t.filter||d,s=t.map||d,l=t.mapStream||u,A=function(e,t,i,n,r,o){var s=r||["."];return function(r){if(!s.length)return r();var a=s.shift(),l=c.join(i,a);t.call(e,l,(function(t,d){return t?r(t):d.isDirectory()?void e.readdir(l,(function(e,t){if(e)return r(e);o&&t.sort();for(var l=0;l<t.length;l++)n(c.join(i,a,t[l]))||s.push(c.join(a,t[l]));r(null,a,d)})):r(null,a,d)}))}}(i,t.dereference?i.stat:i.lstat,e,n,t.entries,t.sort),m=!1!==t.strict,g="number"==typeof t.umask?~t.umask:~f(),y="number"==typeof t.dmode?t.dmode:0,_="number"==typeof t.fmode?t.fmode:0,b=t.pack||r.pack(),v=t.finish||d;t.strip&&(s=p(s,t.strip)),t.readable&&(y|=parseInt(555,8),_|=parseInt(444,8)),t.writable&&(y|=parseInt(333,8),_|=parseInt(222,8));var C=function(n,r,a){if(n)return b.destroy(n);if(!r)return!1!==t.finalize&&b.finalize(),v(b);if(a.isSocket())return w();var d={name:h(r),mode:(a.mode|(a.isDirectory()?y:_))&g,mtime:a.mtime,size:a.size,type:"file",uid:a.uid,gid:a.gid};if(a.isDirectory())return d.size=0,d.type="directory",d=s(d)||d,b.entry(d,w);if(a.isSymbolicLink())return d.size=0,d.type="symlink",function(t,n){i.readlink(c.join(e,t),(function(e,t){if(e)return b.destroy(e);n.linkname=h(t),b.entry(n,w)}))}(r,d=s(d)||d);if(d=s(d)||d,!a.isFile())return m?b.destroy(new Error("unsupported type for "+r)):w();var u=b.entry(d,w);if(u){var p=l(i.createReadStream(c.join(e,r),{start:0,end:d.size>0?d.size-1:d.size}),d);p.on("error",(function(e){u.destroy(e)})),o(p,u)}},w=function(e){if(e)return b.destroy(e);A(C)};return w(),b};var f=function(){return process.umask?process.umask():0};function A(e,t,i){s(e,{fs:t.fs},(function(e,r){!e&&r&&t.own?n(r,t.uid,t.gid,i):i(e)}))}t.extract=function(e,t){e||(e="."),t||(t={});var i=t.fs||a,n=t.ignore||t.filter||d,s=t.map||d,m=t.mapStream||u,g=!1!==t.chown&&!l&&0===(process.getuid?process.getuid():-1),y=t.extract||r.extract(),_=[],b=new Date,v="number"==typeof t.umask?~t.umask:~f(),C="number"==typeof t.dmode?t.dmode:0,w="number"==typeof t.fmode?t.fmode:0,x=!1!==t.strict;t.strip&&(s=p(s,t.strip)),t.readable&&(C|=parseInt(555,8),w|=parseInt(444,8)),t.writable&&(C|=parseInt(333,8),w|=parseInt(222,8));var E=function(e,t){for(var n,r;(n=(r=_).length?r[r.length-1]:null)&&e.slice(0,n[0].length)!==n[0];)_.pop();if(!n)return t();i.utimes(n[0],b,n[1],t)};return y.on("entry",(function(r,a,d){(r=s(r)||r).name=h(r.name);var u=c.join(e,c.join("/",r.name));if(n(u,r))return a.resume(),d();var p=function(e){if(e)return d(e);!function(e,n,r){!1===t.utimes?r():"directory"===n.type?i.utimes(e,b,n.mtime,r):"symlink"===n.type?E(e,r):i.utimes(e,b,n.mtime,(function(t){if(t)return r(t);E(e,r)}))}(u,r,(function(e){return e?d(e):l?d():void function(e,t,n){var r="symlink"===t.type,o=r?i.lchmod:i.chmod,s=r?i.lchown:i.chown;if(!o)return n();var a=(t.mode|("directory"===t.type?C:w))&v;function c(t){return t?n(t):o?void o.call(i,e,a,n):n()}s&&g?s.call(i,e,t.uid,t.gid,c):c(null)}(u,r,d)}))},f=function(){var e=i.createWriteStream(u),t=m(a,r);e.on("error",(function(e){t.destroy(e)})),o(t,e,(function(t){if(t)return d(t);e.on("close",p)}))};if("directory"===r.type)return _.push([u,r.mtime]),A(u,{fs:i,own:g,uid:r.uid,gid:r.gid},p);var y=c.dirname(u);!function e(t,i,n,r){if(i===n)return r(null,!0);t.lstat(i,(function(o,s){return o&&"ENOENT"!==o.code?r(o):o||s.isDirectory()?e(t,c.join(i,".."),n,r):void r(null,!1)}))}(i,y,c.join(e,"."),(function(n,o){return n?d(n):o?void A(y,{fs:i,own:g,uid:r.uid,gid:r.gid},(function(n){if(n)return d(n);switch(r.type){case"file":return f();case"link":return function(){if(l)return d();i.unlink(u,(function(){var n=c.join(e,c.join("/",r.linkname));i.link(n,u,(function(e){if(e&&"EPERM"===e.code&&t.hardlinkAsFilesFallback)return a=i.createReadStream(n),f();p(e)}))}))}();case"symlink":return function(){if(l)return d();i.unlink(u,(function(){i.symlink(r.linkname,u,p)}))}()}if(x)return d(new Error("unsupported type for "+u+" ("+r.type+")"));a.resume(),d()})):d(new Error(y+" is not a valid path"))}))})),t.finish&&y.on("finish",t.finish),y}},function(e,t,i){"use strict";var n;e.exports=x,x.ReadableState=w;i(7).EventEmitter;var r=function(e,t){return e.listeners(t).length},o=i(139),s=i(6).Buffer,a=global.Uint8Array||function(){};var c,l=i(1);c=l&&l.debuglog?l.debuglog("stream"):function(){};var d,u,h,p=i(293),f=i(140),A=i(141).getHighWaterMark,m=i(23).codes,g=m.ERR_INVALID_ARG_TYPE,y=m.ERR_STREAM_PUSH_AFTER_EOF,_=m.ERR_METHOD_NOT_IMPLEMENTED,b=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;i(33)(x,o);var v=f.errorOrDestroy,C=["error","close","destroy","pause","resume"];function w(e,t,r){n=n||i(34),e=e||{},"boolean"!=typeof r&&(r=t instanceof n),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=A(this,e,"readableHighWaterMark",r),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=i(56).StringDecoder),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function x(e){if(n=n||i(34),!(this instanceof x))return new x(e);var t=this instanceof n;this._readableState=new w(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function E(e,t,i,n,r){c("readableAddChunk",t);var o,l=e._readableState;if(null===t)l.reading=!1,function(e,t){if(c("onEofChunk"),t.ended)return;if(t.decoder){var i=t.decoder.end();i&&i.length&&(t.buffer.push(i),t.length+=t.objectMode?1:i.length)}t.ended=!0,t.sync?I(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,M(e)))}(e,l);else if(r||(o=function(e,t){var i;n=t,s.isBuffer(n)||n instanceof a||"string"==typeof t||void 0===t||e.objectMode||(i=new g("chunk",["string","Buffer","Uint8Array"],t));var n;return i}(l,t)),o)v(e,o);else if(l.objectMode||t&&t.length>0)if("string"==typeof t||l.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),n)l.endEmitted?v(e,new b):k(e,l,t,!0);else if(l.ended)v(e,new y);else{if(l.destroyed)return!1;l.reading=!1,l.decoder&&!i?(t=l.decoder.write(t),l.objectMode||0!==t.length?k(e,l,t,!1):O(e,l)):k(e,l,t,!1)}else n||(l.reading=!1,O(e,l));return!l.ended&&(l.length<l.highWaterMark||0===l.length)}function k(e,t,i,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",i)):(t.length+=t.objectMode?1:i.length,n?t.buffer.unshift(i):t.buffer.push(i),t.needReadable&&I(e)),O(e,t)}Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),x.prototype.destroy=f.destroy,x.prototype._undestroy=f.undestroy,x.prototype._destroy=function(e,t){t(e)},x.prototype.push=function(e,t){var i,n=this._readableState;return n.objectMode?i=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=s.from(e,t),t=""),i=!0),E(this,e,t,!1,i)},x.prototype.unshift=function(e){return E(this,e,null,!0,!1)},x.prototype.isPaused=function(){return!1===this._readableState.flowing},x.prototype.setEncoding=function(e){d||(d=i(56).StringDecoder);var t=new d(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,r="";null!==n;)r+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==r&&this._readableState.buffer.push(r),this._readableState.length=r.length,this};function S(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=1073741824?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function I(e){var t=e._readableState;c("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(M,e))}function M(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,F(e)}function O(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(T,e,t))}function T(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var i=t.length;if(c("maybeReadMore read 0"),e.read(0),i===t.length)break}t.readingMore=!1}function P(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function R(e){c("readable nexttick read 0"),e.read(0)}function L(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),F(e),t.flowing&&!t.reading&&e.read(0)}function F(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function N(e,t){return 0===t.length?null:(t.objectMode?i=t.buffer.shift():!e||e>=t.length?(i=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):i=t.buffer.consume(e,t.decoder),i);var i}function B(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(K,t,e))}function K(e,t){if(c("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var i=t._writableState;(!i||i.autoDestroy&&i.finished)&&t.destroy()}}function j(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1}x.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,i=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?B(this):I(this),null;if(0===(e=S(e,t))&&t.ended)return 0===t.length&&B(this),null;var n,r=t.needReadable;return c("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",r=!0),t.ended||t.reading?c("reading or ended",r=!1):r&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=S(i,t))),null===(n=e>0?N(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),i!==e&&t.ended&&B(this)),null!==n&&this.emit("data",n),n},x.prototype._read=function(e){v(this,new _("_read()"))},x.prototype.pipe=function(e,t){var i=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,c("pipe count=%d opts=%j",n.pipesCount,t);var o=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?a:A;function s(t,r){c("onunpipe"),t===i&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,c("cleanup"),e.removeListener("close",p),e.removeListener("finish",f),e.removeListener("drain",l),e.removeListener("error",h),e.removeListener("unpipe",s),i.removeListener("end",a),i.removeListener("end",A),i.removeListener("data",u),d=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function a(){c("onend"),e.end()}n.endEmitted?process.nextTick(o):i.once("end",o),e.on("unpipe",s);var l=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&r(e,"data")&&(t.flowing=!0,F(e))}}(i);e.on("drain",l);var d=!1;function u(t){c("ondata");var r=e.write(t);c("dest.write",r),!1===r&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==j(n.pipes,e))&&!d&&(c("false write response, pause",n.awaitDrain),n.awaitDrain++),i.pause())}function h(t){c("onerror",t),A(),e.removeListener("error",h),0===r(e,"error")&&v(e,t)}function p(){e.removeListener("finish",f),A()}function f(){c("onfinish"),e.removeListener("close",p),A()}function A(){c("unpipe"),i.unpipe(e)}return i.on("data",u),function(e,t,i){if("function"==typeof e.prependListener)return e.prependListener(t,i);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(i):e._events[t]=[i,e._events[t]]:e.on(t,i)}(e,"error",h),e.once("close",p),e.once("finish",f),e.emit("pipe",i),n.flowing||(c("pipe resume"),i.resume()),e},x.prototype.unpipe=function(e){var t=this._readableState,i={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,i)),this;if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<r;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=j(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,i)),this},x.prototype.on=function(e,t){var i=o.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,c("on readable",n.length,n.reading),n.length?I(this):n.reading||process.nextTick(R,this))),i},x.prototype.addListener=x.prototype.on,x.prototype.removeListener=function(e,t){var i=o.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(P,this),i},x.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(P,this),t},x.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(L,e,t))}(this,e)),e.paused=!1,this},x.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},x.prototype.wrap=function(e){var t=this,i=this._readableState,n=!1;for(var r in e.on("end",(function(){if(c("wrapped end"),i.decoder&&!i.ended){var e=i.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(r){(c("wrapped data"),i.decoder&&(r=i.decoder.write(r)),i.objectMode&&null==r)||(i.objectMode||r&&r.length)&&(t.push(r)||(n=!0,e.pause()))})),e)void 0===this[r]&&"function"==typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));for(var o=0;o<C.length;o++)e.on(C[o],this.emit.bind(this,C[o]));return this._read=function(t){c("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(x.prototype[Symbol.asyncIterator]=function(){return void 0===u&&(u=i(296)),u(this)}),Object.defineProperty(x.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(x.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(x.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),x._fromList=N,Object.defineProperty(x.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(x.from=function(e,t){return void 0===h&&(h=i(297)),h(x,e,t)})},function(e,t,i){e.exports=i(0)},function(e,t,i){"use strict";function n(e,t){o(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var i=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(o,this,e)):process.nextTick(o,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?i._writableState?i._writableState.errorEmitted?process.nextTick(r,i):(i._writableState.errorEmitted=!0,process.nextTick(n,i,e)):process.nextTick(n,i,e):t?(process.nextTick(r,i),t(e)):process.nextTick(r,i)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var i=e._readableState,n=e._writableState;i&&i.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},function(e,t,i){"use strict";var n=i(23).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,i,r){var o=function(e,t,i){return null!=e.highWaterMark?e.highWaterMark:t?e[i]:null}(t,r,i);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(r?i:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},function(e,t,i){"use strict";function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,i){var n=e.entry;e.entry=null;for(;n;){var r=n.callback;t.pendingcb--,r(i),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var r;e.exports=x,x.WritableState=w;var o={deprecate:i(143)},s=i(139),a=i(6).Buffer,c=global.Uint8Array||function(){};var l,d=i(140),u=i(141).getHighWaterMark,h=i(23).codes,p=h.ERR_INVALID_ARG_TYPE,f=h.ERR_METHOD_NOT_IMPLEMENTED,A=h.ERR_MULTIPLE_CALLBACK,m=h.ERR_STREAM_CANNOT_PIPE,g=h.ERR_STREAM_DESTROYED,y=h.ERR_STREAM_NULL_VALUES,_=h.ERR_STREAM_WRITE_AFTER_END,b=h.ERR_UNKNOWN_ENCODING,v=d.errorOrDestroy;function C(){}function w(e,t,o){r=r||i(34),e=e||{},"boolean"!=typeof o&&(o=t instanceof r),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=u(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var i=e._writableState,n=i.sync,r=i.writecb;if("function"!=typeof r)throw new A;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(i),t)!function(e,t,i,n,r){--t.pendingcb,i?(process.nextTick(r,n),process.nextTick(O,e,t),e._writableState.errorEmitted=!0,v(e,n)):(r(n),e._writableState.errorEmitted=!0,v(e,n),O(e,t))}(e,i,n,t,r);else{var o=I(i)||e.destroyed;o||i.corked||i.bufferProcessing||!i.bufferedRequest||S(e,i),n?process.nextTick(k,e,i,o,r):k(e,i,o,r)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function x(e){var t=this instanceof(r=r||i(34));if(!t&&!l.call(x,this))return new x(e);this._writableState=new w(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function E(e,t,i,n,r,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new g("write")):i?e._writev(r,t.onwrite):e._write(r,o,t.onwrite),t.sync=!1}function k(e,t,i,n){i||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),O(e,t)}function S(e,t){t.bufferProcessing=!0;var i=t.bufferedRequest;if(e._writev&&i&&i.next){var r=t.bufferedRequestCount,o=new Array(r),s=t.corkedRequestsFree;s.entry=i;for(var a=0,c=!0;i;)o[a]=i,i.isBuf||(c=!1),i=i.next,a+=1;o.allBuffers=c,E(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;i;){var l=i.chunk,d=i.encoding,u=i.callback;if(E(e,t,!1,t.objectMode?1:l.length,l,d,u),i=i.next,t.bufferedRequestCount--,t.writing)break}null===i&&(t.lastBufferedRequest=null)}t.bufferedRequest=i,t.bufferProcessing=!1}function I(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function M(e,t){e._final((function(i){t.pendingcb--,i&&v(e,i),t.prefinished=!0,e.emit("prefinish"),O(e,t)}))}function O(e,t){var i=I(t);if(i&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(M,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return i}i(33)(x,s),w.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(w.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===x&&(e&&e._writableState instanceof w)}})):l=function(e){return e instanceof this},x.prototype.pipe=function(){v(this,new m)},x.prototype.write=function(e,t,i){var n,r=this._writableState,o=!1,s=!r.objectMode&&(n=e,a.isBuffer(n)||n instanceof c);return s&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(i=t,t=null),s?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof i&&(i=C),r.ending?function(e,t){var i=new _;v(e,i),process.nextTick(t,i)}(this,i):(s||function(e,t,i,n){var r;return null===i?r=new y:"string"==typeof i||t.objectMode||(r=new p("chunk",["string","Buffer"],i)),!r||(v(e,r),process.nextTick(n,r),!1)}(this,r,e,i))&&(r.pendingcb++,o=function(e,t,i,n,r,o){if(!i){var s=function(e,t,i){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,i));return t}(t,n,r);n!==s&&(i=!0,r="buffer",n=s)}var c=t.objectMode?1:n.length;t.length+=c;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var d=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:r,isBuf:i,callback:o,next:null},d?d.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else E(e,t,!1,c,n,r,o);return l}(this,r,s,e,t,i)),o},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||S(this,e))},x.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new b(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),x.prototype._write=function(e,t,i){i(new f("_write()"))},x.prototype._writev=null,x.prototype.end=function(e,t,i){var n=this._writableState;return"function"==typeof e?(i=e,e=null,t=null):"function"==typeof t&&(i=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,i){t.ending=!0,O(e,t),i&&(t.finished?process.nextTick(i):e.once("finish",i));t.ended=!0,e.writable=!1}(this,n,i),this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),x.prototype.destroy=d.destroy,x.prototype._undestroy=d.undestroy,x.prototype._destroy=function(e,t){t(e)}},function(e,t,i){e.exports=i(1).deprecate},function(e,t,i){"use strict";e.exports=d;var n=i(23).codes,r=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=i(34);function l(e,t){var i=this._transformState;i.transforming=!1;var n=i.writecb;if(null===n)return this.emit("error",new o);i.writechunk=null,i.writecb=null,null!=t&&this.push(t),n(e);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function d(e){if(!(this instanceof d))return new d(e);c.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",u)}function u(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,i){h(e,t,i)}))}function h(e,t,i){if(t)return e.emit("error",t);if(null!=i&&e.push(i),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}i(33)(d,c),d.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},d.prototype._transform=function(e,t,i){i(new r("_transform()"))},d.prototype._write=function(e,t,i){var n=this._transformState;if(n.writecb=i,n.writechunk=e,n.writeencoding=t,!n.transforming){var r=this._readableState;(n.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},d.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},d.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},function(e,t){var i=Buffer.alloc,n="0".charCodeAt(0),r=Buffer.from("ustar\0","binary"),o=Buffer.from("00","binary"),s=Buffer.from("ustar ","binary"),a=Buffer.from(" \0","binary"),c=parseInt("7777",8),l=function(e,t,i,n){for(;i<n;i++)if(e[i]===t)return i;return n},d=function(e){for(var t=256,i=0;i<148;i++)t+=e[i];for(var n=156;n<512;n++)t+=e[n];return t},u=function(e,t){return(e=e.toString(8)).length>t?"7777777777777777777".slice(0,t)+" ":"0000000000000000000".slice(0,t-e.length)+e+" "};var h=function(e,t,i){if(128&(e=e.slice(t,t+i))[t=0])return function(e){var t;if(128===e[0])t=!0;else{if(255!==e[0])return null;t=!1}for(var i=[],n=e.length-1;n>0;n--){var r=e[n];t?i.push(r):i.push(255-r)}var o=0,s=i.length;for(n=0;n<s;n++)o+=i[n]*Math.pow(256,n);return t?o:-1*o}(e);for(;t<e.length&&32===e[t];)t++;for(var n=(r=l(e,32,t,e.length),o=e.length,s=e.length,"number"!=typeof r?s:(r=~~r)>=o?o:r>=0||(r+=o)>=0?r:0);t<n&&0===e[t];)t++;return n===t?0:parseInt(e.slice(t,n).toString(),8);var r,o,s},p=function(e,t,i,n){return e.slice(t,l(e,0,t,t+i)).toString(n)},f=function(e){var t=Buffer.byteLength(e),i=Math.floor(Math.log(t)/Math.log(10))+1;return t+i>=Math.pow(10,i)&&i++,t+i+e};t.decodeLongPath=function(e,t){return p(e,0,e.length,t)},t.encodePax=function(e){var t="";e.name&&(t+=f(" path="+e.name+"\n")),e.linkname&&(t+=f(" linkpath="+e.linkname+"\n"));var i=e.pax;if(i)for(var n in i)t+=f(" "+n+"="+i[n]+"\n");return Buffer.from(t)},t.decodePax=function(e){for(var t={};e.length;){for(var i=0;i<e.length&&32!==e[i];)i++;var n=parseInt(e.slice(0,i).toString(),10);if(!n)return t;var r=e.slice(i+1,n-1).toString(),o=r.indexOf("=");if(-1===o)return t;t[r.slice(0,o)]=r.slice(o+1),e=e.slice(n)}return t},t.encode=function(e){var t=i(512),s=e.name,a="";if(5===e.typeflag&&"/"!==s[s.length-1]&&(s+="/"),Buffer.byteLength(s)!==s.length)return null;for(;Buffer.byteLength(s)>100;){var l=s.indexOf("/");if(-1===l)return null;a+=a?"/"+s.slice(0,l):s.slice(0,l),s=s.slice(l+1)}return Buffer.byteLength(s)>100||Buffer.byteLength(a)>155||e.linkname&&Buffer.byteLength(e.linkname)>100?null:(t.write(s),t.write(u(e.mode&c,6),100),t.write(u(e.uid,6),108),t.write(u(e.gid,6),116),t.write(u(e.size,11),124),t.write(u(e.mtime.getTime()/1e3|0,11),136),t[156]=n+function(e){switch(e){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}(e.type),e.linkname&&t.write(e.linkname,157),r.copy(t,257),o.copy(t,263),e.uname&&t.write(e.uname,265),e.gname&&t.write(e.gname,297),t.write(u(e.devmajor||0,6),329),t.write(u(e.devminor||0,6),337),a&&t.write(a,345),t.write(u(d(t),6),148),t)},t.decode=function(e,t,i){var o=0===e[156]?0:e[156]-n,c=p(e,0,100,t),l=h(e,100,8),u=h(e,108,8),f=h(e,116,8),A=h(e,124,12),m=h(e,136,12),g=function(e){switch(e){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}(o),y=0===e[157]?null:p(e,157,100,t),_=p(e,265,32),b=p(e,297,32),v=h(e,329,8),C=h(e,337,8),w=d(e);if(256===w)return null;if(w!==h(e,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(0===r.compare(e,257,263))e[345]&&(c=p(e,345,155,t)+"/"+c);else if(0===s.compare(e,257,263)&&0===a.compare(e,263,265));else if(!i)throw new Error("Invalid tar header: unknown format.");return 0===o&&c&&"/"===c[c.length-1]&&(o=5),{name:c,mode:l,uid:u,gid:f,size:A,mtime:new Date(1e3*m),type:g,linkname:y,uname:_,gname:b,devmajor:v,devminor:C}}},function(e,t,i){"use strict";var n;e.exports=x,x.ReadableState=w;i(7).EventEmitter;var r=function(e,t){return e.listeners(t).length},o=i(147),s=i(6).Buffer,a=global.Uint8Array||function(){};var c,l=i(1);c=l&&l.debuglog?l.debuglog("stream"):function(){};var d,u,h,p=i(301),f=i(148),A=i(149).getHighWaterMark,m=i(24).codes,g=m.ERR_INVALID_ARG_TYPE,y=m.ERR_STREAM_PUSH_AFTER_EOF,_=m.ERR_METHOD_NOT_IMPLEMENTED,b=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;i(22)(x,o);var v=f.errorOrDestroy,C=["error","close","destroy","pause","resume"];function w(e,t,r){n=n||i(35),e=e||{},"boolean"!=typeof r&&(r=t instanceof n),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=A(this,e,"readableHighWaterMark",r),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=i(56).StringDecoder),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function x(e){if(n=n||i(35),!(this instanceof x))return new x(e);var t=this instanceof n;this._readableState=new w(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function E(e,t,i,n,r){c("readableAddChunk",t);var o,l=e._readableState;if(null===t)l.reading=!1,function(e,t){if(c("onEofChunk"),t.ended)return;if(t.decoder){var i=t.decoder.end();i&&i.length&&(t.buffer.push(i),t.length+=t.objectMode?1:i.length)}t.ended=!0,t.sync?I(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,M(e)))}(e,l);else if(r||(o=function(e,t){var i;n=t,s.isBuffer(n)||n instanceof a||"string"==typeof t||void 0===t||e.objectMode||(i=new g("chunk",["string","Buffer","Uint8Array"],t));var n;return i}(l,t)),o)v(e,o);else if(l.objectMode||t&&t.length>0)if("string"==typeof t||l.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),n)l.endEmitted?v(e,new b):k(e,l,t,!0);else if(l.ended)v(e,new y);else{if(l.destroyed)return!1;l.reading=!1,l.decoder&&!i?(t=l.decoder.write(t),l.objectMode||0!==t.length?k(e,l,t,!1):O(e,l)):k(e,l,t,!1)}else n||(l.reading=!1,O(e,l));return!l.ended&&(l.length<l.highWaterMark||0===l.length)}function k(e,t,i,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",i)):(t.length+=t.objectMode?1:i.length,n?t.buffer.unshift(i):t.buffer.push(i),t.needReadable&&I(e)),O(e,t)}Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),x.prototype.destroy=f.destroy,x.prototype._undestroy=f.undestroy,x.prototype._destroy=function(e,t){t(e)},x.prototype.push=function(e,t){var i,n=this._readableState;return n.objectMode?i=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=s.from(e,t),t=""),i=!0),E(this,e,t,!1,i)},x.prototype.unshift=function(e){return E(this,e,null,!0,!1)},x.prototype.isPaused=function(){return!1===this._readableState.flowing},x.prototype.setEncoding=function(e){d||(d=i(56).StringDecoder);var t=new d(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,r="";null!==n;)r+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==r&&this._readableState.buffer.push(r),this._readableState.length=r.length,this};function S(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=1073741824?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function I(e){var t=e._readableState;c("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(M,e))}function M(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,F(e)}function O(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(T,e,t))}function T(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var i=t.length;if(c("maybeReadMore read 0"),e.read(0),i===t.length)break}t.readingMore=!1}function P(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function R(e){c("readable nexttick read 0"),e.read(0)}function L(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),F(e),t.flowing&&!t.reading&&e.read(0)}function F(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function N(e,t){return 0===t.length?null:(t.objectMode?i=t.buffer.shift():!e||e>=t.length?(i=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):i=t.buffer.consume(e,t.decoder),i);var i}function B(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(K,t,e))}function K(e,t){if(c("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var i=t._writableState;(!i||i.autoDestroy&&i.finished)&&t.destroy()}}function j(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1}x.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,i=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?B(this):I(this),null;if(0===(e=S(e,t))&&t.ended)return 0===t.length&&B(this),null;var n,r=t.needReadable;return c("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",r=!0),t.ended||t.reading?c("reading or ended",r=!1):r&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=S(i,t))),null===(n=e>0?N(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),i!==e&&t.ended&&B(this)),null!==n&&this.emit("data",n),n},x.prototype._read=function(e){v(this,new _("_read()"))},x.prototype.pipe=function(e,t){var i=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,c("pipe count=%d opts=%j",n.pipesCount,t);var o=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?a:A;function s(t,r){c("onunpipe"),t===i&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,c("cleanup"),e.removeListener("close",p),e.removeListener("finish",f),e.removeListener("drain",l),e.removeListener("error",h),e.removeListener("unpipe",s),i.removeListener("end",a),i.removeListener("end",A),i.removeListener("data",u),d=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function a(){c("onend"),e.end()}n.endEmitted?process.nextTick(o):i.once("end",o),e.on("unpipe",s);var l=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&r(e,"data")&&(t.flowing=!0,F(e))}}(i);e.on("drain",l);var d=!1;function u(t){c("ondata");var r=e.write(t);c("dest.write",r),!1===r&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==j(n.pipes,e))&&!d&&(c("false write response, pause",n.awaitDrain),n.awaitDrain++),i.pause())}function h(t){c("onerror",t),A(),e.removeListener("error",h),0===r(e,"error")&&v(e,t)}function p(){e.removeListener("finish",f),A()}function f(){c("onfinish"),e.removeListener("close",p),A()}function A(){c("unpipe"),i.unpipe(e)}return i.on("data",u),function(e,t,i){if("function"==typeof e.prependListener)return e.prependListener(t,i);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(i):e._events[t]=[i,e._events[t]]:e.on(t,i)}(e,"error",h),e.once("close",p),e.once("finish",f),e.emit("pipe",i),n.flowing||(c("pipe resume"),i.resume()),e},x.prototype.unpipe=function(e){var t=this._readableState,i={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,i)),this;if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<r;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=j(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,i)),this},x.prototype.on=function(e,t){var i=o.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,c("on readable",n.length,n.reading),n.length?I(this):n.reading||process.nextTick(R,this))),i},x.prototype.addListener=x.prototype.on,x.prototype.removeListener=function(e,t){var i=o.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(P,this),i},x.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(P,this),t},x.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(L,e,t))}(this,e)),e.paused=!1,this},x.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},x.prototype.wrap=function(e){var t=this,i=this._readableState,n=!1;for(var r in e.on("end",(function(){if(c("wrapped end"),i.decoder&&!i.ended){var e=i.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(r){(c("wrapped data"),i.decoder&&(r=i.decoder.write(r)),i.objectMode&&null==r)||(i.objectMode||r&&r.length)&&(t.push(r)||(n=!0,e.pause()))})),e)void 0===this[r]&&"function"==typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));for(var o=0;o<C.length;o++)e.on(C[o],this.emit.bind(this,C[o]));return this._read=function(t){c("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(x.prototype[Symbol.asyncIterator]=function(){return void 0===u&&(u=i(302)),u(this)}),Object.defineProperty(x.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(x.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(x.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),x._fromList=N,Object.defineProperty(x.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(x.from=function(e,t){return void 0===h&&(h=i(303)),h(x,e,t)})},function(e,t,i){e.exports=i(0)},function(e,t,i){"use strict";function n(e,t){o(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var i=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(o,this,e)):process.nextTick(o,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?i._writableState?i._writableState.errorEmitted?process.nextTick(r,i):(i._writableState.errorEmitted=!0,process.nextTick(n,i,e)):process.nextTick(n,i,e):t?(process.nextTick(r,i),t(e)):process.nextTick(r,i)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var i=e._readableState,n=e._writableState;i&&i.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},function(e,t,i){"use strict";var n=i(24).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,i,r){var o=function(e,t,i){return null!=e.highWaterMark?e.highWaterMark:t?e[i]:null}(t,r,i);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(r?i:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},function(e,t,i){"use strict";function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,i){var n=e.entry;e.entry=null;for(;n;){var r=n.callback;t.pendingcb--,r(i),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var r;e.exports=x,x.WritableState=w;var o={deprecate:i(143)},s=i(147),a=i(6).Buffer,c=global.Uint8Array||function(){};var l,d=i(148),u=i(149).getHighWaterMark,h=i(24).codes,p=h.ERR_INVALID_ARG_TYPE,f=h.ERR_METHOD_NOT_IMPLEMENTED,A=h.ERR_MULTIPLE_CALLBACK,m=h.ERR_STREAM_CANNOT_PIPE,g=h.ERR_STREAM_DESTROYED,y=h.ERR_STREAM_NULL_VALUES,_=h.ERR_STREAM_WRITE_AFTER_END,b=h.ERR_UNKNOWN_ENCODING,v=d.errorOrDestroy;function C(){}function w(e,t,o){r=r||i(35),e=e||{},"boolean"!=typeof o&&(o=t instanceof r),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=u(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var i=e._writableState,n=i.sync,r=i.writecb;if("function"!=typeof r)throw new A;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(i),t)!function(e,t,i,n,r){--t.pendingcb,i?(process.nextTick(r,n),process.nextTick(O,e,t),e._writableState.errorEmitted=!0,v(e,n)):(r(n),e._writableState.errorEmitted=!0,v(e,n),O(e,t))}(e,i,n,t,r);else{var o=I(i)||e.destroyed;o||i.corked||i.bufferProcessing||!i.bufferedRequest||S(e,i),n?process.nextTick(k,e,i,o,r):k(e,i,o,r)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function x(e){var t=this instanceof(r=r||i(35));if(!t&&!l.call(x,this))return new x(e);this._writableState=new w(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function E(e,t,i,n,r,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new g("write")):i?e._writev(r,t.onwrite):e._write(r,o,t.onwrite),t.sync=!1}function k(e,t,i,n){i||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),O(e,t)}function S(e,t){t.bufferProcessing=!0;var i=t.bufferedRequest;if(e._writev&&i&&i.next){var r=t.bufferedRequestCount,o=new Array(r),s=t.corkedRequestsFree;s.entry=i;for(var a=0,c=!0;i;)o[a]=i,i.isBuf||(c=!1),i=i.next,a+=1;o.allBuffers=c,E(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;i;){var l=i.chunk,d=i.encoding,u=i.callback;if(E(e,t,!1,t.objectMode?1:l.length,l,d,u),i=i.next,t.bufferedRequestCount--,t.writing)break}null===i&&(t.lastBufferedRequest=null)}t.bufferedRequest=i,t.bufferProcessing=!1}function I(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function M(e,t){e._final((function(i){t.pendingcb--,i&&v(e,i),t.prefinished=!0,e.emit("prefinish"),O(e,t)}))}function O(e,t){var i=I(t);if(i&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(M,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return i}i(22)(x,s),w.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(w.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===x&&(e&&e._writableState instanceof w)}})):l=function(e){return e instanceof this},x.prototype.pipe=function(){v(this,new m)},x.prototype.write=function(e,t,i){var n,r=this._writableState,o=!1,s=!r.objectMode&&(n=e,a.isBuffer(n)||n instanceof c);return s&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(i=t,t=null),s?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof i&&(i=C),r.ending?function(e,t){var i=new _;v(e,i),process.nextTick(t,i)}(this,i):(s||function(e,t,i,n){var r;return null===i?r=new y:"string"==typeof i||t.objectMode||(r=new p("chunk",["string","Buffer"],i)),!r||(v(e,r),process.nextTick(n,r),!1)}(this,r,e,i))&&(r.pendingcb++,o=function(e,t,i,n,r,o){if(!i){var s=function(e,t,i){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,i));return t}(t,n,r);n!==s&&(i=!0,r="buffer",n=s)}var c=t.objectMode?1:n.length;t.length+=c;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var d=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:r,isBuf:i,callback:o,next:null},d?d.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else E(e,t,!1,c,n,r,o);return l}(this,r,s,e,t,i)),o},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||S(this,e))},x.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new b(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),x.prototype._write=function(e,t,i){i(new f("_write()"))},x.prototype._writev=null,x.prototype.end=function(e,t,i){var n=this._writableState;return"function"==typeof e?(i=e,e=null,t=null):"function"==typeof t&&(i=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,i){t.ending=!0,O(e,t),i&&(t.finished?process.nextTick(i):e.once("finish",i));t.ended=!0,e.writable=!1}(this,n,i),this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),x.prototype.destroy=d.destroy,x.prototype._undestroy=d.undestroy,x.prototype._destroy=function(e,t){t(e)}},function(e,t,i){"use strict";e.exports=d;var n=i(24).codes,r=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=i(35);function l(e,t){var i=this._transformState;i.transforming=!1;var n=i.writecb;if(null===n)return this.emit("error",new o);i.writechunk=null,i.writecb=null,null!=t&&this.push(t),n(e);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function d(e){if(!(this instanceof d))return new d(e);c.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",u)}function u(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,i){h(e,t,i)}))}function h(e,t,i){if(t)return e.emit("error",t);if(null!=i&&e.push(i),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}i(22)(d,c),d.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},d.prototype._transform=function(e,t,i){i(new r("_transform()"))},d.prototype._write=function(e,t,i){var n=this._transformState;if(n.writecb=i,n.writechunk=e,n.writeencoding=t,!n.transforming){var r=this._readableState;(n.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},d.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},d.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},function(e,t,i){var n=i(309),r=i(310),o=i(311);e.exports=function(){var e=[],t=0,i=0,s=!1,a=null,c=null;function l(e){if(!s)try{return function(e){if(i){var t=1e5*i,n=new Int32Array(t),o=[];return null===(c=r.decompress(a,(function(e){o.push(e)}),n,t,c))?(i=0,!1):(e(Buffer.from(o)),!0)}return i=r.header(a),c=0,!0}((function(t){e.queue(t),null!==t&&t.length}))}catch(t){return e.emit("error",t),s=!0,!1}}return n((function(n){for(e.push(n),t+=n.length,null===a&&(a=o((function(){return e.shift()})));!s&&t-a.bytesRead+1>=(25e3+1e5*i||4);)l(this)}),(function(e){for(;!s&&a&&t>a.bytesRead;)l(this);s||(null!==c&&this.emit("error",new Error("input stream ended prematurely")),this.queue(null))}))}},function(e,t){e.exports=require("readline")},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PUPPETEER_REVISIONS=void 0,t.PUPPETEER_REVISIONS={chromium:"856583",firefox:"latest"}},function(e,t,i){"use strict";const n=i(3),r=i(315),o=async e=>{const t=await r("package.json",{cwd:e});return t&&n.dirname(t)};e.exports=o,e.exports.default=o,e.exports.sync=e=>{const t=r.sync("package.json",{cwd:e});return t&&n.dirname(t)}},function(e,t,i){const n=i(321);e.exports=n.default},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.NodeWebSocketTransport=void 0;const r=n(i(121));class o{constructor(e){this._ws=e,this._ws.addEventListener("message",e=>{this.onmessage&&this.onmessage.call(null,e.data)}),this._ws.addEventListener("close",()=>{this.onclose&&this.onclose.call(null)}),this._ws.addEventListener("error",()=>{}),this.onmessage=null,this.onclose=null}static create(e){return new Promise((t,i)=>{const n=new r.default(e,[],{perMessageDeflate:!1,maxPayload:268435456});n.addEventListener("open",()=>t(new o(n))),n.addEventListener("error",i)})}send(e){this._ws.send(e)}close(){this._ws.close()}}t.NodeWebSocketTransport=o},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return r(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserFetcher=void 0;const a=o(i(16)),c=o(i(2)),l=o(i(3)),d=o(i(1)),u=o(i(36)),h=o(i(25)),p=o(i(17)),f=s(i(128)),A=i(41),m=i(1),g=s(i(159)),y=o(i(10)),_=s(i(135)),b=i(136),v=i(5),C=A.debug("puppeteer:fetcher"),w={chrome:{linux:"%s/chromium-browser-snapshots/Linux_x64/%d/%s.zip",mac:"%s/chromium-browser-snapshots/Mac/%d/%s.zip",win32:"%s/chromium-browser-snapshots/Win/%d/%s.zip",win64:"%s/chromium-browser-snapshots/Win_x64/%d/%s.zip"},firefox:{linux:"%s/firefox-%s.en-US.%s-x86_64.tar.bz2",mac:"%s/firefox-%s.en-US.%s.dmg",win32:"%s/firefox-%s.en-US.%s.zip",win64:"%s/firefox-%s.en-US.%s.zip"}},x={chrome:{host:"https://storage.googleapis.com",destination:".local-chromium"},firefox:{host:"https://archive.mozilla.org/pub/firefox/nightly/latest-mozilla-central",destination:".local-firefox"}};function E(e,t,i){if("chrome"===e){if("linux"===t)return"chrome-linux";if("mac"===t)return"chrome-mac";if("win32"===t||"win64"===t)return parseInt(i,10)>591479?"chrome-win":"chrome-win32"}else if("firefox"===e)return t}function k(e,t,i,n){return d.format(w[e][t],i,n,E(e,t,n))}const S=m.promisify(c.readdir.bind(c)),I=m.promisify(c.mkdir.bind(c)),M=m.promisify(c.unlink.bind(c)),O=m.promisify(c.chmod.bind(c));function T(e){return new Promise(t=>{c.access(e,e=>t(!e))})}function P(e,t,i){let n={...y.parse(e),method:t};const r=b.getProxyForUrl(e);if(r)if(e.startsWith("http:")){const e=y.parse(r);n={path:n.href,host:e.hostname,port:e.port}}else{const e=y.parse(r),t={...e,secureProxy:"https:"===e.protocol};n.agent=_.default(t),n.rejectUnauthorized=!1}const o=e=>{e.statusCode>=300&&e.statusCode<400&&e.headers.location?P(e.headers.location,t,i):i(e)},s="https:"===n.protocol?h.request(n,o):p.request(n,o);return s.end(),s}t.BrowserFetcher=class{constructor(e,t={}){this._product=(t.product||"chrome").toLowerCase(),v.assert("chrome"===this._product||"firefox"===this._product,`Unknown product: "${t.product}"`),this._downloadsFolder=t.path||l.join(e,x[this._product].destination),this._downloadHost=t.host||x[this._product].host,this.setPlatform(t.platform),v.assert(w[this._product][this._platform],"Unsupported platform: "+this._platform)}setPlatform(e){if(e)return void(this._platform=e);const t=a.platform();"darwin"===t?this._platform="mac":"linux"===t?this._platform="linux":"win32"===t?this._platform="x64"===a.arch()?"win64":"win32":v.assert(this._platform,"Unsupported platform: "+a.platform())}platform(){return this._platform}product(){return this._product}host(){return this._downloadHost}canDownload(e){const t=k(this._product,this._platform,this._downloadHost,e);return new Promise(e=>{P(t,"HEAD",t=>{e(200===t.statusCode)}).on("error",t=>{console.error(t),e(!1)})})}async download(e,t=(()=>{})){const n=k(this._product,this._platform,this._downloadHost,e),r=n.split("/").pop(),o=l.join(this._downloadsFolder,r),s=this._getFolderPath(e);if(await T(s))return this.revisionInfo(e);if(await T(this._downloadsFolder)||await I(this._downloadsFolder),"arm64"===a.arch())return void c.stat("/usr/bin/chromium-browser",(function(e,t){void 0===t&&c.stat("/usr/bin/chromium",(function(e,t){if(void 0===t)throw console.error("The chromium binary is not available for arm64."),console.error("If you are on Ubuntu, you can install with: "),console.error("\n sudo apt install chromium\n"),console.error("\n sudo apt install chromium-browser\n"),new Error}))}));try{await function(e,t,i){let n,r;C("Downloading binary from "+e);let o=0,s=0;const a=new Promise((e,t)=>{n=e,r=t});return P(e,"GET",o=>{if(o.statusCode!==200){const t=new Error(`Download failed: server returned code ${o.statusCode}. URL: ${e}`);o.resume();r(t);return}const a=c.createWriteStream(t);a.on("finish",()=>n());a.on("error",e=>r(e));o.pipe(a);s=parseInt(o.headers["content-length"],10);if(i)o.on("data",l)}).on("error",e=>r(e)),a;function l(e){o+=e.length,i(o,s)}}(n,o,t),await function(e,t){if(C(`Installing ${e} to ${t}`),e.endsWith(".zip"))return f.default(e,{dir:t});if(e.endsWith(".tar.bz2"))return function(e,t){const n=i(137),r=i(152);return new Promise((i,o)=>{const s=n.extract(t);s.on("error",o),s.on("finish",i);c.createReadStream(e).pipe(r()).pipe(s)})}(e,t);if(e.endsWith(".dmg"))return I(t).then(()=>function(e,t){let i;return new Promise((function(n,r){const o=`hdiutil attach -nobrowse -noautoopen "${e}"`;u.exec(o,(e,o)=>{if(e)return r(e);const s=o.match(/\/Volumes\/(.*)/m);if(!s)return r(new Error("Could not find volume path in "+o));i=s[0],S(i).then(e=>{const o=e.filter(e=>"string"==typeof e&&e.endsWith(".app"))[0];if(!o)return r(new Error("Cannot find app in "+i));const s=l.join(i,o);C(`Copying ${s} to ${t}`),u.exec(`cp -R "${s}" "${t}"`,e=>{e?r(e):n()})}).catch(r)})})).catch(e=>{console.error(e)}).finally((function(){if(!i)return;const e=`hdiutil detach "${i}" -quiet`;C("Unmounting "+i),u.exec(e,e=>{e&&console.error("Error unmounting dmg: "+e)})}))}(e,t));throw new Error("Unsupported archive format: "+e)}(o,s)}finally{await T(o)&&await M(o)}const d=this.revisionInfo(e);return d&&await O(d.executablePath,493),d}async localRevisions(){if(!await T(this._downloadsFolder))return[];return(await S(this._downloadsFolder)).map(e=>function(e,t){const i=l.basename(t).split("-");if(2!==i.length)return null;const[n,r]=i;return w[e][n]?{product:e,platform:n,revision:r}:null}(this._product,e)).filter(e=>e&&e.platform===this._platform).map(e=>e.revision)}async remove(e){const t=this._getFolderPath(e);v.assert(await T(t),`Failed to remove: revision ${e} is not downloaded`),await new Promise(e=>g.default(t,e))}revisionInfo(e){const t=this._getFolderPath(e);let i="";if("chrome"===this._product)if("mac"===this._platform)i=l.join(t,E(this._product,this._platform,e),"Chromium.app","Contents","MacOS","Chromium");else if("linux"===this._platform)i=l.join(t,E(this._product,this._platform,e),"chrome");else{if("win32"!==this._platform&&"win64"!==this._platform)throw new Error("Unsupported platform: "+this._platform);i=l.join(t,E(this._product,this._platform,e),"chrome.exe")}else{if("firefox"!==this._product)throw new Error("Unsupported product: "+this._product);if("mac"===this._platform)i=l.join(t,"Firefox Nightly.app","Contents","MacOS","firefox");else if("linux"===this._platform)i=l.join(t,"firefox","firefox");else{if("win32"!==this._platform&&"win64"!==this._platform)throw new Error("Unsupported platform: "+this._platform);i=l.join(t,"firefox","firefox.exe")}}const n=k(this._product,this._platform,this._downloadHost,e),r=c.existsSync(t);return C({revision:e,executablePath:i,folderPath:t,local:r,url:n,product:this._product}),{revision:e,executablePath:i,folderPath:t,local:r,url:n,product:this._product}}_getFolderPath(e){return l.join(this._downloadsFolder,this._platform+"-"+e)}}},function(e,t,i){const n=i(43),r=i(3),o=i(2);let s=void 0;try{s=i(70)}catch(e){}const a={nosort:!0,silent:!0};let c=0;const l="win32"===process.platform,d=e=>{if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(t=>{e[t]=e[t]||o[t],e[t+="Sync"]=e[t]||o[t]}),e.maxBusyTries=e.maxBusyTries||3,e.emfileWait=e.emfileWait||1e3,!1===e.glob&&(e.disableGlob=!0),!0!==e.disableGlob&&void 0===s)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");e.disableGlob=e.disableGlob||!1,e.glob=e.glob||a},u=(e,t,i)=>{"function"==typeof t&&(i=t,t={}),n(e,"rimraf: missing path"),n.equal(typeof e,"string","rimraf: path should be a string"),n.equal(typeof i,"function","rimraf: callback function required"),n(t,"rimraf: invalid options argument provided"),n.equal(typeof t,"object","rimraf: options should be object"),d(t);let r=0,o=null,a=0;const l=(e,n)=>e?i(e):(a=n.length,0===a?i():void n.forEach(e=>{const n=s=>{if(s){if(("EBUSY"===s.code||"ENOTEMPTY"===s.code||"EPERM"===s.code)&&r<t.maxBusyTries)return r++,setTimeout(()=>h(e,t,n),100*r);if("EMFILE"===s.code&&c<t.emfileWait)return setTimeout(()=>h(e,t,n),c++);"ENOENT"===s.code&&(s=null)}c=0,(e=>{o=o||e,0==--a&&i(o)})(s)};h(e,t,n)}));if(t.disableGlob||!s.hasMagic(e))return l(null,[e]);t.lstat(e,(i,n)=>{if(!i)return l(null,[e]);s(e,t.glob,l)})},h=(e,t,i)=>{n(e),n(t),n("function"==typeof i),t.lstat(e,(n,r)=>n&&"ENOENT"===n.code?i(null):(n&&"EPERM"===n.code&&l&&p(e,t,n,i),r&&r.isDirectory()?A(e,t,n,i):void t.unlink(e,n=>{if(n){if("ENOENT"===n.code)return i(null);if("EPERM"===n.code)return l?p(e,t,n,i):A(e,t,n,i);if("EISDIR"===n.code)return A(e,t,n,i)}return i(n)})))},p=(e,t,i,r)=>{n(e),n(t),n("function"==typeof r),t.chmod(e,438,n=>{n?r("ENOENT"===n.code?null:i):t.stat(e,(n,o)=>{n?r("ENOENT"===n.code?null:i):o.isDirectory()?A(e,t,i,r):t.unlink(e,r)})})},f=(e,t,i)=>{n(e),n(t);try{t.chmodSync(e,438)}catch(e){if("ENOENT"===e.code)return;throw i}let r;try{r=t.statSync(e)}catch(e){if("ENOENT"===e.code)return;throw i}r.isDirectory()?y(e,t,i):t.unlinkSync(e)},A=(e,t,i,r)=>{n(e),n(t),n("function"==typeof r),t.rmdir(e,n=>{!n||"ENOTEMPTY"!==n.code&&"EEXIST"!==n.code&&"EPERM"!==n.code?n&&"ENOTDIR"===n.code?r(i):r(n):m(e,t,r)})},m=(e,t,i)=>{n(e),n(t),n("function"==typeof i),t.readdir(e,(n,o)=>{if(n)return i(n);let s,a=o.length;if(0===a)return t.rmdir(e,i);o.forEach(n=>{u(r.join(e,n),t,n=>{if(!s)return n?i(s=n):void(0==--a&&t.rmdir(e,i))})})})},g=(e,t)=>{let i;if(d(t=t||{}),n(e,"rimraf: missing path"),n.equal(typeof e,"string","rimraf: path should be a string"),n(t,"rimraf: missing options"),n.equal(typeof t,"object","rimraf: options should be object"),t.disableGlob||!s.hasMagic(e))i=[e];else try{t.lstatSync(e),i=[e]}catch(n){i=s.sync(e,t.glob)}if(i.length)for(let e=0;e<i.length;e++){const n=i[e];let r;try{r=t.lstatSync(n)}catch(e){if("ENOENT"===e.code)return;"EPERM"===e.code&&l&&f(n,t,e)}try{r&&r.isDirectory()?y(n,t,null):t.unlinkSync(n)}catch(e){if("ENOENT"===e.code)return;if("EPERM"===e.code)return l?f(n,t,e):y(n,t,e);if("EISDIR"!==e.code)throw e;y(n,t,e)}}},y=(e,t,i)=>{n(e),n(t);try{t.rmdirSync(e)}catch(n){if("ENOENT"===n.code)return;if("ENOTDIR"===n.code)throw i;"ENOTEMPTY"!==n.code&&"EEXIST"!==n.code&&"EPERM"!==n.code||_(e,t)}},_=(e,t)=>{n(e),n(t),t.readdirSync(e).forEach(i=>g(r.join(e,i),t));const i=l?100:1;let o=0;for(;;){let n=!0;try{const r=t.rmdirSync(e,t);return n=!1,r}finally{if(++o<i&&n)continue}}};e.exports=u,u.sync=g},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PUPPETEER_REVISIONS=void 0,t.PUPPETEER_REVISIONS={chromium:"856583",firefox:"latest"}},function(e,t,i){i(162);const n=i(183),r=i(156);t.handler=async(e,t,i)=>{let o=null,s=null;console.log("spawning chrome headless");try{const e=await n.executablePath;s=await r.launch({args:n.args,executablePath:e,headless:n.headless});const t=await s.newPage(),i="https://davidwells.io";await t.goto(i,{waitUntil:["domcontentloaded","networkidle0"]}),await t.waitForSelector("#phenomic"),o=await t.title(),console.log("done on page",o)}catch(e){return console.log("error",e),i(null,{statusCode:500,body:JSON.stringify({error:e})})}finally{null!==s&&await s.close()}return i(null,{statusCode:200,body:JSON.stringify({title:o})})}},function(e,t,i){"use strict";const n=i(163),r=i(11),o=i(174),s=i(178),a=i(179),c=i(180),l=i(181),d=i(182),u=i(44),h=i(14),p=(process.env.ETHEREAL_API||"https://api.nodemailer.com").replace(/\/+$/,""),f=(process.env.ETHEREAL_WEB||"https://ethereal.email").replace(/\/+$/,""),A=["true","yes","y","1"].includes((process.env.ETHEREAL_CACHE||"yes").toString().trim().toLowerCase());let m=!1;e.exports.createTransport=function(e,t){let i,u,h;return("object"==typeof e&&"function"!=typeof e.send||"string"==typeof e&&/^(smtps?|direct):/i.test(e))&&(u=(i="string"==typeof e?e:e.url)?r.parseConnectionUrl(i):e,e=u.pool?new o(u):u.sendmail?new a(u):u.streamTransport?new c(u):u.jsonTransport?new l(u):u.SES?new d(u):new s(u)),h=new n(e,u,t),h},e.exports.createTestAccount=function(e,t){let i;if(t||"function"!=typeof e||(t=e,e=!1),t||(i=new Promise((e,i)=>{t=r.callbackPromise(e,i)})),A&&m)return setImmediate(()=>t(null,m)),i;let n=[],o=0,s=u((e=e||p)+"/user",{contentType:"application/json",method:"POST",body:Buffer.from(JSON.stringify({requestor:h.name,version:h.version}))});return s.on("readable",()=>{let e;for(;null!==(e=s.read());)n.push(e),o+=e.length}),s.once("error",e=>t(e)),s.once("end",()=>{let e,i,r=Buffer.concat(n,o);try{e=JSON.parse(r.toString())}catch(e){i=e}return i?t(i):"success"!==e.status||e.error?t(new Error(e.error||"Request failed")):(delete e.status,m=e,void t(null,m))}),i},e.exports.getTestMessageUrl=function(e){if(!e||!e.response)return!1;let t=new Map;return e.response.replace(/\[([^\]]+)\]$/,(e,i)=>{i.replace(/\b([A-Z0-9]+)=([^\s]+)/g,(e,i,n)=>{t.set(i,n)})}),!(!t.has("STATUS")||!t.has("MSGID"))&&(m.web||f)+"/message/"+t.get("MSGID")}},function(e,t,i){"use strict";const n=i(7),r=i(11),o=i(76),s=i(165),a=i(168),c=i(172),l=i(1),d=i(10),u=i(14),h=i(173),p=i(26),f=i(75),A=i(15);e.exports=class extends n{constructor(e,t,i){super(),this.options=t||{},this._defaults=i||{},this._defaultPlugins={compile:[(...e)=>this._convertDataImages(...e)],stream:[]},this._userPlugins={compile:[],stream:[]},this.meta=new Map,this.dkim=!!this.options.dkim&&new a(this.options.dkim),this.transporter=e,this.transporter.mailer=this,this.logger=r.getLogger(this.options,{component:this.options.component||"mail"}),this.logger.debug({tnx:"create"},"Creating transport: %s",this.getVersionString()),"function"==typeof this.transporter.on&&(this.transporter.on("log",e=>{this.logger.debug({tnx:"transport"},"%s: %s",e.type,e.message)}),this.transporter.on("error",e=>{this.logger.error({err:e,tnx:"transport"},"Transport Error: %s",e.message),this.emit("error",e)}),this.transporter.on("idle",(...e)=>{this.emit("idle",...e)})),["close","isIdle","verify"].forEach(e=>{this[e]=(...t)=>"function"==typeof this.transporter[e]?this.transporter[e](...t):(this.logger.warn({tnx:"transport",methodName:e},"Non existing method %s called for transport",e),!1)}),this.options.proxy&&"string"==typeof this.options.proxy&&this.setupProxy(this.options.proxy)}use(e,t){return e=(e||"").toString(),this._userPlugins.hasOwnProperty(e)?this._userPlugins[e].push(t):this._userPlugins[e]=[t],this}sendMail(e,t){let i;t||(i=new Promise((e,i)=>{t=r.callbackPromise(e,i)})),"function"==typeof this.getSocket&&(this.transporter.getSocket=this.getSocket,this.getSocket=!1);let n=new h(this,e);return this.logger.debug({tnx:"transport",name:this.transporter.name,version:this.transporter.version,action:"send"},"Sending mail using %s/%s",this.transporter.name,this.transporter.version),this._processPlugins("compile",n,e=>{if(e)return this.logger.error({err:e,tnx:"plugin",action:"compile"},"PluginCompile Error: %s",e.message),t(e);n.message=new s(n.data).compile(),n.setMailerHeader(),n.setPriorityHeaders(),n.setListHeaders(),this._processPlugins("stream",n,e=>{if(e)return this.logger.error({err:e,tnx:"plugin",action:"stream"},"PluginStream Error: %s",e.message),t(e);(n.data.dkim||this.dkim)&&n.message.processFunc(e=>{let t=n.data.dkim?new a(n.data.dkim):this.dkim;return this.logger.debug({tnx:"DKIM",messageId:n.message.messageId(),dkimDomains:t.keys.map(e=>e.keySelector+"."+e.domainName).join(", ")},"Signing outgoing message with %s keys",t.keys.length),t.sign(e,n.data._dkim)}),this.transporter.send(n,(...e)=>{e[0]&&this.logger.error({err:e[0],tnx:"transport",action:"send"},"Send Error: %s",e[0].message),t(...e)})})}),i}getVersionString(){return l.format("%s (%s; +%s; %s/%s)",u.name,u.version,u.homepage,this.transporter.name,this.transporter.version)}_processPlugins(e,t,i){if(e=(e||"").toString(),!this._userPlugins.hasOwnProperty(e))return i();let n=this._userPlugins[e]||[],r=this._defaultPlugins[e]||[];if(n.length&&this.logger.debug({tnx:"transaction",pluginCount:n.length,step:e},"Using %s plugins for %s",n.length,e),n.length+r.length===0)return i();let o=0,s="default",a=()=>{let e="default"===s?r:n;if(o>=e.length){if("default"!==s||!n.length)return i();s="user",o=0,e=n}(0,e[o++])(t,e=>{if(e)return i(e);a()})};a()}setupProxy(e){let t=d.parse(e);this.getSocket=(e,i)=>{let n=t.protocol.replace(/:$/,"").toLowerCase();if(this.meta.has("proxy_handler_"+n))return this.meta.get("proxy_handler_"+n)(t,e,i);switch(n){case"http":case"https":return void c(t.href,e.port,e.host,(e,t)=>e?i(e):i(null,{connection:t}));case"socks":case"socks5":case"socks4":case"socks4a":{if(!this.meta.has("proxy_socks_module"))return i(new Error("Socks module not loaded"));let n=n=>{let r=!!this.meta.get("proxy_socks_module").SocksClient,o=r?this.meta.get("proxy_socks_module").SocksClient:this.meta.get("proxy_socks_module"),s=Number(t.protocol.replace(/\D/g,""))||5,a={proxy:{ipaddress:n,port:Number(t.port),type:s},[r?"destination":"target"]:{host:e.host,port:e.port},command:"connect"};if(t.auth){let e=decodeURIComponent(t.auth.split(":").shift()),i=decodeURIComponent(t.auth.split(":").pop());r?(a.proxy.userId=e,a.proxy.password=i):4===s?a.userid=e:a.authentication={username:e,password:i}}o.createConnection(a,(e,t)=>e?i(e):i(null,{connection:t.socket||t}))};return p.isIP(t.hostname)?n(t.hostname):f.resolve(t.hostname,(e,t)=>{if(e)return i(e);n(Array.isArray(t)?t[0]:t)})}}i(new Error("Unknown proxy configuration"))}}_convertDataImages(e,t){if(!this.options.attachDataUrls&&!e.data.attachDataUrls||!e.data.html)return t();e.resolveContent(e.data,"html",(i,n)=>{if(i)return t(i);let r=0;n=(n||"").toString().replace(/(<img\b[^>]* src\s*=[\s"']*)(data:([^;]+);[^"'>\s]+)/gi,(t,i,n,s)=>{let a=A.randomBytes(10).toString("hex")+"@localhost";return e.data.attachments||(e.data.attachments=[]),Array.isArray(e.data.attachments)||(e.data.attachments=[].concat(e.data.attachments||[])),e.data.attachments.push({path:n,cid:a,filename:"image-"+ ++r+"."+o.detectExtension(s)}),i+"cid:"+a}),e.data.html=n,t()})}set(e,t){return this.meta.set(e,t)}get(e){return this.meta.get(e)}}},function(e,t,i){"use strict";const n=i(10);e.exports=class{constructor(e){this.options=e||{},this.cookies=[]}set(e,t){let i,r=n.parse(t||""),o=this.parse(e);return o.domain?(i=o.domain.replace(/^\./,""),(r.hostname.length<i.length||("."+r.hostname).substr(1-i.length)!=="."+i)&&(o.domain=r.hostname)):o.domain=r.hostname,o.path||(o.path=this.getPath(r.pathname)),o.expires||(o.expires=new Date(Date.now()+1e3*(Number(this.options.sessionTimeout||1800)||1800))),this.add(o)}get(e){return this.list(e).map(e=>e.name+"="+e.value).join("; ")}list(e){let t,i,n=[];for(t=this.cookies.length-1;t>=0;t--)i=this.cookies[t],this.isExpired(i)?this.cookies.splice(t,t):this.match(i,e)&&n.unshift(i);return n}parse(e){let t={};return(e||"").toString().split(";").forEach(e=>{let i,n=e.split("="),r=n.shift().trim().toLowerCase(),o=n.join("=").trim();if(r)switch(r){case"expires":o=new Date(o),"Invalid Date"!==o.toString()&&(t.expires=o);break;case"path":t.path=o;break;case"domain":i=o.toLowerCase(),i.length&&"."!==i.charAt(0)&&(i="."+i),t.domain=i;break;case"max-age":t.expires=new Date(Date.now()+1e3*(Number(o)||0));break;case"secure":t.secure=!0;break;case"httponly":t.httponly=!0;break;default:t.name||(t.name=r,t.value=o)}}),t}match(e,t){let i=n.parse(t||"");return(i.hostname===e.domain||"."===e.domain.charAt(0)&&("."+i.hostname).substr(-e.domain.length)===e.domain)&&(this.getPath(i.pathname).substr(0,e.path.length)===e.path&&(!e.secure||"https:"===i.protocol))}add(e){let t,i;if(!e||!e.name)return!1;for(t=0,i=this.cookies.length;t<i;t++)if(this.compare(this.cookies[t],e))return this.isExpired(e)?(this.cookies.splice(t,1),!1):(this.cookies[t]=e,!0);return this.isExpired(e)||this.cookies.push(e),!0}compare(e,t){return e.name===t.name&&e.path===t.path&&e.domain===t.domain&&e.secure===t.secure&&e.httponly==e.httponly}isExpired(e){return e.expires&&e.expires<new Date||!e.value}getPath(e){let t=(e||"/").split("/");return t.pop(),t=t.join("/").trim(),"/"!==t.charAt(0)&&(t="/"+t),"/"!==t.substr(-1)&&(t+="/"),t}}},function(e,t,i){"use strict";const n=i(77),r=i(45);e.exports=class{constructor(e){this.mail=e||{},this.message=!1}compile(){return this._alternatives=this.getAlternatives(),this._htmlNode=this._alternatives.filter(e=>/^text\/html\b/i.test(e.contentType)).pop(),this._attachments=this.getAttachments(!!this._htmlNode),this._useRelated=!(!this._htmlNode||!this._attachments.related.length),this._useAlternative=this._alternatives.length>1,this._useMixed=this._attachments.attached.length>1||this._alternatives.length&&1===this._attachments.attached.length,this.mail.raw?this.message=(new n).setRaw(this.mail.raw):this._useMixed?this.message=this._createMixed():this._useAlternative?this.message=this._createAlternative():this._useRelated?this.message=this._createRelated():this.message=this._createContentNode(!1,[].concat(this._alternatives||[]).concat(this._attachments.attached||[]).shift()||{contentType:"text/plain",content:""}),this.mail.headers&&this.message.addHeader(this.mail.headers),["from","sender","to","cc","bcc","reply-to","in-reply-to","references","subject","message-id","date"].forEach(e=>{let t=e.replace(/-(\w)/g,(e,t)=>t.toUpperCase());this.mail[t]&&this.message.setHeader(e,this.mail[t])}),this.mail.envelope&&this.message.setEnvelope(this.mail.envelope),this.message.messageId(),this.message}getAttachments(e){let t,i,n=[].concat(this.mail.attachments||[]).map((e,t)=>{let i,n=/^message\//i.test(e.contentType);return/^data:/i.test(e.path||e.href)&&(e=this._processDataUrl(e)),i={contentType:e.contentType||r.detectMimeType(e.filename||e.path||e.href||"bin"),contentDisposition:e.contentDisposition||(n?"inline":"attachment"),contentTransferEncoding:"contentTransferEncoding"in e?e.contentTransferEncoding:"base64"},e.filename?i.filename=e.filename:n||!1===e.filename||(i.filename=(e.path||e.href||"").split("/").pop().split("?").shift()||"attachment-"+(t+1),i.filename.indexOf(".")<0&&(i.filename+="."+r.detectExtension(i.contentType))),/^https?:\/\//i.test(e.path)&&(e.href=e.path,e.path=void 0),e.cid&&(i.cid=e.cid),e.raw?i.raw=e.raw:e.path?i.content={path:e.path}:e.href?i.content={href:e.href,httpHeaders:e.httpHeaders}:i.content=e.content||"",e.encoding&&(i.encoding=e.encoding),e.headers&&(i.headers=e.headers),i});return this.mail.icalEvent&&(t="object"==typeof this.mail.icalEvent&&(this.mail.icalEvent.content||this.mail.icalEvent.path||this.mail.icalEvent.href||this.mail.icalEvent.raw)?this.mail.icalEvent:{content:this.mail.icalEvent},i={},Object.keys(t).forEach(e=>{i[e]=t[e]}),i.contentType="application/ics",i.headers||(i.headers={}),i.filename=i.filename||"invite.ics",i.headers["Content-Disposition"]="attachment",i.headers["Content-Transfer-Encoding"]="base64"),e?{attached:n.filter(e=>!e.cid).concat(i||[]),related:n.filter(e=>!!e.cid)}:{attached:n.concat(i||[]),related:[]}}getAlternatives(){let e,t,i,n,o,s,a=[];return this.mail.text&&(e="object"==typeof this.mail.text&&(this.mail.text.content||this.mail.text.path||this.mail.text.href||this.mail.text.raw)?this.mail.text:{content:this.mail.text},e.contentType="text/plain; charset=utf-8"),this.mail.watchHtml&&(i="object"==typeof this.mail.watchHtml&&(this.mail.watchHtml.content||this.mail.watchHtml.path||this.mail.watchHtml.href||this.mail.watchHtml.raw)?this.mail.watchHtml:{content:this.mail.watchHtml},i.contentType="text/watch-html; charset=utf-8"),this.mail.amp&&(n="object"==typeof this.mail.amp&&(this.mail.amp.content||this.mail.amp.path||this.mail.amp.href||this.mail.amp.raw)?this.mail.amp:{content:this.mail.amp},n.contentType="text/x-amp-html; charset=utf-8"),this.mail.icalEvent&&(o="object"==typeof this.mail.icalEvent&&(this.mail.icalEvent.content||this.mail.icalEvent.path||this.mail.icalEvent.href||this.mail.icalEvent.raw)?this.mail.icalEvent:{content:this.mail.icalEvent},s={},Object.keys(o).forEach(e=>{s[e]=o[e]}),s.content&&"object"==typeof s.content&&(s.content._resolve=!0),s.filename=!1,s.contentType="text/calendar; charset=utf-8; method="+(s.method||"PUBLISH").toString().trim().toUpperCase(),s.headers||(s.headers={})),this.mail.html&&(t="object"==typeof this.mail.html&&(this.mail.html.content||this.mail.html.path||this.mail.html.href||this.mail.html.raw)?this.mail.html:{content:this.mail.html},t.contentType="text/html; charset=utf-8"),[].concat(e||[]).concat(i||[]).concat(n||[]).concat(t||[]).concat(s||[]).concat(this.mail.alternatives||[]).forEach(e=>{let t;/^data:/i.test(e.path||e.href)&&(e=this._processDataUrl(e)),t={contentType:e.contentType||r.detectMimeType(e.filename||e.path||e.href||"txt"),contentTransferEncoding:e.contentTransferEncoding},e.filename&&(t.filename=e.filename),/^https?:\/\//i.test(e.path)&&(e.href=e.path,e.path=void 0),e.raw?t.raw=e.raw:e.path?t.content={path:e.path}:e.href?t.content={href:e.href}:t.content=e.content||"",e.encoding&&(t.encoding=e.encoding),e.headers&&(t.headers=e.headers),a.push(t)}),a}_createMixed(e){let t;return t=e?e.createChild("multipart/mixed",{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey}):new n("multipart/mixed",{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey}),this._useAlternative?this._createAlternative(t):this._useRelated&&this._createRelated(t),[].concat(!this._useAlternative&&this._alternatives||[]).concat(this._attachments.attached||[]).forEach(e=>{this._useRelated&&e===this._htmlNode||this._createContentNode(t,e)}),t}_createAlternative(e){let t;return t=e?e.createChild("multipart/alternative",{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey}):new n("multipart/alternative",{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey}),this._alternatives.forEach(e=>{this._useRelated&&this._htmlNode===e?this._createRelated(t):this._createContentNode(t,e)}),t}_createRelated(e){let t;return t=e?e.createChild('multipart/related; type="text/html"',{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey}):new n('multipart/related; type="text/html"',{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey}),this._createContentNode(t,this._htmlNode),this._attachments.related.forEach(e=>this._createContentNode(t,e)),t}_createContentNode(e,t){let i;(t=t||{}).content=t.content||"";let r=(t.encoding||"utf8").toString().toLowerCase().replace(/[-_\s]/g,"");return i=e?e.createChild(t.contentType,{filename:t.filename,textEncoding:this.mail.textEncoding,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey}):new n(t.contentType,{filename:t.filename,baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey}),t.headers&&i.addHeader(t.headers),t.cid&&i.setHeader("Content-Id","<"+t.cid.replace(/[<>]/g,"")+">"),t.contentTransferEncoding?i.setHeader("Content-Transfer-Encoding",t.contentTransferEncoding):this.mail.encoding&&/^text\//i.test(t.contentType)&&i.setHeader("Content-Transfer-Encoding",this.mail.encoding),/^text\//i.test(t.contentType)&&!t.contentDisposition||i.setHeader("Content-Disposition",t.contentDisposition||(t.cid?"inline":"attachment")),"string"!=typeof t.content||["utf8","usascii","ascii"].includes(r)||(t.content=Buffer.from(t.content,r)),t.raw?i.setRaw(t.raw):i.setContent(t.content),i}_processDataUrl(e){let t=(e.path||e.href).match(/^data:((?:[^;]*;)*(?:[^,]*)),(.*)$/i);return t?(e.content=/\bbase64$/i.test(t[1])?Buffer.from(t[2],"base64"):Buffer.from(decodeURIComponent(t[2])),"path"in e&&(e.path=!1),"href"in e&&(e.href=!1),t[1].split(";").forEach(t=>{/^\w+\/[^/]+$/i.test(t)&&(e.contentType=e.contentType||t.toLowerCase())}),e):e}}},function(e,t,i){"use strict";class n{constructor(e){this.str=(e||"").toString(),this.operatorCurrent="",this.operatorExpecting="",this.node=null,this.escaped=!1,this.list=[],this.operators={'"':'"',"(":")","<":">",",":"",":":";",";":""}}tokenize(){let e,t=[];for(let t=0,i=this.str.length;t<i;t++)e=this.str.charAt(t),this.checkChar(e);return this.list.forEach(e=>{e.value=(e.value||"").toString().trim(),e.value&&t.push(e)}),t}checkChar(e){if(this.escaped);else{if(e===this.operatorExpecting)return this.node={type:"operator",value:e},this.list.push(this.node),this.node=null,this.operatorExpecting="",void(this.escaped=!1);if(!this.operatorExpecting&&e in this.operators)return this.node={type:"operator",value:e},this.list.push(this.node),this.node=null,this.operatorExpecting=this.operators[e],void(this.escaped=!1);if(['"',"'"].includes(this.operatorExpecting)&&"\\"===e)return void(this.escaped=!0)}this.node||(this.node={type:"text",value:""},this.list.push(this.node)),"\n"===e&&(e=" "),(e.charCodeAt(0)>=33||[" ","\t"].includes(e))&&(this.node.value+=e),this.escaped=!1}}function r(e,t){t=t||{};let i=new n(e).tokenize(),o=[],s=[],a=[];if(i.forEach(e=>{"operator"!==e.type||","!==e.value&&";"!==e.value?s.push(e):(s.length&&o.push(s),s=[])}),s.length&&o.push(s),o.forEach(e=>{(e=function(e){let t,i,n,o,s=!1,a="text",c=[],l={address:[],comment:[],group:[],text:[]};for(n=0,o=e.length;n<o;n++)if(t=e[n],"operator"===t.type)switch(t.value){case"<":a="address";break;case"(":a="comment";break;case":":a="group",s=!0;break;default:a="text"}else t.value&&("address"===a&&(t.value=t.value.replace(/^[^<]*<\s*/,"")),l[a].push(t.value));if(!l.text.length&&l.comment.length&&(l.text=l.comment,l.comment=[]),s)l.text=l.text.join(" "),c.push({name:l.text||i&&i.name,group:l.group.length?r(l.group.join(",")):[]});else{if(!l.address.length&&l.text.length){for(n=l.text.length-1;n>=0;n--)if(l.text[n].match(/^[^@\s]+@[^@\s]+$/)){l.address=l.text.splice(n,1);break}let e=function(e){return l.address.length?e:(l.address=[e.trim()]," ")};if(!l.address.length)for(n=l.text.length-1;n>=0&&(l.text[n]=l.text[n].replace(/\s*\b[^@\s]+@[^\s]+\b\s*/,e).trim(),!l.address.length);n--);}if(!l.text.length&&l.comment.length&&(l.text=l.comment,l.comment=[]),l.address.length>1&&(l.text=l.text.concat(l.address.splice(1))),l.text=l.text.join(" "),l.address=l.address.join(" "),!l.address&&s)return[];i={address:l.address||l.text||"",name:l.text||l.address||""},i.address===i.name&&((i.address||"").match(/@/)?i.name="":i.address=""),c.push(i)}return c}(e)).length&&(a=a.concat(e))}),t.flatten){let e=[],t=i=>{i.forEach(i=>{if(i.group)return t(i.group);e.push(i)})};return t(a),e}return a}e.exports=r},function(e,t,i){"use strict";const n=i(0).Transform;e.exports=class extends n{constructor(){super(),this.lastByte=!1}_transform(e,t,i){e.length&&(this.lastByte=e[e.length-1]),this.push(e),i()}_flush(e){return 10===this.lastByte?e():13===this.lastByte?(this.push(Buffer.from("\n")),e()):(this.push(Buffer.from("\r\n")),e())}}},function(e,t,i){"use strict";const n=i(169),r=i(170),o=i(171),s=i(0).PassThrough,a=i(2),c=i(3),l=i(15);class d{constructor(e,t,i,n){this.options=e||{},this.keys=t,this.cacheTreshold=Number(this.options.cacheTreshold)||131072,this.hashAlgo=this.options.hashAlgo||"sha256",this.cacheDir=this.options.cacheDir||!1,this.chunks=[],this.chunklen=0,this.readPos=0,this.cachePath=!!this.cacheDir&&c.join(this.cacheDir,"message."+Date.now()+"-"+l.randomBytes(14).toString("hex")),this.cache=!1,this.headers=!1,this.bodyHash=!1,this.parser=!1,this.relaxedBody=!1,this.input=i,this.output=n,this.output.usingCache=!1,this.errored=!1,this.input.on("error",e=>{this.errored=!0,this.cleanup(),n.emit("error",e)})}cleanup(){this.cache&&this.cachePath&&a.unlink(this.cachePath,()=>!1)}createReadCache(){this.cache=a.createReadStream(this.cachePath),this.cache.once("error",e=>{this.cleanup(),this.output.emit("error",e)}),this.cache.once("close",()=>{this.cleanup()}),this.cache.pipe(this.output)}sendNextChunk(){if(this.errored)return;if(this.readPos>=this.chunks.length)return this.cache?this.createReadCache():this.output.end();let e=this.chunks[this.readPos++];if(!1===this.output.write(e))return this.output.once("drain",()=>{this.sendNextChunk()});setImmediate(()=>this.sendNextChunk())}sendSignedOutput(){let e=0,t=()=>{if(e>=this.keys.length)return this.output.write(this.parser.rawHeaders),setImmediate(()=>this.sendNextChunk());let i=this.keys[e++],n=o(this.headers,this.hashAlgo,this.bodyHash,{domainName:i.domainName,keySelector:i.keySelector,privateKey:i.privateKey,headerFieldNames:this.options.headerFieldNames,skipFields:this.options.skipFields});return n&&this.output.write(Buffer.from(n+"\r\n")),setImmediate(t)};if(this.bodyHash&&this.headers)return t();this.output.write(this.parser.rawHeaders),this.sendNextChunk()}createWriteCache(){this.output.usingCache=!0,this.cache=a.createWriteStream(this.cachePath),this.cache.once("error",e=>{this.cleanup(),this.relaxedBody.unpipe(this.cache),this.relaxedBody.on("readable",()=>{for(;null!==this.relaxedBody.read(););}),this.errored=!0,this.output.emit("error",e)}),this.cache.once("close",()=>{this.sendSignedOutput()}),this.relaxedBody.removeAllListeners("readable"),this.relaxedBody.pipe(this.cache)}signStream(){this.parser=new n,this.relaxedBody=new r({hashAlgo:this.hashAlgo}),this.parser.on("headers",e=>{this.headers=e}),this.relaxedBody.on("hash",e=>{this.bodyHash=e}),this.relaxedBody.on("readable",()=>{let e;if(!this.cache)for(;null!==(e=this.relaxedBody.read());)if(this.chunks.push(e),this.chunklen+=e.length,this.chunklen>=this.cacheTreshold&&this.cachePath)return this.createWriteCache()}),this.relaxedBody.on("end",()=>{this.cache||this.sendSignedOutput()}),this.parser.pipe(this.relaxedBody),setImmediate(()=>this.input.pipe(this.parser))}}e.exports=class{constructor(e){this.options=e||{},this.keys=[].concat(this.options.keys||{domainName:e.domainName,keySelector:e.keySelector,privateKey:e.privateKey})}sign(e,t){let i=new s,n=e,r=!1;Buffer.isBuffer(e)?(r=e,n=new s):"string"==typeof e&&(r=Buffer.from(e),n=new s);let o=this.options;t&&Object.keys(t).length&&(o={},Object.keys(this.options||{}).forEach(e=>{o[e]=this.options[e]}),Object.keys(t||{}).forEach(e=>{e in o||(o[e]=t[e])}));let a=new d(o,this.keys,n,i);return setImmediate(()=>{a.signStream(),r&&setImmediate(()=>{n.end(r)})}),i}}},function(e,t,i){"use strict";const n=i(0).Transform;e.exports=class extends n{constructor(e){super(e),this.lastBytes=Buffer.alloc(4),this.headersParsed=!1,this.headerBytes=0,this.headerChunks=[],this.rawHeaders=!1,this.bodySize=0}updateLastBytes(e){let t=this.lastBytes.length,i=Math.min(e.length,t);for(let e=0,n=t-i;e<n;e++)this.lastBytes[e]=this.lastBytes[e+i];for(let n=1;n<=i;n++)this.lastBytes[t-n]=e[e.length-n]}checkHeaders(e){if(this.headersParsed)return!0;let t=this.lastBytes.length,i=0;this.curLinePos=0;for(let n=0,r=this.lastBytes.length+e.length;n<r;n++){let r;if(r=n<t?this.lastBytes[n]:e[n-t],10===r&&n){let r=n-1<t?this.lastBytes[n-1]:e[n-1-t],o=n>1&&(n-2<t?this.lastBytes[n-2]:e[n-2-t]);if(10===r){this.headersParsed=!0,i=n-t+1,this.headerBytes+=i;break}if(13===r&&10===o){this.headersParsed=!0,i=n-t+1,this.headerBytes+=i;break}}}if(this.headersParsed){if(this.headerChunks.push(e.slice(0,i)),this.rawHeaders=Buffer.concat(this.headerChunks,this.headerBytes),this.headerChunks=null,this.emit("headers",this.parseHeaders()),e.length-1>i){let t=e.slice(i);this.bodySize+=t.length,setImmediate(()=>this.push(t))}return!1}return this.headerBytes+=e.length,this.headerChunks.push(e),this.updateLastBytes(e),!1}_transform(e,t,i){if(!e||!e.length)return i();let n;"string"==typeof e&&(e=Buffer.from(e,t));try{n=this.checkHeaders(e)}catch(e){return i(e)}n&&(this.bodySize+=e.length,this.push(e)),setImmediate(i)}_flush(e){if(this.headerChunks){let e=Buffer.concat(this.headerChunks,this.headerBytes);this.bodySize+=e.length,this.push(e),this.headerChunks=null}e()}parseHeaders(){let e=(this.rawHeaders||"").toString().split(/\r?\n/);for(let t=e.length-1;t>0;t--)/^\s/.test(e[t])&&(e[t-1]+="\n"+e[t],e.splice(t,1));return e.filter(e=>e.trim()).map(e=>({key:e.substr(0,e.indexOf(":")).trim().toLowerCase(),line:e}))}}},function(e,t,i){"use strict";const n=i(0).Transform,r=i(15);e.exports=class extends n{constructor(e){super(),e=e||{},this.chunkBuffer=[],this.chunkBufferLen=0,this.bodyHash=r.createHash(e.hashAlgo||"sha1"),this.remainder="",this.byteLength=0,this.debug=e.debug,this._debugBody=!!e.debug&&[]}updateHash(e){let t,i="",n="file";for(let t=e.length-1;t>=0;t--){let r=e[t];if("file"!==n||10!==r&&13!==r)if("file"!==n||9!==r&&32!==r)if("line"!==n||9!==r&&32!==r){if(("file"===n||"line"===n)&&(n="body",t===e.length-1))break}else;else n="line";else;if(0===t){if("file"===n&&(!this.remainder||/[\r\n]$/.test(this.remainder))||"line"===n&&(!this.remainder||/[ \t]$/.test(this.remainder)))return void(this.remainder+=e.toString("binary"));if("line"===n||"file"===n){i=e.toString("binary"),e=!1;break}}if("body"===n){i=e.slice(t+1).toString("binary"),e=e.slice(0,t+1);break}}let r=!!this.remainder;if(e&&!r)for(let t=0,i=e.length;t<i;t++){if(t&&10===e[t]&&13!==e[t-1]){r=!0;break}if(t&&13===e[t]&&32===e[t-1]){r=!0;break}if(t&&32===e[t]&&32===e[t-1]){r=!0;break}if(9===e[t]){r=!0;break}}r?(t=this.remainder+(e?e.toString("binary"):""),this.remainder=i,t=t.replace(/\r?\n/g,"\n").replace(/[ \t]*$/gm,"").replace(/[ \t]+/gm," ").replace(/\n/g,"\r\n"),e=Buffer.from(t,"binary")):i&&(this.remainder=i),this.debug&&this._debugBody.push(e),this.bodyHash.update(e)}_transform(e,t,i){if(!e||!e.length)return i();"string"==typeof e&&(e=Buffer.from(e,t)),this.updateHash(e),this.byteLength+=e.length,this.push(e),i()}_flush(e){/[\r\n]$/.test(this.remainder)&&this.byteLength>2&&this.bodyHash.update(Buffer.from("\r\n")),this.byteLength||this.push(Buffer.from("\r\n")),this.emit("hash",this.bodyHash.digest("base64"),!!this.debug&&Buffer.concat(this._debugBody)),e()}}},function(e,t,i){"use strict";const n=i(78),r=i(45),o=i(15);function s(e,t,i){let n=new Set,r=new Set,o=new Map;(i||"").toLowerCase().split(":").forEach(e=>{r.add(e.trim())}),(t||"").toLowerCase().split(":").filter(e=>!r.has(e.trim())).forEach(e=>{n.add(e.trim())});for(let t=e.length-1;t>=0;t--){let i=e[t];n.has(i.key)&&!o.has(i.key)&&o.set(i.key,a(i.line))}let s=[],c=[];return n.forEach(e=>{o.has(e)&&(c.push(e),s.push(e+":"+o.get(e)))}),{headers:s.join("\r\n")+"\r\n",fieldNames:c.join(":")}}function a(e){return e.substr(e.indexOf(":")+1).replace(/\r?\n/g,"").replace(/\s+/g," ").trim()}e.exports=(e,t,i,c)=>{let l,d,u=s(e,(c=c||{}).headerFieldNames||"From:Sender:Reply-To:Subject:Date:Message-ID:To:Cc:MIME-Version:Content-Type:Content-Transfer-Encoding:Content-ID:Content-Description:Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:In-Reply-To:References:List-Id:List-Help:List-Unsubscribe:List-Subscribe:List-Post:List-Owner:List-Archive",c.skipFields),h=function(e,t,i,o,s){let a=["v=1","a=rsa-"+o,"c=relaxed/relaxed","d="+n.toASCII(e),"q=dns/txt","s="+t,"bh="+s,"h="+i].join("; ");return r.foldLines("DKIM-Signature: "+a,76)+";\r\n b="}(c.domainName,c.keySelector,u.fieldNames,t,i);u.headers+="dkim-signature:"+a(h),l=o.createSign(("rsa-"+t).toUpperCase()),l.update(u.headers);try{d=l.sign(c.privateKey,"base64")}catch(e){return!1}return h+d.replace(/(^.{73}|.{75}(?!\r?\n|\r))/g,"$&\r\n ").trim()},e.exports.relaxedHeaders=s},function(e,t,i){"use strict";const n=i(26),r=i(46),o=i(10);e.exports=function(e,t,i,s){let a,c,l,d=o.parse(e);a={host:d.hostname,port:Number(d.port)?Number(d.port):"https:"===d.protocol?443:80},"https:"===d.protocol?(a.rejectUnauthorized=!1,c=r.connect.bind(r)):c=n.connect.bind(n);let u=!1,h=function(e){if(!u){u=!0;try{l.destroy()}catch(e){}s(e)}};l=c(a,()=>{if(u)return;let e={Host:i+":"+t,Connection:"close"};d.auth&&(e["Proxy-Authorization"]="Basic "+Buffer.from(d.auth).toString("base64")),l.write("CONNECT "+i+":"+t+" HTTP/1.1\r\n"+Object.keys(e).map(t=>t+": "+e[t]).join("\r\n")+"\r\n\r\n");let n="",r=e=>{let t,i;if(!u&&(n+=e.toString("binary"),t=n.match(/\r\n\r\n/))){if(l.removeListener("data",r),i=n.substr(t.index+t[0].length),n=n.substr(0,t.index),i&&l.unshift(Buffer.from(i,"binary")),u=!0,t=n.match(/^HTTP\/\d+\.\d+ (\d+)/i),!t||"2"!==(t[1]||"").charAt(0)){try{l.destroy()}catch(e){}return s(new Error("Invalid response from proxy"+(t&&": "+t[1]||"")))}return l.removeListener("error",h),s(null,l)}};l.on("data",r)}),l.once("error",h)}},function(e,t,i){"use strict";const n=i(11),r=i(77),o=i(45);e.exports=class{constructor(e,t){this.mailer=e,this.data={},this.message=null,t=t||{};let i=e.options||{},n=e._defaults||{};Object.keys(t).forEach(e=>{this.data[e]=t[e]}),this.data.headers=this.data.headers||{},Object.keys(n).forEach(e=>{e in this.data?"headers"===e&&Object.keys(n.headers).forEach(e=>{e in this.data.headers||(this.data.headers[e]=n.headers[e])}):this.data[e]=n[e]}),["disableFileAccess","disableUrlAccess","normalizeHeaderKey"].forEach(e=>{e in i&&(this.data[e]=i[e])})}resolveContent(...e){return n.resolveContent(...e)}resolveAll(e){let t=[[this.data,"html"],[this.data,"text"],[this.data,"watchHtml"],[this.data,"amp"],[this.data,"icalEvent"]];this.data.alternatives&&this.data.alternatives.length&&this.data.alternatives.forEach((e,i)=>{t.push([this.data.alternatives,i])}),this.data.attachments&&this.data.attachments.length&&this.data.attachments.forEach((e,i)=>{e.filename||(e.filename=(e.path||e.href||"").split("/").pop().split("?").shift()||"attachment-"+(i+1),e.filename.indexOf(".")<0&&(e.filename+="."+o.detectExtension(e.contentType))),e.contentType||(e.contentType=o.detectMimeType(e.filename||e.path||e.href||"bin")),t.push([this.data.attachments,i])});let i=new r;["from","to","cc","bcc","sender","replyTo"].forEach(e=>{let t;this.message?t=[].concat(i._parseAddresses(this.message.getHeader("replyTo"===e?"reply-to":e))||[]):this.data[e]&&(t=[].concat(i._parseAddresses(this.data[e])||[])),t&&t.length?this.data[e]=t:e in this.data&&(this.data[e]=null)});["from","sender","replyTo"].forEach(e=>{this.data[e]&&(this.data[e]=this.data[e].shift())});let s=0,a=()=>{if(s>=t.length)return e(null,this.data);let i=t[s++];if(!i[0]||!i[0][i[1]])return a();n.resolveContent(...i,(t,n)=>{if(t)return e(t);let r={content:n};i[0][i[1]]&&"object"==typeof i[0][i[1]]&&!Buffer.isBuffer(i[0][i[1]])&&Object.keys(i[0][i[1]]).forEach(e=>{e in r||["content","path","href","raw"].includes(e)||(r[e]=i[0][i[1]][e])}),i[0][i[1]]=r,a()})};setImmediate(()=>a())}normalize(e){let t=this.data.envelope||this.message.getEnvelope(),i=this.message.messageId();this.resolveAll((n,r)=>{if(n)return e(n);if(r.envelope=t,r.messageId=i,["html","text","watchHtml","amp"].forEach(e=>{r[e]&&r[e].content&&("string"==typeof r[e].content?r[e]=r[e].content:Buffer.isBuffer(r[e].content)&&(r[e]=r[e].content.toString()))}),r.icalEvent&&Buffer.isBuffer(r.icalEvent.content)&&(r.icalEvent.content=r.icalEvent.content.toString("base64"),r.icalEvent.encoding="base64"),r.alternatives&&r.alternatives.length&&r.alternatives.forEach(e=>{e&&e.content&&Buffer.isBuffer(e.content)&&(e.content=e.content.toString("base64"),e.encoding="base64")}),r.attachments&&r.attachments.length&&r.attachments.forEach(e=>{e&&e.content&&Buffer.isBuffer(e.content)&&(e.content=e.content.toString("base64"),e.encoding="base64")}),r.normalizedHeaders={},Object.keys(r.headers||{}).forEach(e=>{let t=[].concat(r.headers[e]||[]).shift();t=t&&t.value||t,t&&(["references","in-reply-to","message-id","content-id"].includes(e)&&(t=this.message._encodeHeaderValue(e,t)),r.normalizedHeaders[e]=t)}),r.list&&"object"==typeof r.list){this._getListHeaders(r.list).forEach(e=>{r.normalizedHeaders[e.key]=e.value.map(e=>e&&e.value||e).join(", ")})}return r.references&&(r.normalizedHeaders.references=this.message._encodeHeaderValue("references",r.references)),r.inReplyTo&&(r.normalizedHeaders["in-reply-to"]=this.message._encodeHeaderValue("in-reply-to",r.inReplyTo)),e(null,r)})}setMailerHeader(){this.message&&this.data.xMailer&&this.message.setHeader("X-Mailer",this.data.xMailer)}setPriorityHeaders(){if(this.message&&this.data.priority)switch((this.data.priority||"").toString().toLowerCase()){case"high":this.message.setHeader("X-Priority","1 (Highest)"),this.message.setHeader("X-MSMail-Priority","High"),this.message.setHeader("Importance","High");break;case"low":this.message.setHeader("X-Priority","5 (Lowest)"),this.message.setHeader("X-MSMail-Priority","Low"),this.message.setHeader("Importance","Low")}}setListHeaders(){this.message&&this.data.list&&"object"==typeof this.data.list&&this.data.list&&"object"==typeof this.data.list&&this._getListHeaders(this.data.list).forEach(e=>{e.value.forEach(t=>{this.message.addHeader(e.key,t)})})}_getListHeaders(e){return Object.keys(e).map(t=>({key:"list-"+t.toLowerCase().trim(),value:[].concat(e[t]||[]).map(e=>({prepared:!0,foldLines:!0,value:[].concat(e||[]).map(e=>{if("string"==typeof e&&(e={url:e}),e&&e.url){if("id"===t.toLowerCase().trim()){let t=e.comment||"";return t=o.isPlainText(t)?'"'+t+'"':o.encodeWord(t),(e.comment?t+" ":"")+this._formatListUrl(e.url).replace(/^<[^:]+\/{,2}/,"")}let i=e.comment||"";return o.isPlainText(i)||(i=o.encodeWord(i)),this._formatListUrl(e.url)+(e.comment?" ("+i+")":"")}return""}).filter(e=>e).join(", ")}))}))}_formatListUrl(e){return e=e.replace(/[\s<]+|[\s>]+/g,""),/^(https?|mailto|ftp):/.test(e)?"<"+e+">":/^[^@]+@[^@]+$/.test(e)?"<mailto:"+e+">":"<http://"+e+">"}}},function(e,t,i){"use strict";const n=i(7),r=i(175),o=i(58),s=i(82),a=i(11),c=i(14);e.exports=class extends n{constructor(e){let t;super(),"string"==typeof(e=e||{})&&(e={url:e});let i=e.service;"function"==typeof e.getSocket&&(this.getSocket=e.getSocket),e.url&&(t=a.parseConnectionUrl(e.url),i=i||t.service),this.options=a.assign(!1,e,t,i&&s(i)),this.options.maxConnections=this.options.maxConnections||5,this.options.maxMessages=this.options.maxMessages||100,this.logger=a.getLogger(this.options,{component:this.options.component||"smtp-pool"});let n=new o(this.options);this.name="SMTP (pool)",this.version=c.version+"[client:"+n.version+"]",this._rateLimit={counter:0,timeout:null,waiting:[],checkpoint:!1,delta:Number(this.options.rateDelta)||1e3,limit:Number(this.options.rateLimit)||0},this._closed=!1,this._queue=[],this._connections=[],this._connectionCounter=0,this.idling=!0,setImmediate(()=>{this.idling&&this.emit("idle")})}getSocket(e,t){return setImmediate(()=>t(null,!1))}send(e,t){return!this._closed&&(this._queue.push({mail:e,requeueAttempts:0,callback:t}),this.idling&&this._queue.length>=this.options.maxConnections&&(this.idling=!1),setImmediate(()=>this._processMessages()),!0)}close(){let e,t=this._connections.length;if(this._closed=!0,clearTimeout(this._rateLimit.timeout),!t&&!this._queue.length)return;for(let i=t-1;i>=0;i--)this._connections[i]&&this._connections[i].available&&(e=this._connections[i],e.close(),this.logger.info({tnx:"connection",cid:e.id,action:"removed"},"Connection #%s removed",e.id));if(t&&!this._connections.length&&this.logger.debug({tnx:"connection"},"All connections removed"),!this._queue.length)return;let i=()=>{if(!this._queue.length)return void this.logger.debug({tnx:"connection"},"Pending queue entries cleared");let t=this._queue.shift();if(t&&"function"==typeof t.callback)try{t.callback(new Error("Connection pool was closed"))}catch(t){this.logger.error({err:t,tnx:"callback",cid:e.id},"Callback error for #%s: %s",e.id,t.message)}setImmediate(i)};setImmediate(i)}_processMessages(){let e,t,i;if(this._closed)return;if(!this._queue.length)return void(this.idling||(this.idling=!0,this.emit("idle")));for(t=0,i=this._connections.length;t<i;t++)if(this._connections[t].available){e=this._connections[t];break}if(!e&&this._connections.length<this.options.maxConnections&&(e=this._createConnection()),!e)return void(this.idling=!1);!this.idling&&this._queue.length<this.options.maxConnections&&(this.idling=!0,this.emit("idle"));let n=e.queueEntry=this._queue.shift();n.messageId=(e.queueEntry.mail.message.getHeader("message-id")||"").replace(/[<>\s]/g,""),e.available=!1,this.logger.debug({tnx:"pool",cid:e.id,messageId:n.messageId,action:"assign"},"Assigned message <%s> to #%s (%s)",n.messageId,e.id,e.messages+1),this._rateLimit.limit&&(this._rateLimit.counter++,this._rateLimit.checkpoint||(this._rateLimit.checkpoint=Date.now())),e.send(n.mail,(t,i)=>{if(n===e.queueEntry){try{n.callback(t,i)}catch(t){this.logger.error({err:t,tnx:"callback",cid:e.id},"Callback error for #%s: %s",e.id,t.message)}e.queueEntry=!1}})}_createConnection(){let e=new r(this);return e.id=++this._connectionCounter,this.logger.info({tnx:"pool",cid:e.id,action:"conection"},"Created new pool resource #%s",e.id),e.on("available",()=>{this.logger.debug({tnx:"connection",cid:e.id,action:"available"},"Connection #%s became available",e.id),this._closed?this.close():this._processMessages()}),e.once("error",t=>{if("EMAXLIMIT"!==t.code?this.logger.error({err:t,tnx:"pool",cid:e.id},"Pool Error for #%s: %s",e.id,t.message):this.logger.debug({tnx:"pool",cid:e.id,action:"maxlimit"},"Max messages limit exchausted for #%s",e.id),e.queueEntry){try{e.queueEntry.callback(t)}catch(t){this.logger.error({err:t,tnx:"callback",cid:e.id},"Callback error for #%s: %s",e.id,t.message)}e.queueEntry=!1}this._removeConnection(e),this._continueProcessing()}),e.once("close",()=>{this.logger.info({tnx:"connection",cid:e.id,action:"closed"},"Connection #%s was closed",e.id),this._removeConnection(e),e.queueEntry?setTimeout(()=>{e.queueEntry&&(this._shouldRequeuOnConnectionClose(e.queueEntry)?this._requeueEntryOnConnectionClose(e):this._failDeliveryOnConnectionClose(e)),this._continueProcessing()},50):this._continueProcessing()}),this._connections.push(e),e}_shouldRequeuOnConnectionClose(e){return void 0===this.options.maxRequeues||this.options.maxRequeues<0||e.requeueAttempts<this.options.maxRequeues}_failDeliveryOnConnectionClose(e){if(e.queueEntry&&e.queueEntry.callback){try{e.queueEntry.callback(new Error("Reached maximum number of retries after connection was closed"))}catch(t){this.logger.error({err:t,tnx:"callback",messageId:e.queueEntry.messageId,cid:e.id},"Callback error for #%s: %s",e.id,t.message)}e.queueEntry=!1}}_requeueEntryOnConnectionClose(e){e.queueEntry.requeueAttempts=e.queueEntry.requeueAttempts+1,this.logger.debug({tnx:"pool",cid:e.id,messageId:e.queueEntry.messageId,action:"requeue"},"Re-queued message <%s> for #%s. Attempt: #%s",e.queueEntry.messageId,e.id,e.queueEntry.requeueAttempts),this._queue.unshift(e.queueEntry),e.queueEntry=!1}_continueProcessing(){this._closed?this.close():setTimeout(()=>this._processMessages(),100)}_removeConnection(e){let t=this._connections.indexOf(e);-1!==t&&this._connections.splice(t,1)}_checkRateLimit(e){if(!this._rateLimit.limit)return e();let t=Date.now();return this._rateLimit.counter<this._rateLimit.limit?e():(this._rateLimit.waiting.push(e),this._rateLimit.checkpoint<=t-this._rateLimit.delta?this._clearRateLimit():void(this._rateLimit.timeout||(this._rateLimit.timeout=setTimeout(()=>this._clearRateLimit(),this._rateLimit.delta-(t-this._rateLimit.checkpoint)),this._rateLimit.checkpoint=t)))}_clearRateLimit(){for(clearTimeout(this._rateLimit.timeout),this._rateLimit.timeout=null,this._rateLimit.counter=0,this._rateLimit.checkpoint=!1;this._rateLimit.waiting.length;){let e=this._rateLimit.waiting.shift();setImmediate(e)}}isIdle(){return this.idling}verify(e){let t;e||(t=new Promise((t,i)=>{e=a.callbackPromise(t,i)}));let i=new r(this).auth;return this.getSocket(this.options,(t,n)=>{if(t)return e(t);let r=this.options;n&&n.connection&&(this.logger.info({tnx:"proxy",remoteAddress:n.connection.remoteAddress,remotePort:n.connection.remotePort,destHost:r.host||"",destPort:r.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",n.connection.remoteAddress,n.connection.remotePort,r.host||"",r.port||""),r=a.assign(!1,r),Object.keys(n).forEach(e=>{r[e]=n[e]}));let s=new o(r),c=!1;s.once("error",t=>{if(!c)return c=!0,s.close(),e(t)}),s.once("end",()=>{if(!c)return c=!0,e(new Error("Connection closed"))});let l=()=>{if(!c)return c=!0,s.quit(),e(null,!0)};s.connect(()=>{c||(i&&(s.allowsAuth||r.forceAuth)?s.login(i,t=>{if(!c)return t?(c=!0,s.close(),e(t)):void l()}):l())})}),t}}},function(e,t,i){"use strict";const n=i(58),r=i(11).assign,o=i(81),s=i(7);e.exports=class extends s{constructor(e){if(super(),this.pool=e,this.options=e.options,this.logger=this.pool.logger,this.options.auth)switch((this.options.auth.type||"").toString().toUpperCase()){case"OAUTH2":{let e=new o(this.options.auth,this.logger);e.provisionCallback=this.pool.mailer&&this.pool.mailer.get("oauth2_provision_cb")||e.provisionCallback,this.auth={type:"OAUTH2",user:this.options.auth.user,oauth2:e,method:"XOAUTH2"},e.on("token",e=>this.pool.mailer.emit("token",e)),e.on("error",e=>this.emit("error",e));break}default:if(!this.options.auth.user&&!this.options.auth.pass)break;this.auth={type:(this.options.auth.type||"").toString().toUpperCase()||"LOGIN",user:this.options.auth.user,credentials:{user:this.options.auth.user||"",pass:this.options.auth.pass,options:this.options.auth.options},method:(this.options.auth.method||"").trim().toUpperCase()||this.options.authMethod||!1}}this._connection=!1,this._connected=!1,this.messages=0,this.available=!0}connect(e){this.pool.getSocket(this.options,(t,i)=>{if(t)return e(t);let o=!1,s=this.options;i&&i.connection&&(this.logger.info({tnx:"proxy",remoteAddress:i.connection.remoteAddress,remotePort:i.connection.remotePort,destHost:s.host||"",destPort:s.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",i.connection.remoteAddress,i.connection.remotePort,s.host||"",s.port||""),s=r(!1,s),Object.keys(i).forEach(e=>{s[e]=i[e]})),this.connection=new n(s),this.connection.once("error",t=>{if(this.emit("error",t),!o)return o=!0,e(t)}),this.connection.once("end",()=>{if(this.close(),o)return;o=!0;let t=setTimeout(()=>{if(o)return;let t=new Error("Unexpected socket close");this.connection&&this.connection._socket&&this.connection._socket.upgrading&&(t.code="ETLS"),e(t)},1e3);try{t.unref()}catch(e){}}),this.connection.connect(()=>{if(!o)return this.auth&&(this.connection.allowsAuth||s.forceAuth)?void this.connection.login(this.auth,t=>{if(!o){if(o=!0,t)return this.connection.close(),this.emit("error",t),e(t);this._connected=!0,e(null,!0)}}):(o=!0,this._connected=!0,e(null,!0))})})}send(e,t){if(!this._connected)return this.connect(i=>i?t(i):this.send(e,t));let i=e.message.getEnvelope(),n=e.message.messageId(),r=[].concat(i.to||[]);r.length>3&&r.push("...and "+r.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:n,cid:this.id},"Sending message %s using #%s to <%s>",n,this.id,r.join(", ")),e.data.dsn&&(i.dsn=e.data.dsn),this.connection.send(i,e.message.createReadStream(),(e,r)=>{if(this.messages++,e)return this.connection.close(),this.emit("error",e),t(e);r.envelope={from:i.from,to:i.to},r.messageId=n,setImmediate(()=>{let e;this.messages>=this.options.maxMessages?(e=new Error("Resource exhausted"),e.code="EMAXLIMIT",this.connection.close(),this.emit("error",e)):this.pool._checkRateLimit(()=>{this.available=!0,this.emit("available")})}),t(null,r)})}close(){this._connected=!1,this.auth&&this.auth.oauth2&&this.auth.oauth2.removeAllListeners(),this.connection&&this.connection.close(),this.emit("close")}}},function(e,t,i){"use strict";const n=i(0).Transform;e.exports=class extends n{constructor(e){super(e),this.options=e||{},this._curLine="",this.inByteCount=0,this.outByteCount=0,this.lastByte=!1}_transform(e,t,i){let n,r,o,s=[],a=0,c=0;if(!e||!e.length)return i();for("string"==typeof e&&(e=Buffer.from(e)),this.inByteCount+=e.length,n=0,r=e.length;n<r;n++)46===e[n]?(n&&10===e[n-1]||!n&&(!this.lastByte||10===this.lastByte))&&(o=e.slice(c,n+1),s.push(o),s.push(Buffer.from(".")),a+=o.length+1,c=n+1):10===e[n]&&(n&&13!==e[n-1]||!n&&13!==this.lastByte)&&(n>c?(o=e.slice(c,n),s.push(o),a+=o.length+2):a+=2,s.push(Buffer.from("\r\n")),c=n+1);a?(c<e.length&&(o=e.slice(c),s.push(o),a+=o.length),this.outByteCount+=a,this.push(Buffer.concat(s,a))):(this.outByteCount+=e.length,this.push(e)),this.lastByte=e[e.length-1],i()}_flush(e){let t;t=10===this.lastByte?Buffer.from(".\r\n"):13===this.lastByte?Buffer.from("\n.\r\n"):Buffer.from("\r\n.\r\n"),this.outByteCount+=t.length,this.push(t),e()}}},function(e){e.exports=JSON.parse('{"126":{"host":"smtp.126.com","port":465,"secure":true},"163":{"host":"smtp.163.com","port":465,"secure":true},"1und1":{"host":"smtp.1und1.de","port":465,"secure":true,"authMethod":"LOGIN"},"AOL":{"domains":["aol.com"],"host":"smtp.aol.com","port":587},"DebugMail":{"host":"debugmail.io","port":25},"DynectEmail":{"aliases":["Dynect"],"host":"smtp.dynect.net","port":25},"Ethereal":{"aliases":["ethereal.email"],"host":"smtp.ethereal.email","port":587},"FastMail":{"domains":["fastmail.fm"],"host":"smtp.fastmail.com","port":465,"secure":true},"GandiMail":{"aliases":["Gandi","Gandi Mail"],"host":"mail.gandi.net","port":587},"Gmail":{"aliases":["Google Mail"],"domains":["gmail.com","googlemail.com"],"host":"smtp.gmail.com","port":465,"secure":true},"Godaddy":{"host":"smtpout.secureserver.net","port":25},"GodaddyAsia":{"host":"smtp.asia.secureserver.net","port":25},"GodaddyEurope":{"host":"smtp.europe.secureserver.net","port":25},"hot.ee":{"host":"mail.hot.ee"},"Hotmail":{"aliases":["Outlook","Outlook.com","Hotmail.com"],"domains":["hotmail.com","outlook.com"],"host":"smtp.live.com","port":587},"iCloud":{"aliases":["Me","Mac"],"domains":["me.com","mac.com"],"host":"smtp.mail.me.com","port":587},"mail.ee":{"host":"smtp.mail.ee"},"Mail.ru":{"host":"smtp.mail.ru","port":465,"secure":true},"Maildev":{"port":1025,"ignoreTLS":true},"Mailgun":{"host":"smtp.mailgun.org","port":465,"secure":true},"Mailjet":{"host":"in.mailjet.com","port":587},"Mailosaur":{"host":"mailosaur.io","port":25},"Mailtrap":{"host":"smtp.mailtrap.io","port":2525},"Mandrill":{"host":"smtp.mandrillapp.com","port":587},"Naver":{"host":"smtp.naver.com","port":587},"One":{"host":"send.one.com","port":465,"secure":true},"OpenMailBox":{"aliases":["OMB","openmailbox.org"],"host":"smtp.openmailbox.org","port":465,"secure":true},"Outlook365":{"host":"smtp.office365.com","port":587,"secure":false},"OhMySMTP":{"host":"smtp.ohmysmtp.com","port":587,"secure":false},"Postmark":{"aliases":["PostmarkApp"],"host":"smtp.postmarkapp.com","port":2525},"qiye.aliyun":{"host":"smtp.mxhichina.com","port":"465","secure":true},"QQ":{"domains":["qq.com"],"host":"smtp.qq.com","port":465,"secure":true},"QQex":{"aliases":["QQ Enterprise"],"domains":["exmail.qq.com"],"host":"smtp.exmail.qq.com","port":465,"secure":true},"SendCloud":{"host":"smtpcloud.sohu.com","port":25},"SendGrid":{"host":"smtp.sendgrid.net","port":587},"SendinBlue":{"host":"smtp-relay.sendinblue.com","port":587},"SendPulse":{"host":"smtp-pulse.com","port":465,"secure":true},"SES":{"host":"email-smtp.us-east-1.amazonaws.com","port":465,"secure":true},"SES-US-EAST-1":{"host":"email-smtp.us-east-1.amazonaws.com","port":465,"secure":true},"SES-US-WEST-2":{"host":"email-smtp.us-west-2.amazonaws.com","port":465,"secure":true},"SES-EU-WEST-1":{"host":"email-smtp.eu-west-1.amazonaws.com","port":465,"secure":true},"Sparkpost":{"aliases":["SparkPost","SparkPost Mail"],"domains":["sparkpost.com"],"host":"smtp.sparkpostmail.com","port":587,"secure":false},"Tipimail":{"host":"smtp.tipimail.com","port":587},"Yahoo":{"domains":["yahoo.com"],"host":"smtp.mail.yahoo.com","port":465,"secure":true},"Yandex":{"domains":["yandex.ru"],"host":"smtp.yandex.ru","port":465,"secure":true},"Zoho":{"host":"smtp.zoho.com","port":465,"secure":true,"authMethod":"LOGIN"}}')},function(e,t,i){"use strict";const n=i(7),r=i(58),o=i(82),s=i(11),a=i(81),c=i(14);e.exports=class extends n{constructor(e){let t;super(),"string"==typeof(e=e||{})&&(e={url:e});let i=e.service;"function"==typeof e.getSocket&&(this.getSocket=e.getSocket),e.url&&(t=s.parseConnectionUrl(e.url),i=i||t.service),this.options=s.assign(!1,e,t,i&&o(i)),this.logger=s.getLogger(this.options,{component:this.options.component||"smtp-transport"});let n=new r(this.options);this.name="SMTP",this.version=c.version+"[client:"+n.version+"]",this.options.auth&&(this.auth=this.getAuth({}))}getSocket(e,t){return setImmediate(()=>t(null,!1))}getAuth(e){if(!e)return this.auth;let t=!1,i={};if(this.options.auth&&"object"==typeof this.options.auth&&Object.keys(this.options.auth).forEach(e=>{t=!0,i[e]=this.options.auth[e]}),e&&"object"==typeof e&&Object.keys(e).forEach(n=>{t=!0,i[n]=e[n]}),!t)return!1;switch((i.type||"").toString().toUpperCase()){case"OAUTH2":{if(!i.service&&!i.user)return!1;let e=new a(i,this.logger);return e.provisionCallback=this.mailer&&this.mailer.get("oauth2_provision_cb")||e.provisionCallback,e.on("token",e=>this.mailer.emit("token",e)),e.on("error",e=>this.emit("error",e)),{type:"OAUTH2",user:i.user,oauth2:e,method:"XOAUTH2"}}default:return{type:(i.type||"").toString().toUpperCase()||"LOGIN",user:i.user,credentials:{user:i.user||"",pass:i.pass,options:i.options},method:(i.method||"").trim().toUpperCase()||this.options.authMethod||!1}}}send(e,t){this.getSocket(this.options,(i,n)=>{if(i)return t(i);let o=!1,a=this.options;n&&n.connection&&(this.logger.info({tnx:"proxy",remoteAddress:n.connection.remoteAddress,remotePort:n.connection.remotePort,destHost:a.host||"",destPort:a.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",n.connection.remoteAddress,n.connection.remotePort,a.host||"",a.port||""),a=s.assign(!1,a),Object.keys(n).forEach(e=>{a[e]=n[e]}));let c=new r(a);c.once("error",e=>{if(!o)return o=!0,c.close(),t(e)}),c.once("end",()=>{if(o)return;let e=setTimeout(()=>{if(o)return;o=!0;let e=new Error("Unexpected socket close");c&&c._socket&&c._socket.upgrading&&(e.code="ETLS"),t(e)},1e3);try{e.unref()}catch(e){}});let l=()=>{let i=e.message.getEnvelope(),n=e.message.messageId(),r=[].concat(i.to||[]);r.length>3&&r.push("...and "+r.splice(2).length+" more"),e.data.dsn&&(i.dsn=e.data.dsn),this.logger.info({tnx:"send",messageId:n},"Sending message %s to <%s>",n,r.join(", ")),c.send(i,e.message.createReadStream(),(e,r)=>{if(o=!0,c.close(),e)return this.logger.error({err:e,tnx:"send"},"Send error for %s: %s",n,e.message),t(e);r.envelope={from:i.from,to:i.to},r.messageId=n;try{return t(null,r)}catch(e){this.logger.error({err:e,tnx:"callback"},"Callback error for %s: %s",n,e.message)}})};c.connect(()=>{if(o)return;let i=this.getAuth(e.data.auth);i&&(c.allowsAuth||a.forceAuth)?c.login(i,e=>{if(i&&i!==this.auth&&i.oauth2&&i.oauth2.removeAllListeners(),!o)return e?(o=!0,c.close(),t(e)):void l()}):l()})})}verify(e){let t;return e||(t=new Promise((t,i)=>{e=s.callbackPromise(t,i)})),this.getSocket(this.options,(t,i)=>{if(t)return e(t);let n=this.options;i&&i.connection&&(this.logger.info({tnx:"proxy",remoteAddress:i.connection.remoteAddress,remotePort:i.connection.remotePort,destHost:n.host||"",destPort:n.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",i.connection.remoteAddress,i.connection.remotePort,n.host||"",n.port||""),n=s.assign(!1,n),Object.keys(i).forEach(e=>{n[e]=i[e]}));let o=new r(n),a=!1;o.once("error",t=>{if(!a)return a=!0,o.close(),e(t)}),o.once("end",()=>{if(!a)return a=!0,e(new Error("Connection closed"))});let c=()=>{if(!a)return a=!0,o.quit(),e(null,!0)};o.connect(()=>{if(a)return;let t=this.getAuth({});t&&(o.allowsAuth||n.forceAuth)?o.login(t,t=>{if(!a)return t?(a=!0,o.close(),e(t)):void c()}):c()})}),t}close(){this.auth&&this.auth.oauth2&&this.auth.oauth2.removeAllListeners(),this.emit("close")}}},function(e,t,i){"use strict";const n=i(36).spawn,r=i(14),o=i(59),s=i(83),a=i(11);e.exports=class{constructor(e){e=e||{},this._spawn=n,this.options=e||{},this.name="Sendmail",this.version=r.version,this.path="sendmail",this.args=!1,this.winbreak=!1,this.logger=a.getLogger(this.options,{component:this.options.component||"sendmail"}),e&&("string"==typeof e?this.path=e:"object"==typeof e&&(e.path&&(this.path=e.path),Array.isArray(e.args)&&(this.args=e.args),this.winbreak=["win","windows","dos","\r\n"].includes((e.newline||"").toString().toLowerCase())))}send(e,t){e.message.keepBcc=!0;let i,n,r,a,c=e.data.envelope||e.message.getEnvelope(),l=e.message.messageId();if([].concat(c.from||[]).concat(c.to||[]).some(e=>/^-/.test(e)))return t(new Error("Can not send mail. Invalid envelope addresses."));i=this.args?["-i"].concat(this.args).concat(c.to):["-i"].concat(c.from?["-f",c.from]:[]).concat(c.to);let d=i=>{if(!r)return r=!0,"function"==typeof t?i?t(i):t(null,{envelope:e.data.envelope||e.message.getEnvelope(),messageId:l,response:"Messages queued for delivery"}):void 0};try{n=this._spawn(this.path,i)}catch(e){return this.logger.error({err:e,tnx:"spawn",messageId:l},"Error occurred while spawning sendmail. %s",e.message),d(e)}if(!n)return d(new Error("sendmail was not found"));{n.on("error",e=>{this.logger.error({err:e,tnx:"spawn",messageId:l},"Error occurred when sending message %s. %s",l,e.message),d(e)}),n.once("exit",e=>{if(!e)return d();let t;t=127===e?new Error("Sendmail command not found, process exited with code "+e):new Error("Sendmail exited with code "+e),this.logger.error({err:t,tnx:"stdin",messageId:l},"Error sending message %s to sendmail. %s",l,t.message),d(t)}),n.once("close",d),n.stdin.on("error",e=>{this.logger.error({err:e,tnx:"stdin",messageId:l},"Error occurred when piping message %s to sendmail. %s",l,e.message),d(e)});let t=[].concat(c.to||[]);t.length>3&&t.push("...and "+t.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:l},"Sending message %s to <%s>",l,t.join(", ")),a=this.winbreak?new o:new s;let i=e.message.createReadStream();a.once("error",e=>{this.logger.error({err:e,tnx:"stdin",messageId:l},"Error occurred when generating message %s. %s",l,e.message),n.kill("SIGINT"),d(e)}),i.once("error",e=>a.emit("error",e)),i.pipe(a).pipe(n.stdin)}}}},function(e,t,i){"use strict";const n=i(14),r=i(11),o=i(59),s=i(83);e.exports=class{constructor(e){e=e||{},this.options=e||{},this.name="StreamTransport",this.version=n.version,this.logger=r.getLogger(this.options,{component:this.options.component||"stream-transport"}),this.winbreak=["win","windows","dos","\r\n"].includes((e.newline||"").toString().toLowerCase())}send(e,t){e.message.keepBcc=!0;let i=e.data.envelope||e.message.getEnvelope(),n=e.message.messageId(),r=[].concat(i.to||[]);r.length>3&&r.push("...and "+r.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:n},"Sending message %s to <%s> using %s line breaks",n,r.join(", "),this.winbreak?"<CR><LF>":"<LF>"),setImmediate(()=>{let i,r,a;try{a=this.winbreak?new o:new s,i=e.message.createReadStream(),r=i.pipe(a),i.on("error",e=>r.emit("error",e))}catch(e){return this.logger.error({err:e,tnx:"send",messageId:n},"Creating send stream failed for %s. %s",n,e.message),t(e)}if(!this.options.buffer)return r.once("error",e=>{this.logger.error({err:e,tnx:"send",messageId:n},"Failed creating message for %s. %s",n,e.message)}),t(null,{envelope:e.data.envelope||e.message.getEnvelope(),messageId:n,message:r});let c=[],l=0;r.on("readable",()=>{let e;for(;null!==(e=r.read());)c.push(e),l+=e.length}),r.once("error",e=>(this.logger.error({err:e,tnx:"send",messageId:n},"Failed creating message for %s. %s",n,e.message),t(e))),r.on("end",()=>t(null,{envelope:e.data.envelope||e.message.getEnvelope(),messageId:n,message:Buffer.concat(c,l)}))})}}},function(e,t,i){"use strict";const n=i(14),r=i(11);e.exports=class{constructor(e){e=e||{},this.options=e||{},this.name="JSONTransport",this.version=n.version,this.logger=r.getLogger(this.options,{component:this.options.component||"json-transport"})}send(e,t){e.message.keepBcc=!0;let i=e.data.envelope||e.message.getEnvelope(),n=e.message.messageId(),r=[].concat(i.to||[]);r.length>3&&r.push("...and "+r.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:n},"Composing JSON structure of %s to <%s>",n,r.join(", ")),setImmediate(()=>{e.normalize((e,r)=>e?(this.logger.error({err:e,tnx:"send",messageId:n},"Failed building JSON structure for %s. %s",n,e.message),t(e)):(delete r.envelope,delete r.normalizedHeaders,t(null,{envelope:i,messageId:n,message:this.options.skipEncoding?r:JSON.stringify(r)})))})}}},function(e,t,i){"use strict";const n=i(7),r=i(14),o=i(11),s=i(59);e.exports=class extends n{constructor(e){super(),e=e||{},this.options=e||{},this.ses=this.options.SES,this.name="SESTransport",this.version=r.version,this.logger=o.getLogger(this.options,{component:this.options.component||"ses-transport"}),this.maxConnections=Number(this.options.maxConnections)||1/0,this.connections=0,this.sendingRate=Number(this.options.sendingRate)||1/0,this.sendingRateTTL=null,this.rateInterval=1e3,this.rateMessages=[],this.pending=[],this.idling=!0,setImmediate(()=>{this.idling&&this.emit("idle")})}send(e,t){return this.connections>=this.maxConnections?(this.idling=!1,this.pending.push({mail:e,callback:t})):this._checkSendingRate()?void this._send(e,(...e)=>{setImmediate(()=>t(...e)),this._sent()}):(this.idling=!1,this.pending.push({mail:e,callback:t}))}_checkRatedQueue(){if(this.connections>=this.maxConnections||!this._checkSendingRate())return;if(!this.pending.length)return void(this.idling||(this.idling=!0,this.emit("idle")));let e=this.pending.shift();this._send(e.mail,(...t)=>{setImmediate(()=>e.callback(...t)),this._sent()})}_checkSendingRate(){clearTimeout(this.sendingRateTTL);let e=Date.now(),t=!1;for(let i=this.rateMessages.length-1;i>=0;i--)this.rateMessages[i].ts>=e-this.rateInterval&&(!t||this.rateMessages[i].ts<t)&&(t=this.rateMessages[i].ts),this.rateMessages[i].ts<e-this.rateInterval&&!this.rateMessages[i].pending&&this.rateMessages.splice(i,1);if(this.rateMessages.length<this.sendingRate)return!0;let i=Math.max(t+1001,e+20);this.sendingRateTTL=setTimeout(()=>this._checkRatedQueue(),e-i);try{this.sendingRateTTL.unref()}catch(e){}return!1}_sent(){this.connections--,this._checkRatedQueue()}isIdle(){return this.idling}_send(e,t){let i={ts:Date.now(),pending:!0};this.connections++,this.rateMessages.push(i);let n=e.data.envelope||e.message.getEnvelope(),r=e.message.messageId(),o=[].concat(n.to||[]);o.length>3&&o.push("...and "+o.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:r},"Sending message %s to <%s>",r,o.join(", "));setImmediate(()=>(t=>{e.data._dkim||(e.data._dkim={}),e.data._dkim.skipFields&&"string"==typeof e.data._dkim.skipFields?e.data._dkim.skipFields+=":date:message-id":e.data._dkim.skipFields="date:message-id";let i=e.message.createReadStream(),n=i.pipe(new s),r=[],o=0;n.on("readable",()=>{let e;for(;null!==(e=n.read());)r.push(e),o+=e.length}),i.once("error",e=>n.emit("error",e)),n.once("error",e=>{t(e)}),n.once("end",()=>t(null,Buffer.concat(r,o)))})((o,s)=>{if(o)return this.logger.error({err:o,tnx:"send",messageId:r},"Failed creating message for %s. %s",r,o.message),i.pending=!1,t(o);let a={RawMessage:{Data:s},Source:n.from,Destinations:n.to};Object.keys(e.data.ses||{}).forEach(t=>{a[t]=e.data.ses[t]});let c=(this.ses.aws?this.ses.ses:this.ses)||{},l=this.ses.aws||{};var d;d=(e,o)=>{let d;!e&&o||(o="us-east-1"),d="function"==typeof c.send&&l.SendRawEmailCommand?c.send(new l.SendRawEmailCommand(a)):c.sendRawEmail(a).promise(),d.then(e=>{"us-east-1"===o&&(o="email"),i.pending=!1,t(null,{envelope:{from:n.from,to:n.to},messageId:"<"+e.MessageId+(/@/.test(e.MessageId)?"":"@"+o+".amazonses.com")+">",response:e.MessageId,raw:s})}).catch(e=>{this.logger.error({err:e,tnx:"send"},"Send error for %s: %s",r,e.message),i.pending=!1,t(e)})},c.config&&"function"==typeof c.config.region?c.config.region().then(e=>d(null,e)).catch(e=>d(e)):d(null,c.config&&c.config.region||"us-east-1")}))}verify(e){let t;return e||(t=new Promise((t,i)=>{e=o.callbackPromise(t,i)})),this.ses.sendRawEmail({RawMessage:{Data:"From: invalid@invalid\r\nTo: invalid@invalid\r\n Subject: Invalid\r\n\r\nInvalid"},Source:"invalid@invalid",Destinations:["invalid@invalid"]},t=>t&&"InvalidParameterValue"!==t.code?e(t):e(null,!0)),t}}},function(e,t,i){"use strict";(function(t){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const r=i(2),o=n(i(184)),s=i(3),a=i(10);!0===/^AWS_Lambda_nodejs(?:10|12|14)[.]x$/.test(process.env.AWS_EXECUTION_ENV)&&(void 0===process.env.FONTCONFIG_PATH&&(process.env.FONTCONFIG_PATH="/tmp/aws"),void 0===process.env.LD_LIBRARY_PATH?process.env.LD_LIBRARY_PATH="/tmp/aws/lib":!0!==process.env.LD_LIBRARY_PATH.startsWith("/tmp/aws/lib")&&(process.env.LD_LIBRARY_PATH=[...new Set(["/tmp/aws/lib",...process.env.LD_LIBRARY_PATH.split(":")])].join(":")));class c{static font(e){return!0!==c.headless?null:(void 0===process.env.HOME&&(process.env.HOME="/tmp"),!0!==r.existsSync(process.env.HOME+"/.fonts")&&r.mkdirSync(process.env.HOME+"/.fonts"),new Promise((t,n)=>{!0!==/^https?:[/][/]/i.test(e)&&(e="file://"+e);const o=new a.URL(e),s=`${process.env.HOME}/.fonts/${o.pathname.split("/").pop()}`;if(!0===r.existsSync(s))return t(s.split("/").pop());if("file:"===o.protocol)r.access(o.pathname,e=>{if(null!=e)return n(e);r.symlink(o.pathname,s,e=>null!=e?n(e):t(o.pathname.split("/").pop()))});else{("http:"===o.protocol?i(17).get:i(25).get)(e,e=>{if(200!==e.statusCode)return n(`Unexpected status code: ${e.statusCode}.`);const i=r.createWriteStream(s);i.once("error",e=>n(e)),e.on("data",e=>{i.write(e)}),e.once("end",()=>{i.end(()=>t(o.pathname.split("/").pop()))})})}}))}static get args(){const e=["--autoplay-policy=user-gesture-required","--disable-background-networking","--disable-background-timer-throttling","--disable-backgrounding-occluded-windows","--disable-breakpad","--disable-client-side-phishing-detection","--disable-component-update","--disable-default-apps","--disable-dev-shm-usage","--disable-domain-reliability","--disable-extensions","--disable-features=AudioServiceOutOfProcess,IsolateOrigins,site-per-process","--disable-hang-monitor","--disable-ipc-flooding-protection","--disable-offer-store-unmasked-wallet-cards","--disable-popup-blocking","--disable-print-preview","--disable-prompt-on-repost","--disable-renderer-backgrounding","--disable-setuid-sandbox","--disable-speech-api","--disable-sync","--disable-web-security","--disk-cache-size=33554432","--hide-scrollbars","--ignore-gpu-blocklist","--metrics-recording-only","--mute-audio","--no-default-browser-check","--no-first-run","--no-pings","--no-sandbox","--no-zygote","--password-store=basic","--use-gl=swiftshader","--use-mock-keychain","--window-size=1920,1080"];return!0===c.headless?e.push("--single-process"):e.push("--start-maximized"),e}static get defaultViewport(){return{deviceScaleFactor:1,hasTouch:!1,height:1080,isLandscape:!0,isMobile:!1,width:1920}}static get executablePath(){if(!0!==c.headless)return Promise.resolve(null);if(!0===r.existsSync("/tmp/chromium")){for(const e of r.readdirSync("/tmp"))!0===e.startsWith("core.chromium")&&r.unlinkSync("/tmp/"+e);return Promise.resolve("/tmp/chromium")}const e=s.join(t,"..","bin"),i=[o.default.inflate(e+"/chromium.br"),o.default.inflate(e+"/swiftshader.tar.br")];return!0===/^AWS_Lambda_nodejs(?:10|12|14)[.]x$/.test(process.env.AWS_EXECUTION_ENV)&&i.push(o.default.inflate(e+"/aws.tar.br")),Promise.all(i).then(e=>e.shift())}static get headless(){if(void 0!==process.env.IS_LOCAL||void 0!==process.env.IS_OFFLINE)return!1;return["AWS_LAMBDA_FUNCTION_NAME","FUNCTION_NAME","FUNCTION_TARGET","FUNCTIONS_EMULATOR"].some(e=>void 0!==process.env[e])}static get puppeteer(){for(const e of["Browser","BrowserContext","ElementHandle","FrameManager","Page"])i(209)("./"+e);try{return i(257)}catch(e){if("MODULE_NOT_FOUND"!==e.code)throw e;return i(156)}}}e.exports=c}).call(this,"/")},function(e,t,i){"use strict";const n=i(2),r=i(16),o=i(3),s=i(185),a=i(13);e.exports=class{static deflate(e){let t=o.join(r.tmpdir(),[o.basename(e),n.statSync(e).isDirectory()?"tar.gz":"gz"].join("."));return new Promise((i,r)=>{let o=t.endsWith(".tar.gz")?s.pack(e):n.createReadStream(e,{highWaterMark:2**23}),c=n.createWriteStream(t,{mode:420});o.once("error",e=>r(e)),c.once("error",e=>r(e)),c.once("close",()=>i(t)),o.pipe(a.createGzip({chunkSize:2**21})).pipe(c)})}static inflate(e){let t=o.join(r.tmpdir(),o.basename(e).replace(/[.](?:t(?:ar(?:[.](?:br|gz))?|br|gz)|br|gz)$/i,""));return new Promise((i,r)=>{if(!0===n.existsSync(t))return i(t);let o=n.createReadStream(e,{highWaterMark:2**23}),c=null;!0===/[.](?:t(?:ar(?:[.](?:br|gz))?|br|gz))$/i.test(e)?(c=s.extract(t),c.once("finish",()=>i(t))):c=n.createWriteStream(t,{mode:448}),o.once("error",e=>r(e)),c.once("error",e=>r(e)),c.once("close",()=>i(t)),!0===/(?:br|gz)$/i.test(e)?o.pipe(/br$/i.test(e)?a.createBrotliDecompress({chunkSize:2**21}):a.createUnzip({chunkSize:2**21})).pipe(c):o.pipe(c)})}}},function(e,t,i){var n=i(186),r=i(187),o=i(207),s=i(208),a=i(2),c=i(3),l="win32"===i(16).platform(),d=function(){},u=function(e){return e},h=l?function(e){return e.replace(/\\/g,"/").replace(/[:?<>|]/g,"_")}:u,p=function(e,t){return function(i){i.name=i.name.split("/").slice(t).join("/");var n=i.linkname;return n&&("link"===i.type||c.isAbsolute(n))&&(i.linkname=n.split("/").slice(t).join("/")),e(i)}};t.pack=function(e,t){e||(e="."),t||(t={});var i=t.fs||a,n=t.ignore||t.filter||d,s=t.map||d,l=t.mapStream||u,A=function(e,t,i,n,r,o){var s=r||["."];return function(r){if(!s.length)return r();var a=s.shift(),l=c.join(i,a);t.call(e,l,(function(t,d){return t?r(t):d.isDirectory()?void e.readdir(l,(function(e,t){if(e)return r(e);o&&t.sort();for(var l=0;l<t.length;l++)n(c.join(i,a,t[l]))||s.push(c.join(a,t[l]));r(null,a,d)})):r(null,a,d)}))}}(i,t.dereference?i.stat:i.lstat,e,n,t.entries,t.sort),m=!1!==t.strict,g="number"==typeof t.umask?~t.umask:~f(),y="number"==typeof t.dmode?t.dmode:0,_="number"==typeof t.fmode?t.fmode:0,b=t.pack||r.pack(),v=t.finish||d;t.strip&&(s=p(s,t.strip)),t.readable&&(y|=parseInt(555,8),_|=parseInt(444,8)),t.writable&&(y|=parseInt(333,8),_|=parseInt(222,8));var C=function(n,r,a){if(n)return b.destroy(n);if(!r)return!1!==t.finalize&&b.finalize(),v(b);if(a.isSocket())return w();var d={name:h(r),mode:(a.mode|(a.isDirectory()?y:_))&g,mtime:a.mtime,size:a.size,type:"file",uid:a.uid,gid:a.gid};if(a.isDirectory())return d.size=0,d.type="directory",d=s(d)||d,b.entry(d,w);if(a.isSymbolicLink())return d.size=0,d.type="symlink",function(t,n){i.readlink(c.join(e,t),(function(e,t){if(e)return b.destroy(e);n.linkname=h(t),b.entry(n,w)}))}(r,d=s(d)||d);if(d=s(d)||d,!a.isFile())return m?b.destroy(new Error("unsupported type for "+r)):w();var u=b.entry(d,w);if(u){var p=l(i.createReadStream(c.join(e,r),{start:0,end:d.size>0?d.size-1:d.size}),d);p.on("error",(function(e){u.destroy(e)})),o(p,u)}},w=function(e){if(e)return b.destroy(e);A(C)};return w(),b};var f=function(){return process.umask?process.umask():0};function A(e,t,i){s(e,{fs:t.fs},(function(e,r){!e&&r&&t.own?n(r,t.uid,t.gid,i):i(e)}))}t.extract=function(e,t){e||(e="."),t||(t={});var i=t.fs||a,n=t.ignore||t.filter||d,s=t.map||d,m=t.mapStream||u,g=!1!==t.chown&&!l&&0===(process.getuid?process.getuid():-1),y=t.extract||r.extract(),_=[],b=new Date,v="number"==typeof t.umask?~t.umask:~f(),C="number"==typeof t.dmode?t.dmode:0,w="number"==typeof t.fmode?t.fmode:0,x=!1!==t.strict;t.strip&&(s=p(s,t.strip)),t.readable&&(C|=parseInt(555,8),w|=parseInt(444,8)),t.writable&&(C|=parseInt(333,8),w|=parseInt(222,8));var E=function(e,t){for(var n,r;(n=(r=_).length?r[r.length-1]:null)&&e.slice(0,n[0].length)!==n[0];)_.pop();if(!n)return t();i.utimes(n[0],b,n[1],t)};return y.on("entry",(function(r,a,d){(r=s(r)||r).name=h(r.name);var u=c.join(e,c.join("/",r.name));if(n(u,r))return a.resume(),d();var p=function(e){if(e)return d(e);!function(e,n,r){!1===t.utimes?r():"directory"===n.type?i.utimes(e,b,n.mtime,r):"symlink"===n.type?E(e,r):i.utimes(e,b,n.mtime,(function(t){if(t)return r(t);E(e,r)}))}(u,r,(function(e){return e?d(e):l?d():void function(e,t,n){var r="symlink"===t.type,o=r?i.lchmod:i.chmod,s=r?i.lchown:i.chown;if(!o)return n();var a=(t.mode|("directory"===t.type?C:w))&v;function c(t){return t?n(t):o?void o.call(i,e,a,n):n()}s&&g?s.call(i,e,t.uid,t.gid,c):c(null)}(u,r,d)}))},f=function(){var e=i.createWriteStream(u),t=m(a,r);e.on("error",(function(e){t.destroy(e)})),o(t,e,(function(t){if(t)return d(t);e.on("close",p)}))};if("directory"===r.type)return _.push([u,r.mtime]),A(u,{fs:i,own:g,uid:r.uid,gid:r.gid},p);var y=c.dirname(u);!function e(t,i,n,r){if(i===n)return r(null,!0);t.lstat(i,(function(o,s){return o&&"ENOENT"!==o.code?r(o):o||s.isDirectory()?e(t,c.join(i,".."),n,r):void r(null,!1)}))}(i,y,c.join(e,"."),(function(n,o){return n?d(n):o?void A(y,{fs:i,own:g,uid:r.uid,gid:r.gid},(function(n){if(n)return d(n);switch(r.type){case"file":return f();case"link":return function(){if(l)return d();i.unlink(u,(function(){var n=c.join(e,c.join("/",r.linkname));i.link(n,u,(function(e){if(e&&"EPERM"===e.code&&t.hardlinkAsFilesFallback)return a=i.createReadStream(n),f();p(e)}))}))}();case"symlink":return function(){if(l)return d();i.unlink(u,(function(){i.symlink(r.linkname,u,p)}))}()}if(x)return d(new Error("unsupported type for "+u+" ("+r.type+")"));a.resume(),d()})):d(new Error(y+" is not a valid path"))}))})),t.finish&&y.on("finish",t.finish),y}},function(e,t,i){"use strict";const n=i(2),r=i(3),o=n.lchown?"lchown":"chown",s=n.lchownSync?"lchownSync":"chownSync",a=n.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),c=(e,t,i)=>{try{return n[s](e,t,i)}catch(e){if("ENOENT"!==e.code)throw e}},l=a?(e,t,i,r)=>o=>{o&&"EISDIR"===o.code?n.chown(e,t,i,r):r(o)}:(e,t,i,n)=>n,d=a?(e,t,i)=>{try{return c(e,t,i)}catch(r){if("EISDIR"!==r.code)throw r;((e,t,i)=>{try{n.chownSync(e,t,i)}catch(e){if("ENOENT"!==e.code)throw e}})(e,t,i)}}:(e,t,i)=>c(e,t,i),u=process.version;let h=(e,t,i)=>n.readdir(e,t,i);/^v4\./.test(u)&&(h=(e,t,i)=>n.readdir(e,i));const p=(e,t,i,r)=>{n[o](e,t,i,l(e,t,i,e=>{r(e&&"ENOENT"!==e.code?e:null)}))},f=(e,t,i,o,s)=>{if("string"==typeof t)return n.lstat(r.resolve(e,t),(n,r)=>{if(n)return s("ENOENT"!==n.code?n:null);r.name=t,f(e,r,i,o,s)});if(t.isDirectory())A(r.resolve(e,t.name),i,o,n=>{if(n)return s(n);const a=r.resolve(e,t.name);p(a,i,o,s)});else{const n=r.resolve(e,t.name);p(n,i,o,s)}},A=(e,t,i,n)=>{h(e,{withFileTypes:!0},(r,o)=>{if(r){if("ENOENT"===r.code)return n();if("ENOTDIR"!==r.code&&"ENOTSUP"!==r.code)return n(r)}if(r||!o.length)return p(e,t,i,n);let s=o.length,a=null;const c=r=>{if(!a)return r?n(a=r):0==--s?p(e,t,i,n):void 0};o.forEach(n=>f(e,n,t,i,c))})},m=(e,t,i)=>{let o;try{o=((e,t)=>n.readdirSync(e,t))(e,{withFileTypes:!0})}catch(n){if("ENOENT"===n.code)return;if("ENOTDIR"===n.code||"ENOTSUP"===n.code)return d(e,t,i);throw n}return o&&o.length&&o.forEach(o=>((e,t,i,o)=>{if("string"==typeof t)try{const i=n.lstatSync(r.resolve(e,t));i.name=t,t=i}catch(e){if("ENOENT"===e.code)return;throw e}t.isDirectory()&&m(r.resolve(e,t.name),i,o),d(r.resolve(e,t.name),i,o)})(e,o,t,i)),d(e,t,i)};e.exports=A,A.sync=m},function(e,t,i){t.extract=i(188),t.pack=i(204)},function(e,t,i){var n=i(1),r=i(189),o=i(91),s=i(48).Writable,a=i(48).PassThrough,c=function(){},l=function(e){return(e&=511)&&512-e},d=function(e,t){this._parent=e,this.offset=t,a.call(this,{autoDestroy:!1})};n.inherits(d,a),d.prototype.destroy=function(e){this._parent.destroy(e)};var u=function(e){if(!(this instanceof u))return new u(e);s.call(this,e),e=e||{},this._offset=0,this._buffer=r(),this._missing=0,this._partial=!1,this._onparse=c,this._header=null,this._stream=null,this._overflow=null,this._cb=null,this._locked=!1,this._destroyed=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null;var t=this,i=t._buffer,n=function(){t._continue()},a=function(e){if(t._locked=!1,e)return t.destroy(e);t._stream||n()},h=function(){t._stream=null;var e=l(t._header.size);e?t._parse(e,p):t._parse(512,y),t._locked||n()},p=function(){t._buffer.consume(l(t._header.size)),t._parse(512,y),n()},f=function(){var e=t._header.size;t._paxGlobal=o.decodePax(i.slice(0,e)),i.consume(e),h()},A=function(){var e=t._header.size;t._pax=o.decodePax(i.slice(0,e)),t._paxGlobal&&(t._pax=Object.assign({},t._paxGlobal,t._pax)),i.consume(e),h()},m=function(){var n=t._header.size;this._gnuLongPath=o.decodeLongPath(i.slice(0,n),e.filenameEncoding),i.consume(n),h()},g=function(){var n=t._header.size;this._gnuLongLinkPath=o.decodeLongPath(i.slice(0,n),e.filenameEncoding),i.consume(n),h()},y=function(){var r,s=t._offset;try{r=t._header=o.decode(i.slice(0,512),e.filenameEncoding,e.allowUnknownFormat)}catch(e){t.emit("error",e)}return i.consume(512),r?"gnu-long-path"===r.type?(t._parse(r.size,m),void n()):"gnu-long-link-path"===r.type?(t._parse(r.size,g),void n()):"pax-global-header"===r.type?(t._parse(r.size,f),void n()):"pax-header"===r.type?(t._parse(r.size,A),void n()):(t._gnuLongPath&&(r.name=t._gnuLongPath,t._gnuLongPath=null),t._gnuLongLinkPath&&(r.linkname=t._gnuLongLinkPath,t._gnuLongLinkPath=null),t._pax&&(t._header=r=function(e,t){return t.path&&(e.name=t.path),t.linkpath&&(e.linkname=t.linkpath),t.size&&(e.size=parseInt(t.size,10)),e.pax=t,e}(r,t._pax),t._pax=null),t._locked=!0,r.size&&"directory"!==r.type?(t._stream=new d(t,s),t.emit("entry",r,t._stream,a),t._parse(r.size,h),void n()):(t._parse(512,y),void t.emit("entry",r,function(e,t){var i=new d(e,t);return i.end(),i}(t,s),a))):(t._parse(512,y),void n())};this._onheader=y,this._parse(512,y)};n.inherits(u,s),u.prototype.destroy=function(e){this._destroyed||(this._destroyed=!0,e&&this.emit("error",e),this.emit("close"),this._stream&&this._stream.emit("close"))},u.prototype._parse=function(e,t){this._destroyed||(this._offset+=e,this._missing=e,t===this._onheader&&(this._partial=!1),this._onparse=t)},u.prototype._continue=function(){if(!this._destroyed){var e=this._cb;this._cb=c,this._overflow?this._write(this._overflow,void 0,e):e()}},u.prototype._write=function(e,t,i){if(!this._destroyed){var n=this._stream,r=this._buffer,o=this._missing;if(e.length&&(this._partial=!0),e.length<o)return this._missing-=e.length,this._overflow=null,n?n.write(e,i):(r.append(e),i());this._cb=i,this._missing=0;var s=null;e.length>o&&(s=e.slice(o),e=e.slice(0,o)),n?n.end(e):r.append(e),this._overflow=s,this._onparse()}},u.prototype._final=function(e){if(this._partial)return this.destroy(new Error("Unexpected end of data"));e()},e.exports=u},function(e,t,i){"use strict";const n=i(190).Duplex,r=i(12),o=i(198);function s(e){if(!(this instanceof s))return new s(e);if("function"==typeof e){this._callback=e;const t=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on("pipe",(function(e){e.on("error",t)})),this.on("unpipe",(function(e){e.removeListener("error",t)})),e=null}o._init.call(this,e),n.call(this)}r(s,n),Object.assign(s.prototype,o.prototype),s.prototype._new=function(e){return new s(e)},s.prototype._write=function(e,t,i){this._appendBuffer(e),"function"==typeof i&&i()},s.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},s.prototype.end=function(e){n.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype._destroy=function(e,t){this._bufs.length=0,this.length=0,t(e)},s.prototype._isBufferList=function(e){return e instanceof s||e instanceof o||s.isBufferList(e)},s.isBufferList=o.isBufferList,e.exports=s,e.exports.BufferListStream=s,e.exports.BufferList=o},function(e,t,i){var n=i(0);"disable"===process.env.READABLE_STREAM&&n?(e.exports=n.Readable,Object.assign(e.exports,n),e.exports.Stream=n):((t=e.exports=i(84)).Stream=n||t,t.Readable=t,t.Writable=i(88),t.Duplex=i(27),t.Transform=i(90),t.PassThrough=i(196),t.finished=i(60),t.pipeline=i(197))},function(e,t,i){"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=i(6).Buffer,a=i(1).inspect,c=a&&a.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,i,l;return t=e,(i=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,i=""+t.data;t=t.next;)i+=e+t.data;return i}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t,i,n,r=s.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,i=r,n=a,s.prototype.copy.call(t,i,n),a+=o.data.length,o=o.next;return r}},{key:"consume",value:function(e,t){var i;return e<this.head.data.length?(i=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):i=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,i=1,n=t.data;for(e-=n.length;t=t.next;){var r=t.data,o=e>r.length?r.length:e;if(o===r.length?n+=r:n+=r.slice(0,e),0==(e-=o)){o===r.length?(++i,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=r.slice(o));break}++i}return this.length-=i,n}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),i=this.head,n=1;for(i.data.copy(t),e-=i.data.length;i=i.next;){var r=i.data,o=e>r.length?r.length:e;if(r.copy(t,t.length-e,0,o),0==(e-=o)){o===r.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=r.slice(o));break}++n}return this.length-=n,t}},{key:c,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&o(t.prototype,i),l&&o(t,l),e}()},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}}},function(e,t,i){var n=i(6),r=n.Buffer;function o(e,t){for(var i in e)t[i]=e[i]}function s(e,t,i){return r(e,t,i)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),o(r,s),s.from=function(e,t,i){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,i)},s.alloc=function(e,t,i){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=r(e);return void 0!==t?"string"==typeof i?n.fill(t,i):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,i){"use strict";var n;function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var o=i(60),s=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),d=Symbol("lastPromise"),u=Symbol("handlePromise"),h=Symbol("stream");function p(e,t){return{value:e,done:t}}function f(e){var t=e[s];if(null!==t){var i=e[h].read();null!==i&&(e[d]=null,e[s]=null,e[a]=null,t(p(i,!1)))}}function A(e){process.nextTick(f,e)}var m=Object.getPrototypeOf((function(){})),g=Object.setPrototypeOf((r(n={get stream(){return this[h]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise((function(t,i){process.nextTick((function(){e[c]?i(e[c]):t(p(void 0,!0))}))}));var i,n=this[d];if(n)i=new Promise(function(e,t){return function(i,n){e.then((function(){t[l]?i(p(void 0,!0)):t[u](i,n)}),n)}}(n,this));else{var r=this[h].read();if(null!==r)return Promise.resolve(p(r,!1));i=new Promise(this[u])}return this[d]=i,i}},Symbol.asyncIterator,(function(){return this})),r(n,"return",(function(){var e=this;return new Promise((function(t,i){e[h].destroy(null,(function(e){e?i(e):t(p(void 0,!0))}))}))})),n),m);e.exports=function(e){var t,i=Object.create(g,(r(t={},h,{value:e,writable:!0}),r(t,s,{value:null,writable:!0}),r(t,a,{value:null,writable:!0}),r(t,c,{value:null,writable:!0}),r(t,l,{value:e._readableState.endEmitted,writable:!0}),r(t,u,{value:function(e,t){var n=i[h].read();n?(i[d]=null,i[s]=null,i[a]=null,e(p(n,!1))):(i[s]=e,i[a]=t)},writable:!0}),t));return i[d]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=i[a];return null!==t&&(i[d]=null,i[s]=null,i[a]=null,t(e)),void(i[c]=e)}var n=i[s];null!==n&&(i[d]=null,i[s]=null,i[a]=null,n(p(void 0,!0))),i[l]=!0})),e.on("readable",A.bind(null,i)),i}},function(e,t,i){"use strict";function n(e,t,i,n,r,o,s){try{var a=e[o](s),c=a.value}catch(e){return void i(e)}a.done?t(c):Promise.resolve(c).then(n,r)}function r(e){return function(){var t=this,i=arguments;return new Promise((function(r,o){var s=e.apply(t,i);function a(e){n(s,r,o,a,c,"next",e)}function c(e){n(s,r,o,a,c,"throw",e)}a(void 0)}))}}function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var a=i(20).codes.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,i){var n;if(t&&"function"==typeof t.next)n=t;else if(t&&t[Symbol.asyncIterator])n=t[Symbol.asyncIterator]();else{if(!t||!t[Symbol.iterator])throw new a("iterable",["Iterable"],t);n=t[Symbol.iterator]()}var c=new e(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){s(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({objectMode:!0},i)),l=!1;function d(){return u.apply(this,arguments)}function u(){return(u=r((function*(){try{var e=yield n.next(),t=e.value;e.done?c.push(null):c.push(yield t)?d():l=!1}catch(e){c.destroy(e)}}))).apply(this,arguments)}return c._read=function(){l||(l=!0,d())},c}},function(e,t,i){"use strict";e.exports=r;var n=i(90);function r(e){if(!(this instanceof r))return new r(e);n.call(this,e)}i(12)(r,n),r.prototype._transform=function(e,t,i){i(null,e)}},function(e,t,i){"use strict";var n;var r=i(20).codes,o=r.ERR_MISSING_ARGS,s=r.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e,t,r,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===n&&(n=i(60)),n(e,{readable:t,writable:r},(function(e){if(e)return o(e);a=!0,o()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}function l(e){e()}function d(e,t){return e.pipe(t)}function u(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n,r=u(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var s=t.map((function(e,i){var o=i<t.length-1;return c(e,o,i>0,(function(e){n||(n=e),e&&s.forEach(l),o||(s.forEach(l),r(n))}))}));return t.reduce(d)}},function(e,t,i){"use strict";const{Buffer:n}=i(6),r=Symbol.for("BufferList");function o(e){if(!(this instanceof o))return new o(e);o._init.call(this,e)}o._init=function(e){Object.defineProperty(this,r,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},o.prototype._new=function(e){return new o(e)},o.prototype._offset=function(e){if(0===e)return[0,0];let t=0;for(let i=0;i<this._bufs.length;i++){const n=t+this._bufs[i].length;if(e<n||i===this._bufs.length-1)return[i,e-t];t=n}},o.prototype._reverseOffset=function(e){const t=e[0];let i=e[1];for(let e=0;e<t;e++)i+=this._bufs[e].length;return i},o.prototype.get=function(e){if(e>this.length||e<0)return;const t=this._offset(e);return this._bufs[t[0]][t[1]]},o.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},o.prototype.copy=function(e,t,i,r){if(("number"!=typeof i||i<0)&&(i=0),("number"!=typeof r||r>this.length)&&(r=this.length),i>=this.length)return e||n.alloc(0);if(r<=0)return e||n.alloc(0);const o=!!e,s=this._offset(i),a=r-i;let c=a,l=o&&t||0,d=s[1];if(0===i&&r===this.length){if(!o)return 1===this._bufs.length?this._bufs[0]:n.concat(this._bufs,this.length);for(let t=0;t<this._bufs.length;t++)this._bufs[t].copy(e,l),l+=this._bufs[t].length;return e}if(c<=this._bufs[s[0]].length-d)return o?this._bufs[s[0]].copy(e,t,d,d+c):this._bufs[s[0]].slice(d,d+c);o||(e=n.allocUnsafe(a));for(let t=s[0];t<this._bufs.length;t++){const i=this._bufs[t].length-d;if(!(c>i)){this._bufs[t].copy(e,l,d,d+c),l+=i;break}this._bufs[t].copy(e,l,d),l+=i,c-=i,d&&(d=0)}return e.length>l?e.slice(0,l):e},o.prototype.shallowSlice=function(e,t){if(e=e||0,t="number"!=typeof t?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();const i=this._offset(e),n=this._offset(t),r=this._bufs.slice(i[0],n[0]+1);return 0===n[1]?r.pop():r[r.length-1]=r[r.length-1].slice(0,n[1]),0!==i[1]&&(r[0]=r[0].slice(i[1])),this._new(r)},o.prototype.toString=function(e,t,i){return this.slice(t,i).toString(e)},o.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},o.prototype.duplicate=function(){const e=this._new();for(let t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},o.prototype.append=function(e){if(null==e)return this;if(e.buffer)this._appendBuffer(n.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(let t=0;t<e._bufs.length;t++)this.append(e._bufs[t]);else"number"==typeof e&&(e=e.toString()),this._appendBuffer(n.from(e));return this},o.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},o.prototype.indexOf=function(e,t,i){if(void 0===i&&"string"==typeof t&&(i=t,t=void 0),"function"==typeof e||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof e?e=n.from([e]):"string"==typeof e?e=n.from(e,i):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=n.from(e.buffer,e.byteOffset,e.byteLength):n.isBuffer(e)||(e=n.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;const r=this._offset(t);let o=r[0],s=r[1];for(;o<this._bufs.length;o++){const t=this._bufs[o];for(;s<t.length;){if(t.length-s>=e.length){const i=t.indexOf(e,s);if(-1!==i)return this._reverseOffset([o,i]);s=t.length-e.length+1}else{const t=this._reverseOffset([o,s]);if(this._match(t,e))return t;s++}}s=0}return-1},o.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(let i=0;i<t.length;i++)if(this.get(e+i)!==t[i])return!1;return!0},function(){const e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const t in e)!function(t){o.prototype[t]=null===e[t]?function(e,i){return this.slice(e,e+i)[t](0,i)}:function(i=0){return this.slice(i,i+e[t])[t](0)}}(t)}(),o.prototype._isBufferList=function(e){return e instanceof o||o.isBufferList(e)},o.isBufferList=function(e){return null!=e&&e[r]},e.exports=o},function(e,t,i){"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=i(6).Buffer,a=i(1).inspect,c=a&&a.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,i,l;return t=e,(i=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,i=""+t.data;t=t.next;)i+=e+t.data;return i}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t,i,n,r=s.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,i=r,n=a,s.prototype.copy.call(t,i,n),a+=o.data.length,o=o.next;return r}},{key:"consume",value:function(e,t){var i;return e<this.head.data.length?(i=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):i=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,i=1,n=t.data;for(e-=n.length;t=t.next;){var r=t.data,o=e>r.length?r.length:e;if(o===r.length?n+=r:n+=r.slice(0,e),0==(e-=o)){o===r.length?(++i,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=r.slice(o));break}++i}return this.length-=i,n}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),i=this.head,n=1;for(i.data.copy(t),e-=i.data.length;i=i.next;){var r=i.data,o=e>r.length?r.length:e;if(r.copy(t,t.length-e,0,o),0==(e-=o)){o===r.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=r.slice(o));break}++n}return this.length-=n,t}},{key:c,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&o(t.prototype,i),l&&o(t,l),e}()},function(e,t,i){"use strict";var n;function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var o=i(61),s=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),d=Symbol("lastPromise"),u=Symbol("handlePromise"),h=Symbol("stream");function p(e,t){return{value:e,done:t}}function f(e){var t=e[s];if(null!==t){var i=e[h].read();null!==i&&(e[d]=null,e[s]=null,e[a]=null,t(p(i,!1)))}}function A(e){process.nextTick(f,e)}var m=Object.getPrototypeOf((function(){})),g=Object.setPrototypeOf((r(n={get stream(){return this[h]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise((function(t,i){process.nextTick((function(){e[c]?i(e[c]):t(p(void 0,!0))}))}));var i,n=this[d];if(n)i=new Promise(function(e,t){return function(i,n){e.then((function(){t[l]?i(p(void 0,!0)):t[u](i,n)}),n)}}(n,this));else{var r=this[h].read();if(null!==r)return Promise.resolve(p(r,!1));i=new Promise(this[u])}return this[d]=i,i}},Symbol.asyncIterator,(function(){return this})),r(n,"return",(function(){var e=this;return new Promise((function(t,i){e[h].destroy(null,(function(e){e?i(e):t(p(void 0,!0))}))}))})),n),m);e.exports=function(e){var t,i=Object.create(g,(r(t={},h,{value:e,writable:!0}),r(t,s,{value:null,writable:!0}),r(t,a,{value:null,writable:!0}),r(t,c,{value:null,writable:!0}),r(t,l,{value:e._readableState.endEmitted,writable:!0}),r(t,u,{value:function(e,t){var n=i[h].read();n?(i[d]=null,i[s]=null,i[a]=null,e(p(n,!1))):(i[s]=e,i[a]=t)},writable:!0}),t));return i[d]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=i[a];return null!==t&&(i[d]=null,i[s]=null,i[a]=null,t(e)),void(i[c]=e)}var n=i[s];null!==n&&(i[d]=null,i[s]=null,i[a]=null,n(p(void 0,!0))),i[l]=!0})),e.on("readable",A.bind(null,i)),i}},function(e,t,i){"use strict";function n(e,t,i,n,r,o,s){try{var a=e[o](s),c=a.value}catch(e){return void i(e)}a.done?t(c):Promise.resolve(c).then(n,r)}function r(e){return function(){var t=this,i=arguments;return new Promise((function(r,o){var s=e.apply(t,i);function a(e){n(s,r,o,a,c,"next",e)}function c(e){n(s,r,o,a,c,"throw",e)}a(void 0)}))}}function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var a=i(21).codes.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,i){var n;if(t&&"function"==typeof t.next)n=t;else if(t&&t[Symbol.asyncIterator])n=t[Symbol.asyncIterator]();else{if(!t||!t[Symbol.iterator])throw new a("iterable",["Iterable"],t);n=t[Symbol.iterator]()}var c=new e(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){s(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({objectMode:!0},i)),l=!1;function d(){return u.apply(this,arguments)}function u(){return(u=r((function*(){try{var e=yield n.next(),t=e.value;e.done?c.push(null):c.push(yield t)?d():l=!1}catch(e){c.destroy(e)}}))).apply(this,arguments)}return c._read=function(){l||(l=!0,d())},c}},function(e,t,i){"use strict";e.exports=r;var n=i(97);function r(e){if(!(this instanceof r))return new r(e);n.call(this,e)}i(12)(r,n),r.prototype._transform=function(e,t,i){i(null,e)}},function(e,t,i){"use strict";var n;var r=i(21).codes,o=r.ERR_MISSING_ARGS,s=r.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e,t,r,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===n&&(n=i(61)),n(e,{readable:t,writable:r},(function(e){if(e)return o(e);a=!0,o()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}function l(e){e()}function d(e,t){return e.pipe(t)}function u(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n,r=u(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var s=t.map((function(e,i){var o=i<t.length-1;return c(e,o,i>0,(function(e){n||(n=e),e&&s.forEach(l),o||(s.forEach(l),r(n))}))}));return t.reduce(d)}},function(e,t,i){var n=i(205),r=i(99),o=i(12),s=Buffer.alloc,a=i(48).Readable,c=i(48).Writable,l=i(101).StringDecoder,d=i(91),u=parseInt("755",8),h=parseInt("644",8),p=s(1024),f=function(){},A=function(e,t){(t&=511)&&e.push(p.slice(0,512-t))};var m=function(e){c.call(this),this.written=0,this._to=e,this._destroyed=!1};o(m,c),m.prototype._write=function(e,t,i){if(this.written+=e.length,this._to.push(e))return i();this._to._drain=i},m.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var g=function(){c.call(this),this.linkname="",this._decoder=new l("utf-8"),this._destroyed=!1};o(g,c),g.prototype._write=function(e,t,i){this.linkname+=this._decoder.write(e),i()},g.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var y=function(){c.call(this),this._destroyed=!1};o(y,c),y.prototype._write=function(e,t,i){i(new Error("No body allowed for this entry"))},y.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var _=function(e){if(!(this instanceof _))return new _(e);a.call(this,e),this._drain=f,this._finalized=!1,this._finalizing=!1,this._destroyed=!1,this._stream=null};o(_,a),_.prototype.entry=function(e,t,i){if(this._stream)throw new Error("already piping an entry");if(!this._finalized&&!this._destroyed){"function"==typeof t&&(i=t,t=null),i||(i=f);var o=this;if(e.size&&"symlink"!==e.type||(e.size=0),e.type||(e.type=function(e){switch(e&n.S_IFMT){case n.S_IFBLK:return"block-device";case n.S_IFCHR:return"character-device";case n.S_IFDIR:return"directory";case n.S_IFIFO:return"fifo";case n.S_IFLNK:return"symlink"}return"file"}(e.mode)),e.mode||(e.mode="directory"===e.type?u:h),e.uid||(e.uid=0),e.gid||(e.gid=0),e.mtime||(e.mtime=new Date),"string"==typeof t&&(t=Buffer.from(t)),Buffer.isBuffer(t)){e.size=t.length,this._encode(e);var s=this.push(t);return A(o,e.size),s?process.nextTick(i):this._drain=i,new y}if("symlink"===e.type&&!e.linkname){var a=new g;return r(a,(function(t){if(t)return o.destroy(),i(t);e.linkname=a.linkname,o._encode(e),i()})),a}if(this._encode(e),"file"!==e.type&&"contiguous-file"!==e.type)return process.nextTick(i),new y;var c=new m(this);return this._stream=c,r(c,(function(t){return o._stream=null,t?(o.destroy(),i(t)):c.written!==e.size?(o.destroy(),i(new Error("size mismatch"))):(A(o,e.size),o._finalizing&&o.finalize(),void i())})),c}},_.prototype.finalize=function(){this._stream?this._finalizing=!0:this._finalized||(this._finalized=!0,this.push(p),this.push(null))},_.prototype.destroy=function(e){this._destroyed||(this._destroyed=!0,e&&this.emit("error",e),this.emit("close"),this._stream&&this._stream.destroy&&this._stream.destroy())},_.prototype._encode=function(e){if(!e.pax){var t=d.encode(e);if(t)return void this.push(t)}this._encodePax(e)},_.prototype._encodePax=function(e){var t=d.encodePax({name:e.name,linkname:e.linkname,pax:e.pax}),i={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:t.length,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};this.push(d.encode(i)),this.push(t),A(this,t.length),i.size=e.size,i.type=e.type,this.push(d.encode(i))},_.prototype._read=function(e){var t=this._drain;this._drain=f,t()},e.exports=_},function(e,t,i){e.exports=i(2).constants||i(98)},function(e,t){e.exports=function e(t,i){if(t&&i)return e(t)(i);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){n[e]=t[e]})),n;function n(){for(var e=new Array(arguments.length),i=0;i<e.length;i++)e[i]=arguments[i];var n=t.apply(this,e),r=e[e.length-1];return"function"==typeof n&&n!==r&&Object.keys(r).forEach((function(e){n[e]=r[e]})),n}}},function(e,t,i){var n=i(100),r=i(99),o=i(2),s=function(){},a=/^v?\.0/.test(process.version),c=function(e){return"function"==typeof e},l=function(e,t,i,l){l=n(l);var d=!1;e.on("close",(function(){d=!0})),r(e,{readable:t,writable:i},(function(e){if(e)return l(e);d=!0,l()}));var u=!1;return function(t){if(!d&&!u)return u=!0,function(e){return!!a&&(!!o&&((e instanceof(o.ReadStream||s)||e instanceof(o.WriteStream||s))&&c(e.close)))}(e)?e.close(s):function(e){return e.setHeader&&c(e.abort)}(e)?e.abort():c(e.destroy)?e.destroy():void l(t||new Error("stream was destroyed"))}},d=function(e){e()},u=function(e,t){return e.pipe(t)};e.exports=function(){var e,t=Array.prototype.slice.call(arguments),i=c(t[t.length-1]||s)&&t.pop()||s;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var n=t.map((function(r,o){var s=o<t.length-1;return l(r,s,o>0,(function(t){e||(e=t),t&&n.forEach(d),s||(n.forEach(d),i(e))}))}));return t.reduce(u)}},function(e,t,i){var n=i(3),r=i(2),o=parseInt("0777",8);function s(e,t,i,a){"function"==typeof t?(i=t,t={}):t&&"object"==typeof t||(t={mode:t});var c=t.mode,l=t.fs||r;void 0===c&&(c=o&~process.umask()),a||(a=null);var d=i||function(){};e=n.resolve(e),l.mkdir(e,c,(function(i){if(!i)return d(null,a=a||e);switch(i.code){case"ENOENT":s(n.dirname(e),t,(function(i,n){i?d(i,n):s(e,t,d,n)}));break;default:l.stat(e,(function(e,t){e||!t.isDirectory()?d(i,a):d(null,a)}))}}))}e.exports=s.mkdirp=s.mkdirP=s,s.sync=function e(t,i,s){i&&"object"==typeof i||(i={mode:i});var a=i.mode,c=i.fs||r;void 0===a&&(a=o&~process.umask()),s||(s=null),t=n.resolve(t);try{c.mkdirSync(t,a),s=s||t}catch(r){switch(r.code){case"ENOENT":s=e(n.dirname(t),i,s),e(t,i,s);break;default:var l;try{l=c.statSync(t)}catch(e){throw r}if(!l.isDirectory())throw r}}return s}},function(e,t,i){var n={"./Browser":102,"./Browser.d":110,"./Browser.d.ts":110,"./Browser.js":102,"./Browser.js.map":252,"./BrowserContext":111,"./BrowserContext.d":112,"./BrowserContext.d.ts":112,"./BrowserContext.js":111,"./BrowserContext.js.map":253,"./ElementHandle":113,"./ElementHandle.d":114,"./ElementHandle.d.ts":114,"./ElementHandle.js":113,"./ElementHandle.js.map":254,"./FrameManager":115,"./FrameManager.d":116,"./FrameManager.d.ts":116,"./FrameManager.js":115,"./FrameManager.js.map":255,"./Page":117,"./Page.d":118,"./Page.d.ts":118,"./Page.js":117,"./Page.js.map":256};function r(e){var t=o(e);return i(t)}function o(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id=209},function(e,t,i){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const i="color: "+this.color;t.splice(1,0,i,"color: inherit");let n=0,r=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(r=n))}),t.splice(r,0,i)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=i(103)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},function(e,t){var i=1e3,n=6e4,r=60*n,o=24*r;function s(e,t,i,n){var r=t>=1.5*i;return Math.round(e/i)+" "+n+(r?"s":"")}e.exports=function(e,t){t=t||{};var a=typeof e;if("string"===a&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===a&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=o)return s(e,t,o,"day");if(t>=r)return s(e,t,r,"hour");if(t>=n)return s(e,t,n,"minute");if(t>=i)return s(e,t,i,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=o)return Math.round(e/o)+"d";if(t>=r)return Math.round(e/r)+"h";if(t>=n)return Math.round(e/n)+"m";if(t>=i)return Math.round(e/i)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,i){const n=i(213),r=i(1);t.init=function(e){e.inspectOpts={};const i=Object.keys(t.inspectOpts);for(let n=0;n<i.length;n++)e.inspectOpts[i[n]]=t.inspectOpts[i[n]]},t.log=function(...e){return process.stderr.write(r.format(...e)+"\n")},t.formatArgs=function(i){const{namespace:n,useColors:r}=this;if(r){const t=this.color,r="[3"+(t<8?t:"8;5;"+t),o=`  ${r};1m${n} [0m`;i[0]=o+i[0].split("\n").join("\n"+o),i.push(r+"m+"+e.exports.humanize(this.diff)+"[0m")}else i[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+n+" "+i[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.destroy=r.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=i(214);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const i=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase());let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[i]=n,e},{}),e.exports=i(103)(t);const{formatters:o}=e.exports;o.o=function(e){return this.inspectOpts.colors=this.useColors,r.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},o.O=function(e){return this.inspectOpts.colors=this.useColors,r.inspect(e,this.inspectOpts)}},function(e,t){e.exports=require("tty")},function(e,t,i){"use strict";const n=i(16),r=i(215),o=process.env;let s;function a(e){return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(function(e){if(!1===s)return 0;if(r("color=16m")||r("color=full")||r("color=truecolor"))return 3;if(r("color=256"))return 2;if(e&&!e.isTTY&&!0!==s)return 0;const t=s?1:0;if("win32"===process.platform){const e=n.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(e=>e in o)||"codeship"===o.CI_NAME?1:t;if("TEAMCITY_VERSION"in o)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0;if("truecolor"===o.COLORTERM)return 3;if("TERM_PROGRAM"in o){const e=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)||"COLORTERM"in o?1:(o.TERM,t)}(e))}r("no-color")||r("no-colors")||r("color=false")?s=!1:(r("color")||r("colors")||r("color=true")||r("color=always"))&&(s=!0),"FORCE_COLOR"in o&&(s=0===o.FORCE_COLOR.length||0!==parseInt(o.FORCE_COLOR,10)),e.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},function(e,t,i){"use strict";e.exports=(e,t)=>{t=t||process.argv;const i=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(i+e),r=t.indexOf("--");return-1!==n&&(-1===r||n<r)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Target=void 0;const n=i(104),r=i(106);t.Target=class{constructor(e,t,i,n,r){this._targetInfo=e,this._browserContext=t,this._targetId=e.targetId,this._sessionFactory=i,this._ignoreHTTPSErrors=n,this._defaultViewport=r,this._pagePromise=null,this._workerPromise=null,this._initializedPromise=new Promise(e=>this._initializedCallback=e).then(async e=>{if(!e)return!1;const t=this.opener();if(!t||!t._pagePromise||"page"!==this.type())return!0;const i=await t._pagePromise;if(!i.listenerCount("popup"))return!0;const n=await this.page();return i.emit("popup",n),!0}),this._isClosedPromise=new Promise(e=>this._closedCallback=e),this._isInitialized="page"!==this._targetInfo.type||""!==this._targetInfo.url,this._isInitialized&&this._initializedCallback(!0)}createCDPSession(){return this._sessionFactory()}async page(){return"page"!==this._targetInfo.type&&"background_page"!==this._targetInfo.type&&"webview"!==this._targetInfo.type||this._pagePromise||(this._pagePromise=this._sessionFactory().then(e=>n.Page.create(e,this,this._ignoreHTTPSErrors,this._defaultViewport))),this._pagePromise}async worker(){return"service_worker"!==this._targetInfo.type&&"shared_worker"!==this._targetInfo.type?null:(this._workerPromise||(this._workerPromise=this._sessionFactory().then(e=>new r.WebWorker(e,this._targetInfo.url,()=>{},()=>{}))),this._workerPromise)}url(){return this._targetInfo.url}type(){const e=this._targetInfo.type;return"page"===e||"background_page"===e||"service_worker"===e||"shared_worker"===e||"browser"===e||"webview"===e?e:"other"}browser(){return this._browserContext.browser()}browserContext(){return this._browserContext}opener(){const{openerId:e}=this._targetInfo;return e?this.browser()._targets.get(e):null}_targetInfoChanged(e){if(this._targetInfo=e,!this._isInitialized&&("page"!==this._targetInfo.type||""!==this._targetInfo.url))return this._isInitialized=!0,void this._initializedCallback(!0)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{all:e=e||new Map,on(t,i){const n=e.get(t);n&&n.push(i)||e.set(t,[i])},off(t,i){const n=e.get(t);n&&n.splice(n.indexOf(i)>>>0,1)},emit(t,i){(e.get(t)||[]).slice().map(e=>{e(i)}),(e.get("*")||[]).slice().map(e=>{e(t,i)})}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Dialog=void 0;const n=i(4);t.Dialog=class{constructor(e,t,i,n=""){this._handled=!1,this._client=e,this._type=t,this._message=i,this._defaultValue=n}type(){return this._type}message(){return this._message}defaultValue(){return this._defaultValue}async accept(e){n.assert(!this._handled,"Cannot accept dialog which is already handled!"),this._handled=!0,await this._client.send("Page.handleJavaScriptDialog",{accept:!0,promptText:e})}async dismiss(){n.assert(!this._handled,"Cannot dismiss dialog which is already handled!"),this._handled=!0,await this._client.send("Page.handleJavaScriptDialog",{accept:!1})}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EmulationManager=void 0;t.EmulationManager=class{constructor(e){this._emulatingMobile=!1,this._hasTouch=!1,this._client=e}async emulateViewport(e){const t=e.isMobile||!1,i=e.width,n=e.height,r=e.deviceScaleFactor||1,o=e.isLandscape?{angle:90,type:"landscapePrimary"}:{angle:0,type:"portraitPrimary"},s=e.hasTouch||!1;await Promise.all([this._client.send("Emulation.setDeviceMetricsOverride",{mobile:t,width:i,height:n,deviceScaleFactor:r,screenOrientation:o}),this._client.send("Emulation.setTouchEmulationEnabled",{enabled:s})]);const a=this._emulatingMobile!==t||this._hasTouch!==s;return this._emulatingMobile=t,this._hasTouch=s,a}}},function(e,t,i){"use strict";async function n(e,t,i,n){const{nodes:r}=await e.send("Accessibility.queryAXTree",{objectId:t._remoteObject.objectId,accessibleName:i,role:n});return r.filter(e=>"text"!==e.role.value)}function r(e){const t=e=>e.replace(/ +/g," ").trim(),i=new Set(["name","role"]),n={},r=e.replace(/\[\s*(?<attribute>\w+)\s*=\s*"(?<value>\\.|[^"\\]*)"\s*\]/,(e,r,o)=>{if(r=r.trim(),!i.has(r))throw new Error('Unkown aria attribute "${groups.attribute}" in selector');return n[r]=t(o),""});return r&&!n.name&&(n.name=t(r)),n}Object.defineProperty(t,"__esModule",{value:!0}),t.ariaHandler=void 0;const o=async(e,t)=>{const i=e.executionContext(),{name:o,role:s}=r(t),a=await n(i._client,e,o,s);return a.length<1?null:i._adoptBackendNodeId(a[0].backendDOMNodeId)},s=async(e,t)=>{const i=e.executionContext(),{name:o,role:s}=r(t),a=await n(i._client,e,o,s);return Promise.all(a.map(e=>i._adoptBackendNodeId(e.backendDOMNodeId)))};t.ariaHandler={queryOne:o,waitFor:async(e,t,i)=>{const n={name:"ariaQuerySelector",pptrFunction:async t=>{const i=await e._document();return await o(i,t)}};return e.waitForSelectorInPage((e,t)=>globalThis.ariaQuerySelector(t),t,i,n)},queryAll:s,queryAllArray:async(e,t)=>{const i=await s(e,t);return e.executionContext().evaluateHandle((...e)=>e,...i)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HTTPRequest=void 0;const n=i(4),r=i(8);t.HTTPRequest=class{constructor(e,t,i,n,r,o){this._failureText=null,this._response=null,this._fromMemoryCache=!1,this._interceptionHandled=!1,this._headers={},this._client=e,this._requestId=r.requestId,this._isNavigationRequest=r.requestId===r.loaderId&&"Document"===r.type,this._interceptionId=i,this._allowInterception=n,this._url=r.request.url,this._resourceType=r.type.toLowerCase(),this._method=r.request.method,this._postData=r.request.postData,this._frame=t,this._redirectChain=o;for(const e of Object.keys(r.request.headers))this._headers[e.toLowerCase()]=r.request.headers[e]}url(){return this._url}resourceType(){return this._resourceType}method(){return this._method}postData(){return this._postData}headers(){return this._headers}response(){return this._response}frame(){return this._frame}isNavigationRequest(){return this._isNavigationRequest}redirectChain(){return this._redirectChain.slice()}failure(){return this._failureText?{errorText:this._failureText}:null}async continue(e={}){if(this._url.startsWith("data:"))return;n.assert(this._allowInterception,"Request Interception is not enabled!"),n.assert(!this._interceptionHandled,"Request is already handled!");const{url:t,method:i,postData:o,headers:a}=e;this._interceptionHandled=!0;const c=o?Buffer.from(o).toString("base64"):void 0;await this._client.send("Fetch.continueRequest",{requestId:this._interceptionId,url:t,method:i,postData:c,headers:a?s(a):void 0}).catch(e=>{r.debugError(e)})}async respond(e){if(this._url.startsWith("data:"))return;n.assert(this._allowInterception,"Request Interception is not enabled!"),n.assert(!this._interceptionHandled,"Request is already handled!"),this._interceptionHandled=!0;const t=e.body&&r.helper.isString(e.body)?Buffer.from(e.body):e.body||null,i={};if(e.headers)for(const t of Object.keys(e.headers))i[t.toLowerCase()]=e.headers[t];e.contentType&&(i["content-type"]=e.contentType),t&&!("content-length"in i)&&(i["content-length"]=String(Buffer.byteLength(t))),await this._client.send("Fetch.fulfillRequest",{requestId:this._interceptionId,responseCode:e.status||200,responsePhrase:a[e.status||200],responseHeaders:s(i),body:t?t.toString("base64"):void 0}).catch(e=>{r.debugError(e)})}async abort(e="failed"){if(this._url.startsWith("data:"))return;const t=o[e];n.assert(t,"Unknown error code: "+e),n.assert(this._allowInterception,"Request Interception is not enabled!"),n.assert(!this._interceptionHandled,"Request is already handled!"),this._interceptionHandled=!0,await this._client.send("Fetch.failRequest",{requestId:this._interceptionId,errorReason:t}).catch(e=>{r.debugError(e)})}};const o={aborted:"Aborted",accessdenied:"AccessDenied",addressunreachable:"AddressUnreachable",blockedbyclient:"BlockedByClient",blockedbyresponse:"BlockedByResponse",connectionaborted:"ConnectionAborted",connectionclosed:"ConnectionClosed",connectionfailed:"ConnectionFailed",connectionrefused:"ConnectionRefused",connectionreset:"ConnectionReset",internetdisconnected:"InternetDisconnected",namenotresolved:"NameNotResolved",timedout:"TimedOut",failed:"Failed"};function s(e){const t=[];for(const i in e)Object.is(e[i],void 0)||t.push({name:i,value:e[i]+""});return t}const a={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"Switch Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HTTPResponse=void 0;const n=i(223);t.HTTPResponse=class{constructor(e,t,i){this._contentPromise=null,this._headers={},this._client=e,this._request=t,this._bodyLoadedPromise=new Promise(e=>{this._bodyLoadedPromiseFulfill=e}),this._remoteAddress={ip:i.remoteIPAddress,port:i.remotePort},this._status=i.status,this._statusText=i.statusText,this._url=t.url(),this._fromDiskCache=!!i.fromDiskCache,this._fromServiceWorker=!!i.fromServiceWorker;for(const e of Object.keys(i.headers))this._headers[e.toLowerCase()]=i.headers[e];this._securityDetails=i.securityDetails?new n.SecurityDetails(i.securityDetails):null}_resolveBody(e){return this._bodyLoadedPromiseFulfill(e)}remoteAddress(){return this._remoteAddress}url(){return this._url}ok(){return 0===this._status||this._status>=200&&this._status<=299}status(){return this._status}statusText(){return this._statusText}headers(){return this._headers}securityDetails(){return this._securityDetails}buffer(){return this._contentPromise||(this._contentPromise=this._bodyLoadedPromise.then(async e=>{if(e)throw e;const t=await this._client.send("Network.getResponseBody",{requestId:this._request._requestId});return Buffer.from(t.body,t.base64Encoded?"base64":"utf8")})),this._contentPromise}async text(){return(await this.buffer()).toString("utf8")}async json(){const e=await this.text();return JSON.parse(e)}request(){return this._request}fromCache(){return this._fromDiskCache||this._request._fromMemoryCache}fromServiceWorker(){return this._fromServiceWorker}frame(){return this._request.frame()}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SecurityDetails=void 0;t.SecurityDetails=class{constructor(e){this._subjectName=e.subjectName,this._issuer=e.issuer,this._validFrom=e.validFrom,this._validTo=e.validTo,this._protocol=e.protocol,this._sanList=e.sanList}issuer(){return this._issuer}validFrom(){return this._validFrom}validTo(){return this._validTo}protocol(){return this._protocol}subjectName(){return this._subjectName}subjectAlternativeNames(){return this._sanList}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WaitTask=t.DOMWorld=void 0;const n=i(4),r=i(8),o=i(105),s=i(37),a=i(64),c=i(18);class l{constructor(e,t,i){this._documentPromise=null,this._contextPromise=null,this._contextResolveCallback=null,this._detached=!1,this._waitTasks=new Set,this._boundFunctions=new Map,this._ctxBindings=new Set,this._settingUpBinding=null,this._frameManager=e,this._frame=t,this._timeoutSettings=i,this._setContext(null),e._client.on("Runtime.bindingCalled",e=>this._onBindingCalled(e))}frame(){return this._frame}async _setContext(e){if(e){this._ctxBindings.clear(),this._contextResolveCallback.call(null,e),this._contextResolveCallback=null;for(const e of this._waitTasks)e.rerun()}else this._documentPromise=null,this._contextPromise=new Promise(e=>{this._contextResolveCallback=e})}_hasContext(){return!this._contextResolveCallback}_detach(){this._detached=!0;for(const e of this._waitTasks)e.terminate(new Error("waitForFunction failed: frame got detached."))}executionContext(){if(this._detached)throw new Error(`Execution context is not available in detached frame "${this._frame.url()}" (are you trying to evaluate?)`);return this._contextPromise}async evaluateHandle(e,...t){return(await this.executionContext()).evaluateHandle(e,...t)}async evaluate(e,...t){return(await this.executionContext()).evaluate(e,...t)}async $(e){const t=await this._document();return await t.$(e)}async _document(){return this._documentPromise||(this._documentPromise=this.executionContext().then(async e=>(await e.evaluateHandle("document")).asElement())),this._documentPromise}async $x(e){const t=await this._document();return await t.$x(e)}async $eval(e,t,...i){return(await this._document()).$eval(e,t,...i)}async $$eval(e,t,...i){const n=await this._document();return await n.$$eval(e,t,...i)}async $$(e){const t=await this._document();return await t.$$(e)}async content(){return await this.evaluate(()=>{let e="";return document.doctype&&(e=(new XMLSerializer).serializeToString(document.doctype)),document.documentElement&&(e+=document.documentElement.outerHTML),e})}async setContent(e,t={}){const{waitUntil:i=["load"],timeout:n=this._timeoutSettings.navigationTimeout()}=t;await this.evaluate(e=>{document.open(),document.write(e),document.close()},e);const r=new o.LifecycleWatcher(this._frameManager,this._frame,i,n),s=await Promise.race([r.timeoutOrTerminationPromise(),r.lifecyclePromise()]);if(r.dispose(),s)throw s}async addScriptTag(e){const{url:t=null,path:i=null,content:n=null,type:o=""}=e;if(null!==t)try{const e=await this.executionContext();return(await e.evaluateHandle((async function(e,t){const i=document.createElement("script");i.src=e,t&&(i.type=t);const n=new Promise((e,t)=>{i.onload=e,i.onerror=t});return document.head.appendChild(i),await n,i}),t,o)).asElement()}catch(e){throw new Error(`Loading script from ${t} failed`)}if(null!==i){if(!c.isNode)throw new Error("Cannot pass a filepath to addScriptTag in the browser environment.");const e=await r.helper.importFSModule();let t=await e.promises.readFile(i,"utf8");t+="//# sourceURL="+i.replace(/\n/g,"");const n=await this.executionContext();return(await n.evaluateHandle(s,t,o)).asElement()}if(null!==n){const e=await this.executionContext();return(await e.evaluateHandle(s,n,o)).asElement()}throw new Error("Provide an object with a `url`, `path` or `content` property");function s(e,t="text/javascript"){const i=document.createElement("script");i.type=t,i.text=e;let n=null;if(i.onerror=e=>n=e,document.head.appendChild(i),n)throw n;return i}}async addStyleTag(e){const{url:t=null,path:i=null,content:n=null}=e;if(null!==t)try{const e=await this.executionContext();return(await e.evaluateHandle((async function(e){const t=document.createElement("link");t.rel="stylesheet",t.href=e;const i=new Promise((e,i)=>{t.onload=e,t.onerror=i});return document.head.appendChild(t),await i,t}),t)).asElement()}catch(e){throw new Error(`Loading style from ${t} failed`)}if(null!==i){if(!c.isNode)throw new Error("Cannot pass a filepath to addStyleTag in the browser environment.");const e=await r.helper.importFSModule();let t=await e.promises.readFile(i,"utf8");t+="/*# sourceURL="+i.replace(/\n/g,"")+"*/";const n=await this.executionContext();return(await n.evaluateHandle(o,t)).asElement()}if(null!==n){const e=await this.executionContext();return(await e.evaluateHandle(o,n)).asElement()}throw new Error("Provide an object with a `url`, `path` or `content` property");async function o(e){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(e));const i=new Promise((e,i)=>{t.onload=e,t.onerror=i});return document.head.appendChild(t),await i,t}}async click(e,t){const i=await this.$(e);n.assert(i,"No node found for selector: "+e),await i.click(t),await i.dispose()}async focus(e){const t=await this.$(e);n.assert(t,"No node found for selector: "+e),await t.focus(),await t.dispose()}async hover(e){const t=await this.$(e);n.assert(t,"No node found for selector: "+e),await t.hover(),await t.dispose()}async select(e,...t){const i=await this.$(e);n.assert(i,"No node found for selector: "+e);const r=await i.select(...t);return await i.dispose(),r}async tap(e){const t=await this.$(e);await t.tap(),await t.dispose()}async type(e,t,i){const r=await this.$(e);n.assert(r,"No node found for selector: "+e),await r.type(t,i),await r.dispose()}async waitForSelector(e,t){const{updatedSelector:i,queryHandler:n}=a.getQueryHandlerAndSelector(e);return n.waitFor(this,i,t)}async addBindingToContext(e,t){if(this._ctxBindings.has(l.bindingIdentifier(t,e._contextId)))return;if(this._settingUpBinding)return await this._settingUpBinding,this.addBindingToContext(e,t);this._settingUpBinding=(async t=>{const i=r.helper.pageBindingInitString("internal",t);try{await e._client.send("Runtime.addBinding",{name:t,executionContextName:e._contextName}),await e.evaluate(i)}catch(e){const t=e.message.includes("Execution context was destroyed"),i=e.message.includes("Cannot find context with specified id");return t||i?void 0:void r.debugError(e)}this._ctxBindings.add(l.bindingIdentifier(t,e._contextId))})(t),await this._settingUpBinding,this._settingUpBinding=null}async _onBindingCalled(e){let t;if(!this._hasContext())return;const i=await this.executionContext();try{t=JSON.parse(e.payload)}catch{return}const{type:n,name:o,seq:s,args:a}=t;if("internal"===n&&this._ctxBindings.has(l.bindingIdentifier(o,i._contextId))&&i._contextId===e.executionContextId)try{const e=await this._boundFunctions.get(o)(...a);await i.evaluate((function(e,t,i){globalThis[e].callbacks.get(t).resolve(i),globalThis[e].callbacks.delete(t)}),o,s,e)}catch(e){if(e.message.includes("Protocol error"))return;r.debugError(e)}}async waitForSelectorInPage(e,t,i,n){const{visible:o=!1,hidden:s=!1,timeout:a=this._timeoutSettings.timeout()}=i,c=o||s?"raf":"mutation",l=`selector \`${t}\`${s?" to be hidden":""}`;const u={domWorld:this,predicateBody:r.helper.makePredicateString((async function(e,t,i){const n=predicateQueryHandler?await predicateQueryHandler(document,e):document.querySelector(e);return checkWaitForOptions(n,t,i)}),e),title:l,polling:c,timeout:a,args:[t,o,s],binding:n},h=new d(u),p=await h.promise,f=p.asElement();return f||(await p.dispose(),null)}async waitForXPath(e,t){const{visible:i=!1,hidden:n=!1,timeout:o=this._timeoutSettings.timeout()}=t,s=i||n?"raf":"mutation",a=`XPath \`${e}\`${n?" to be hidden":""}`;const c={domWorld:this,predicateBody:r.helper.makePredicateString((function(e,t,i){const n=document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;return checkWaitForOptions(n,t,i)})),title:a,polling:s,timeout:o,args:[e,i,n]},l=new d(c),u=await l.promise,h=u.asElement();return h||(await u.dispose(),null)}waitForFunction(e,t={},...i){const{polling:n="raf",timeout:r=this._timeoutSettings.timeout()}=t;return new d({domWorld:this,predicateBody:e,title:"function",polling:n,timeout:r,args:i}).promise}async title(){return this.evaluate(()=>document.title)}}t.DOMWorld=l,l.bindingIdentifier=(e,t)=>`${e}_${t}`;class d{constructor(e){if(this._runCount=0,this._terminated=!1,r.helper.isString(e.polling))n.assert("raf"===e.polling||"mutation"===e.polling,"Unknown polling option: "+e.polling);else{if(!r.helper.isNumber(e.polling))throw new Error("Unknown polling options: "+e.polling);n.assert(e.polling>0,"Cannot poll with non-positive interval: "+e.polling)}var t;if(this._domWorld=e.domWorld,this._polling=e.polling,this._timeout=e.timeout,this._predicateBody=(t=e.predicateBody,r.helper.isString(t)?`return (${t});`:`return (${t})(...args);`),this._args=e.args,this._binding=e.binding,this._runCount=0,this._domWorld._waitTasks.add(this),this._binding&&this._domWorld._boundFunctions.set(this._binding.name,this._binding.pptrFunction),this.promise=new Promise((e,t)=>{this._resolve=e,this._reject=t}),e.timeout){const t=new s.TimeoutError(`waiting for ${e.title} failed: timeout ${e.timeout}ms exceeded`);this._timeoutTimer=setTimeout(()=>this.terminate(t),e.timeout)}this.rerun()}terminate(e){this._terminated=!0,this._reject(e),this._cleanup()}async rerun(){const e=++this._runCount;let t=null,i=null;const n=await this._domWorld.executionContext();if(!this._terminated&&e===this._runCount&&(this._binding&&await this._domWorld.addBindingToContext(n,this._binding.name),!this._terminated&&e===this._runCount)){try{t=await n.evaluateHandle(u,this._predicateBody,this._polling,this._timeout,...this._args)}catch(e){i=e}if(this._terminated||e!==this._runCount)t&&await t.dispose();else if(i||!await this._domWorld.evaluate(e=>!e,t).catch(()=>!0)){if(i){if(i.message.includes("TypeError: binding is not a function"))return this.rerun();if(i.message.includes("Execution context is not available in detached frame"))return void this.terminate(new Error("waitForFunction failed: frame got detached."));if(i.message.includes("Execution context was destroyed"))return;if(i.message.includes("Cannot find context with specified id"))return;this._reject(i)}else this._resolve(t);this._cleanup()}else await t.dispose()}}_cleanup(){clearTimeout(this._timeoutTimer),this._domWorld._waitTasks.delete(this)}}async function u(e,t,i,...n){const r=new Function("...args",e);let o=!1;if(i&&setTimeout(()=>o=!0,i),"raf"===t)return await async function(){let e;const t=new Promise(t=>e=t);return await async function t(){if(o)return void e();const i=await r(...n);i?e(i):requestAnimationFrame(t)}(),t}();if("mutation"===t)return await async function(){const e=await r(...n);if(e)return Promise.resolve(e);let t;const i=new Promise(e=>t=e),s=new MutationObserver(async()=>{o&&(s.disconnect(),t());const e=await r(...n);e&&(s.disconnect(),t(e))});return s.observe(document,{childList:!0,subtree:!0,attributes:!0}),i}();if("number"==typeof t)return await async function(e){let t;const i=new Promise(e=>t=e);return await s(),i;async function s(){if(o)return void t();const i=await r(...n);i?t(i):setTimeout(s,e)}}(t)}t.WaitTask=d},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Touchscreen=t.Mouse=t.Keyboard=void 0;const n=i(4),r=i(226);t.Keyboard=class{constructor(e){this._modifiers=0,this._pressedKeys=new Set,this._client=e}async down(e,t={text:void 0}){const i=this._keyDescriptionForString(e),n=this._pressedKeys.has(i.code);this._pressedKeys.add(i.code),this._modifiers|=this._modifierBit(i.key);const r=void 0===t.text?i.text:t.text;await this._client.send("Input.dispatchKeyEvent",{type:r?"keyDown":"rawKeyDown",modifiers:this._modifiers,windowsVirtualKeyCode:i.keyCode,code:i.code,key:i.key,text:r,unmodifiedText:r,autoRepeat:n,location:i.location,isKeypad:3===i.location})}_modifierBit(e){return"Alt"===e?1:"Control"===e?2:"Meta"===e?4:"Shift"===e?8:0}_keyDescriptionForString(e){const t=8&this._modifiers,i={key:"",keyCode:0,code:"",text:"",location:0},o=r.keyDefinitions[e];return n.assert(o,`Unknown key: "${e}"`),o.key&&(i.key=o.key),t&&o.shiftKey&&(i.key=o.shiftKey),o.keyCode&&(i.keyCode=o.keyCode),t&&o.shiftKeyCode&&(i.keyCode=o.shiftKeyCode),o.code&&(i.code=o.code),o.location&&(i.location=o.location),1===i.key.length&&(i.text=i.key),o.text&&(i.text=o.text),t&&o.shiftText&&(i.text=o.shiftText),-9&this._modifiers&&(i.text=""),i}async up(e){const t=this._keyDescriptionForString(e);this._modifiers&=~this._modifierBit(t.key),this._pressedKeys.delete(t.code),await this._client.send("Input.dispatchKeyEvent",{type:"keyUp",modifiers:this._modifiers,key:t.key,windowsVirtualKeyCode:t.keyCode,code:t.code,location:t.location})}async sendCharacter(e){await this._client.send("Input.insertText",{text:e})}charIsKey(e){return!!r.keyDefinitions[e]}async type(e,t={}){const i=t.delay||null;for(const t of e)this.charIsKey(t)?await this.press(t,{delay:i}):(i&&await new Promise(e=>setTimeout(e,i)),await this.sendCharacter(t))}async press(e,t={}){const{delay:i=null}=t;await this.down(e,t),i&&await new Promise(e=>setTimeout(e,t.delay)),await this.up(e)}};t.Mouse=class{constructor(e,t){this._x=0,this._y=0,this._button="none",this._client=e,this._keyboard=t}async move(e,t,i={}){const{steps:n=1}=i,r=this._x,o=this._y;this._x=e,this._y=t;for(let e=1;e<=n;e++)await this._client.send("Input.dispatchMouseEvent",{type:"mouseMoved",button:this._button,x:r+(this._x-r)*(e/n),y:o+(this._y-o)*(e/n),modifiers:this._keyboard._modifiers})}async click(e,t,i={}){const{delay:n=null}=i;null!==n?(await Promise.all([this.move(e,t),this.down(i)]),await new Promise(e=>setTimeout(e,n)),await this.up(i)):await Promise.all([this.move(e,t),this.down(i),this.up(i)])}async down(e={}){const{button:t="left",clickCount:i=1}=e;this._button=t,await this._client.send("Input.dispatchMouseEvent",{type:"mousePressed",button:t,x:this._x,y:this._y,modifiers:this._keyboard._modifiers,clickCount:i})}async up(e={}){const{button:t="left",clickCount:i=1}=e;this._button="none",await this._client.send("Input.dispatchMouseEvent",{type:"mouseReleased",button:t,x:this._x,y:this._y,modifiers:this._keyboard._modifiers,clickCount:i})}async wheel(e={}){const{deltaX:t=0,deltaY:i=0}=e;await this._client.send("Input.dispatchMouseEvent",{type:"mouseWheel",x:this._x,y:this._y,deltaX:t,deltaY:i,modifiers:this._keyboard._modifiers,pointerType:"mouse"})}};t.Touchscreen=class{constructor(e,t){this._client=e,this._keyboard=t}async tap(e,t){const i=[{x:Math.round(e),y:Math.round(t)}];await this._client.send("Input.dispatchTouchEvent",{type:"touchStart",touchPoints:i,modifiers:this._keyboard._modifiers}),await this._client.send("Input.dispatchTouchEvent",{type:"touchEnd",touchPoints:[],modifiers:this._keyboard._modifiers})}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.keyDefinitions=void 0,t.keyDefinitions={0:{keyCode:48,key:"0",code:"Digit0"},1:{keyCode:49,key:"1",code:"Digit1"},2:{keyCode:50,key:"2",code:"Digit2"},3:{keyCode:51,key:"3",code:"Digit3"},4:{keyCode:52,key:"4",code:"Digit4"},5:{keyCode:53,key:"5",code:"Digit5"},6:{keyCode:54,key:"6",code:"Digit6"},7:{keyCode:55,key:"7",code:"Digit7"},8:{keyCode:56,key:"8",code:"Digit8"},9:{keyCode:57,key:"9",code:"Digit9"},Power:{key:"Power",code:"Power"},Eject:{key:"Eject",code:"Eject"},Abort:{keyCode:3,code:"Abort",key:"Cancel"},Help:{keyCode:6,code:"Help",key:"Help"},Backspace:{keyCode:8,code:"Backspace",key:"Backspace"},Tab:{keyCode:9,code:"Tab",key:"Tab"},Numpad5:{keyCode:12,shiftKeyCode:101,key:"Clear",code:"Numpad5",shiftKey:"5",location:3},NumpadEnter:{keyCode:13,code:"NumpadEnter",key:"Enter",text:"\r",location:3},Enter:{keyCode:13,code:"Enter",key:"Enter",text:"\r"},"\r":{keyCode:13,code:"Enter",key:"Enter",text:"\r"},"\n":{keyCode:13,code:"Enter",key:"Enter",text:"\r"},ShiftLeft:{keyCode:16,code:"ShiftLeft",key:"Shift",location:1},ShiftRight:{keyCode:16,code:"ShiftRight",key:"Shift",location:2},ControlLeft:{keyCode:17,code:"ControlLeft",key:"Control",location:1},ControlRight:{keyCode:17,code:"ControlRight",key:"Control",location:2},AltLeft:{keyCode:18,code:"AltLeft",key:"Alt",location:1},AltRight:{keyCode:18,code:"AltRight",key:"Alt",location:2},Pause:{keyCode:19,code:"Pause",key:"Pause"},CapsLock:{keyCode:20,code:"CapsLock",key:"CapsLock"},Escape:{keyCode:27,code:"Escape",key:"Escape"},Convert:{keyCode:28,code:"Convert",key:"Convert"},NonConvert:{keyCode:29,code:"NonConvert",key:"NonConvert"},Space:{keyCode:32,code:"Space",key:" "},Numpad9:{keyCode:33,shiftKeyCode:105,key:"PageUp",code:"Numpad9",shiftKey:"9",location:3},PageUp:{keyCode:33,code:"PageUp",key:"PageUp"},Numpad3:{keyCode:34,shiftKeyCode:99,key:"PageDown",code:"Numpad3",shiftKey:"3",location:3},PageDown:{keyCode:34,code:"PageDown",key:"PageDown"},End:{keyCode:35,code:"End",key:"End"},Numpad1:{keyCode:35,shiftKeyCode:97,key:"End",code:"Numpad1",shiftKey:"1",location:3},Home:{keyCode:36,code:"Home",key:"Home"},Numpad7:{keyCode:36,shiftKeyCode:103,key:"Home",code:"Numpad7",shiftKey:"7",location:3},ArrowLeft:{keyCode:37,code:"ArrowLeft",key:"ArrowLeft"},Numpad4:{keyCode:37,shiftKeyCode:100,key:"ArrowLeft",code:"Numpad4",shiftKey:"4",location:3},Numpad8:{keyCode:38,shiftKeyCode:104,key:"ArrowUp",code:"Numpad8",shiftKey:"8",location:3},ArrowUp:{keyCode:38,code:"ArrowUp",key:"ArrowUp"},ArrowRight:{keyCode:39,code:"ArrowRight",key:"ArrowRight"},Numpad6:{keyCode:39,shiftKeyCode:102,key:"ArrowRight",code:"Numpad6",shiftKey:"6",location:3},Numpad2:{keyCode:40,shiftKeyCode:98,key:"ArrowDown",code:"Numpad2",shiftKey:"2",location:3},ArrowDown:{keyCode:40,code:"ArrowDown",key:"ArrowDown"},Select:{keyCode:41,code:"Select",key:"Select"},Open:{keyCode:43,code:"Open",key:"Execute"},PrintScreen:{keyCode:44,code:"PrintScreen",key:"PrintScreen"},Insert:{keyCode:45,code:"Insert",key:"Insert"},Numpad0:{keyCode:45,shiftKeyCode:96,key:"Insert",code:"Numpad0",shiftKey:"0",location:3},Delete:{keyCode:46,code:"Delete",key:"Delete"},NumpadDecimal:{keyCode:46,shiftKeyCode:110,code:"NumpadDecimal",key:"\0",shiftKey:".",location:3},Digit0:{keyCode:48,code:"Digit0",shiftKey:")",key:"0"},Digit1:{keyCode:49,code:"Digit1",shiftKey:"!",key:"1"},Digit2:{keyCode:50,code:"Digit2",shiftKey:"@",key:"2"},Digit3:{keyCode:51,code:"Digit3",shiftKey:"#",key:"3"},Digit4:{keyCode:52,code:"Digit4",shiftKey:"$",key:"4"},Digit5:{keyCode:53,code:"Digit5",shiftKey:"%",key:"5"},Digit6:{keyCode:54,code:"Digit6",shiftKey:"^",key:"6"},Digit7:{keyCode:55,code:"Digit7",shiftKey:"&",key:"7"},Digit8:{keyCode:56,code:"Digit8",shiftKey:"*",key:"8"},Digit9:{keyCode:57,code:"Digit9",shiftKey:"(",key:"9"},KeyA:{keyCode:65,code:"KeyA",shiftKey:"A",key:"a"},KeyB:{keyCode:66,code:"KeyB",shiftKey:"B",key:"b"},KeyC:{keyCode:67,code:"KeyC",shiftKey:"C",key:"c"},KeyD:{keyCode:68,code:"KeyD",shiftKey:"D",key:"d"},KeyE:{keyCode:69,code:"KeyE",shiftKey:"E",key:"e"},KeyF:{keyCode:70,code:"KeyF",shiftKey:"F",key:"f"},KeyG:{keyCode:71,code:"KeyG",shiftKey:"G",key:"g"},KeyH:{keyCode:72,code:"KeyH",shiftKey:"H",key:"h"},KeyI:{keyCode:73,code:"KeyI",shiftKey:"I",key:"i"},KeyJ:{keyCode:74,code:"KeyJ",shiftKey:"J",key:"j"},KeyK:{keyCode:75,code:"KeyK",shiftKey:"K",key:"k"},KeyL:{keyCode:76,code:"KeyL",shiftKey:"L",key:"l"},KeyM:{keyCode:77,code:"KeyM",shiftKey:"M",key:"m"},KeyN:{keyCode:78,code:"KeyN",shiftKey:"N",key:"n"},KeyO:{keyCode:79,code:"KeyO",shiftKey:"O",key:"o"},KeyP:{keyCode:80,code:"KeyP",shiftKey:"P",key:"p"},KeyQ:{keyCode:81,code:"KeyQ",shiftKey:"Q",key:"q"},KeyR:{keyCode:82,code:"KeyR",shiftKey:"R",key:"r"},KeyS:{keyCode:83,code:"KeyS",shiftKey:"S",key:"s"},KeyT:{keyCode:84,code:"KeyT",shiftKey:"T",key:"t"},KeyU:{keyCode:85,code:"KeyU",shiftKey:"U",key:"u"},KeyV:{keyCode:86,code:"KeyV",shiftKey:"V",key:"v"},KeyW:{keyCode:87,code:"KeyW",shiftKey:"W",key:"w"},KeyX:{keyCode:88,code:"KeyX",shiftKey:"X",key:"x"},KeyY:{keyCode:89,code:"KeyY",shiftKey:"Y",key:"y"},KeyZ:{keyCode:90,code:"KeyZ",shiftKey:"Z",key:"z"},MetaLeft:{keyCode:91,code:"MetaLeft",key:"Meta",location:1},MetaRight:{keyCode:92,code:"MetaRight",key:"Meta",location:2},ContextMenu:{keyCode:93,code:"ContextMenu",key:"ContextMenu"},NumpadMultiply:{keyCode:106,code:"NumpadMultiply",key:"*",location:3},NumpadAdd:{keyCode:107,code:"NumpadAdd",key:"+",location:3},NumpadSubtract:{keyCode:109,code:"NumpadSubtract",key:"-",location:3},NumpadDivide:{keyCode:111,code:"NumpadDivide",key:"/",location:3},F1:{keyCode:112,code:"F1",key:"F1"},F2:{keyCode:113,code:"F2",key:"F2"},F3:{keyCode:114,code:"F3",key:"F3"},F4:{keyCode:115,code:"F4",key:"F4"},F5:{keyCode:116,code:"F5",key:"F5"},F6:{keyCode:117,code:"F6",key:"F6"},F7:{keyCode:118,code:"F7",key:"F7"},F8:{keyCode:119,code:"F8",key:"F8"},F9:{keyCode:120,code:"F9",key:"F9"},F10:{keyCode:121,code:"F10",key:"F10"},F11:{keyCode:122,code:"F11",key:"F11"},F12:{keyCode:123,code:"F12",key:"F12"},F13:{keyCode:124,code:"F13",key:"F13"},F14:{keyCode:125,code:"F14",key:"F14"},F15:{keyCode:126,code:"F15",key:"F15"},F16:{keyCode:127,code:"F16",key:"F16"},F17:{keyCode:128,code:"F17",key:"F17"},F18:{keyCode:129,code:"F18",key:"F18"},F19:{keyCode:130,code:"F19",key:"F19"},F20:{keyCode:131,code:"F20",key:"F20"},F21:{keyCode:132,code:"F21",key:"F21"},F22:{keyCode:133,code:"F22",key:"F22"},F23:{keyCode:134,code:"F23",key:"F23"},F24:{keyCode:135,code:"F24",key:"F24"},NumLock:{keyCode:144,code:"NumLock",key:"NumLock"},ScrollLock:{keyCode:145,code:"ScrollLock",key:"ScrollLock"},AudioVolumeMute:{keyCode:173,code:"AudioVolumeMute",key:"AudioVolumeMute"},AudioVolumeDown:{keyCode:174,code:"AudioVolumeDown",key:"AudioVolumeDown"},AudioVolumeUp:{keyCode:175,code:"AudioVolumeUp",key:"AudioVolumeUp"},MediaTrackNext:{keyCode:176,code:"MediaTrackNext",key:"MediaTrackNext"},MediaTrackPrevious:{keyCode:177,code:"MediaTrackPrevious",key:"MediaTrackPrevious"},MediaStop:{keyCode:178,code:"MediaStop",key:"MediaStop"},MediaPlayPause:{keyCode:179,code:"MediaPlayPause",key:"MediaPlayPause"},Semicolon:{keyCode:186,code:"Semicolon",shiftKey:":",key:";"},Equal:{keyCode:187,code:"Equal",shiftKey:"+",key:"="},NumpadEqual:{keyCode:187,code:"NumpadEqual",key:"=",location:3},Comma:{keyCode:188,code:"Comma",shiftKey:"<",key:","},Minus:{keyCode:189,code:"Minus",shiftKey:"_",key:"-"},Period:{keyCode:190,code:"Period",shiftKey:">",key:"."},Slash:{keyCode:191,code:"Slash",shiftKey:"?",key:"/"},Backquote:{keyCode:192,code:"Backquote",shiftKey:"~",key:"`"},BracketLeft:{keyCode:219,code:"BracketLeft",shiftKey:"{",key:"["},Backslash:{keyCode:220,code:"Backslash",shiftKey:"|",key:"\\"},BracketRight:{keyCode:221,code:"BracketRight",shiftKey:"}",key:"]"},Quote:{keyCode:222,code:"Quote",shiftKey:'"',key:"'"},AltGraph:{keyCode:225,code:"AltGraph",key:"AltGraph"},Props:{keyCode:247,code:"Props",key:"CrSel"},Cancel:{keyCode:3,key:"Cancel",code:"Abort"},Clear:{keyCode:12,key:"Clear",code:"Numpad5",location:3},Shift:{keyCode:16,key:"Shift",code:"ShiftLeft",location:1},Control:{keyCode:17,key:"Control",code:"ControlLeft",location:1},Alt:{keyCode:18,key:"Alt",code:"AltLeft",location:1},Accept:{keyCode:30,key:"Accept"},ModeChange:{keyCode:31,key:"ModeChange"}," ":{keyCode:32,key:" ",code:"Space"},Print:{keyCode:42,key:"Print"},Execute:{keyCode:43,key:"Execute",code:"Open"},"\0":{keyCode:46,key:"\0",code:"NumpadDecimal",location:3},a:{keyCode:65,key:"a",code:"KeyA"},b:{keyCode:66,key:"b",code:"KeyB"},c:{keyCode:67,key:"c",code:"KeyC"},d:{keyCode:68,key:"d",code:"KeyD"},e:{keyCode:69,key:"e",code:"KeyE"},f:{keyCode:70,key:"f",code:"KeyF"},g:{keyCode:71,key:"g",code:"KeyG"},h:{keyCode:72,key:"h",code:"KeyH"},i:{keyCode:73,key:"i",code:"KeyI"},j:{keyCode:74,key:"j",code:"KeyJ"},k:{keyCode:75,key:"k",code:"KeyK"},l:{keyCode:76,key:"l",code:"KeyL"},m:{keyCode:77,key:"m",code:"KeyM"},n:{keyCode:78,key:"n",code:"KeyN"},o:{keyCode:79,key:"o",code:"KeyO"},p:{keyCode:80,key:"p",code:"KeyP"},q:{keyCode:81,key:"q",code:"KeyQ"},r:{keyCode:82,key:"r",code:"KeyR"},s:{keyCode:83,key:"s",code:"KeyS"},t:{keyCode:84,key:"t",code:"KeyT"},u:{keyCode:85,key:"u",code:"KeyU"},v:{keyCode:86,key:"v",code:"KeyV"},w:{keyCode:87,key:"w",code:"KeyW"},x:{keyCode:88,key:"x",code:"KeyX"},y:{keyCode:89,key:"y",code:"KeyY"},z:{keyCode:90,key:"z",code:"KeyZ"},Meta:{keyCode:91,key:"Meta",code:"MetaLeft",location:1},"*":{keyCode:106,key:"*",code:"NumpadMultiply",location:3},"+":{keyCode:107,key:"+",code:"NumpadAdd",location:3},"-":{keyCode:109,key:"-",code:"NumpadSubtract",location:3},"/":{keyCode:111,key:"/",code:"NumpadDivide",location:3},";":{keyCode:186,key:";",code:"Semicolon"},"=":{keyCode:187,key:"=",code:"Equal"},",":{keyCode:188,key:",",code:"Comma"},".":{keyCode:190,key:".",code:"Period"},"`":{keyCode:192,key:"`",code:"Backquote"},"[":{keyCode:219,key:"[",code:"BracketLeft"},"\\":{keyCode:220,key:"\\",code:"Backslash"},"]":{keyCode:221,key:"]",code:"BracketRight"},"'":{keyCode:222,key:"'",code:"Quote"},Attn:{keyCode:246,key:"Attn"},CrSel:{keyCode:247,key:"CrSel",code:"Props"},ExSel:{keyCode:248,key:"ExSel"},EraseEof:{keyCode:249,key:"EraseEof"},Play:{keyCode:250,key:"Play"},ZoomOut:{keyCode:251,key:"ZoomOut"},")":{keyCode:48,key:")",code:"Digit0"},"!":{keyCode:49,key:"!",code:"Digit1"},"@":{keyCode:50,key:"@",code:"Digit2"},"#":{keyCode:51,key:"#",code:"Digit3"},$:{keyCode:52,key:"$",code:"Digit4"},"%":{keyCode:53,key:"%",code:"Digit5"},"^":{keyCode:54,key:"^",code:"Digit6"},"&":{keyCode:55,key:"&",code:"Digit7"},"(":{keyCode:57,key:"(",code:"Digit9"},A:{keyCode:65,key:"A",code:"KeyA"},B:{keyCode:66,key:"B",code:"KeyB"},C:{keyCode:67,key:"C",code:"KeyC"},D:{keyCode:68,key:"D",code:"KeyD"},E:{keyCode:69,key:"E",code:"KeyE"},F:{keyCode:70,key:"F",code:"KeyF"},G:{keyCode:71,key:"G",code:"KeyG"},H:{keyCode:72,key:"H",code:"KeyH"},I:{keyCode:73,key:"I",code:"KeyI"},J:{keyCode:74,key:"J",code:"KeyJ"},K:{keyCode:75,key:"K",code:"KeyK"},L:{keyCode:76,key:"L",code:"KeyL"},M:{keyCode:77,key:"M",code:"KeyM"},N:{keyCode:78,key:"N",code:"KeyN"},O:{keyCode:79,key:"O",code:"KeyO"},P:{keyCode:80,key:"P",code:"KeyP"},Q:{keyCode:81,key:"Q",code:"KeyQ"},R:{keyCode:82,key:"R",code:"KeyR"},S:{keyCode:83,key:"S",code:"KeyS"},T:{keyCode:84,key:"T",code:"KeyT"},U:{keyCode:85,key:"U",code:"KeyU"},V:{keyCode:86,key:"V",code:"KeyV"},W:{keyCode:87,key:"W",code:"KeyW"},X:{keyCode:88,key:"X",code:"KeyX"},Y:{keyCode:89,key:"Y",code:"KeyY"},Z:{keyCode:90,key:"Z",code:"KeyZ"},":":{keyCode:186,key:":",code:"Semicolon"},"<":{keyCode:188,key:"<",code:"Comma"},_:{keyCode:189,key:"_",code:"Minus"},">":{keyCode:190,key:">",code:"Period"},"?":{keyCode:191,key:"?",code:"Slash"},"~":{keyCode:192,key:"~",code:"Backquote"},"{":{keyCode:219,key:"{",code:"BracketLeft"},"|":{keyCode:220,key:"|",code:"Backslash"},"}":{keyCode:221,key:"}",code:"BracketRight"},'"':{keyCode:222,key:'"',code:"Quote"},SoftLeft:{key:"SoftLeft",code:"SoftLeft",location:4},SoftRight:{key:"SoftRight",code:"SoftRight",location:4},Camera:{keyCode:44,key:"Camera",code:"Camera",location:4},Call:{key:"Call",code:"Call",location:4},EndCall:{keyCode:95,key:"EndCall",code:"EndCall",location:4},VolumeDown:{keyCode:182,key:"VolumeDown",code:"VolumeDown",location:4},VolumeUp:{keyCode:183,key:"VolumeUp",code:"VolumeUp",location:4}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tracing=void 0;const n=i(4),r=i(8);t.Tracing=class{constructor(e){this._recording=!1,this._path="",this._client=e}async start(e={}){n.assert(!this._recording,"Cannot start recording trace while already recording trace.");const t=["-*","devtools.timeline","v8.execute","disabled-by-default-devtools.timeline","disabled-by-default-devtools.timeline.frame","toplevel","blink.console","blink.user_timing","latencyInfo","disabled-by-default-devtools.timeline.stack","disabled-by-default-v8.cpu_profiler","disabled-by-default-v8.cpu_profiler.hires"],{path:i=null,screenshots:r=!1,categories:o=t}=e;r&&o.push("disabled-by-default-devtools.screenshot"),this._path=i,this._recording=!0,await this._client.send("Tracing.start",{transferMode:"ReturnAsStream",categories:o.join(",")})}async stop(){let e,t;const i=new Promise((i,n)=>{e=i,t=n});return this._client.once("Tracing.tracingComplete",i=>{r.helper.readProtocolStream(this._client,i.stream,this._path).then(e,t)}),await this._client.send("Tracing.end"),this._recording=!1,i}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Coverage=void 0;const n=i(4),r=i(8),o=i(63);t.Coverage=class{constructor(e){this._jsCoverage=new s(e),this._cssCoverage=new a(e)}async startJSCoverage(e={}){return await this._jsCoverage.start(e)}async stopJSCoverage(){return await this._jsCoverage.stop()}async startCSSCoverage(e={}){return await this._cssCoverage.start(e)}async stopCSSCoverage(){return await this._cssCoverage.stop()}};class s{constructor(e){this._enabled=!1,this._scriptURLs=new Map,this._scriptSources=new Map,this._eventListeners=[],this._resetOnNavigation=!1,this._reportAnonymousScripts=!1,this._client=e}async start(e={}){n.assert(!this._enabled,"JSCoverage is already enabled");const{resetOnNavigation:t=!0,reportAnonymousScripts:i=!1}=e;this._resetOnNavigation=t,this._reportAnonymousScripts=i,this._enabled=!0,this._scriptURLs.clear(),this._scriptSources.clear(),this._eventListeners=[r.helper.addEventListener(this._client,"Debugger.scriptParsed",this._onScriptParsed.bind(this)),r.helper.addEventListener(this._client,"Runtime.executionContextsCleared",this._onExecutionContextsCleared.bind(this))],await Promise.all([this._client.send("Profiler.enable"),this._client.send("Profiler.startPreciseCoverage",{callCount:!1,detailed:!0}),this._client.send("Debugger.enable"),this._client.send("Debugger.setSkipAllPauses",{skip:!0})])}_onExecutionContextsCleared(){this._resetOnNavigation&&(this._scriptURLs.clear(),this._scriptSources.clear())}async _onScriptParsed(e){if(e.url!==o.EVALUATION_SCRIPT_URL&&(e.url||this._reportAnonymousScripts))try{const t=await this._client.send("Debugger.getScriptSource",{scriptId:e.scriptId});this._scriptURLs.set(e.scriptId,e.url),this._scriptSources.set(e.scriptId,t.scriptSource)}catch(e){r.debugError(e)}}async stop(){n.assert(this._enabled,"JSCoverage is not enabled"),this._enabled=!1;const e=await Promise.all([this._client.send("Profiler.takePreciseCoverage"),this._client.send("Profiler.stopPreciseCoverage"),this._client.send("Profiler.disable"),this._client.send("Debugger.disable")]);r.helper.removeEventListeners(this._eventListeners);const t=[],i=e[0];for(const e of i.result){let i=this._scriptURLs.get(e.scriptId);!i&&this._reportAnonymousScripts&&(i="debugger://VM"+e.scriptId);const n=this._scriptSources.get(e.scriptId);if(void 0===n||void 0===i)continue;const r=[];for(const t of e.functions)r.push(...t.ranges);const o=c(r);t.push({url:i,ranges:o,text:n})}return t}}class a{constructor(e){this._enabled=!1,this._stylesheetURLs=new Map,this._stylesheetSources=new Map,this._eventListeners=[],this._resetOnNavigation=!1,this._reportAnonymousScripts=!1,this._client=e}async start(e={}){n.assert(!this._enabled,"CSSCoverage is already enabled");const{resetOnNavigation:t=!0}=e;this._resetOnNavigation=t,this._enabled=!0,this._stylesheetURLs.clear(),this._stylesheetSources.clear(),this._eventListeners=[r.helper.addEventListener(this._client,"CSS.styleSheetAdded",this._onStyleSheet.bind(this)),r.helper.addEventListener(this._client,"Runtime.executionContextsCleared",this._onExecutionContextsCleared.bind(this))],await Promise.all([this._client.send("DOM.enable"),this._client.send("CSS.enable"),this._client.send("CSS.startRuleUsageTracking")])}_onExecutionContextsCleared(){this._resetOnNavigation&&(this._stylesheetURLs.clear(),this._stylesheetSources.clear())}async _onStyleSheet(e){const t=e.header;if(t.sourceURL)try{const e=await this._client.send("CSS.getStyleSheetText",{styleSheetId:t.styleSheetId});this._stylesheetURLs.set(t.styleSheetId,t.sourceURL),this._stylesheetSources.set(t.styleSheetId,e.text)}catch(e){r.debugError(e)}}async stop(){n.assert(this._enabled,"CSSCoverage is not enabled"),this._enabled=!1;const e=await this._client.send("CSS.stopRuleUsageTracking");await Promise.all([this._client.send("CSS.disable"),this._client.send("DOM.disable")]),r.helper.removeEventListeners(this._eventListeners);const t=new Map;for(const i of e.ruleUsage){let e=t.get(i.styleSheetId);e||(e=[],t.set(i.styleSheetId,e)),e.push({startOffset:i.startOffset,endOffset:i.endOffset,count:i.used?1:0})}const i=[];for(const e of this._stylesheetURLs.keys()){const n=this._stylesheetURLs.get(e),r=this._stylesheetSources.get(e),o=c(t.get(e)||[]);i.push({url:n,ranges:o,text:r})}return i}}function c(e){const t=[];for(const i of e)t.push({offset:i.startOffset,type:0,range:i}),t.push({offset:i.endOffset,type:1,range:i});t.sort((e,t)=>{if(e.offset!==t.offset)return e.offset-t.offset;if(e.type!==t.type)return t.type-e.type;const i=e.range.endOffset-e.range.startOffset,n=t.range.endOffset-t.range.startOffset;return 0===e.type?n-i:i-n});const i=[],n=[];let r=0;for(const e of t){if(i.length&&r<e.offset&&i[i.length-1]>0){const t=n.length?n[n.length-1]:null;t&&t.end===r?t.end=e.offset:n.push({start:r,end:e.offset})}r=e.offset,0===e.type?i.push(e.range.count):i.pop()}return n.filter(e=>e.end-e.start>1)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Accessibility=void 0;t.Accessibility=class{constructor(e){this._client=e}async snapshot(e={}){const{interestingOnly:t=!0,root:i=null}=e,{nodes:r}=await this._client.send("Accessibility.getFullAXTree");let o=null;if(i){const{node:e}=await this._client.send("DOM.describeNode",{objectId:i._remoteObject.objectId});o=e.backendNodeId}const s=n.createTree(r);let a=s;if(o&&(a=s.find(e=>e.payload.backendDOMNodeId===o),!a))return null;if(!t)return this.serializeTree(a)[0];const c=new Set;return this.collectInterestingNodes(c,s,!1),c.has(a)?this.serializeTree(a,c)[0]:null}serializeTree(e,t){const i=[];for(const n of e.children)i.push(...this.serializeTree(n,t));if(t&&!t.has(e))return i;const n=e.serialize();return i.length&&(n.children=i),[n]}collectInterestingNodes(e,t,i){if(t.isInteresting(i)&&e.add(t),!t.isLeafNode()){i=i||t.isControl();for(const n of t.children)this.collectInterestingNodes(e,n,i)}}};class n{constructor(e){this.children=[],this._richlyEditable=!1,this._editable=!1,this._focusable=!1,this._hidden=!1,this.payload=e,this._name=this.payload.name?this.payload.name.value:"",this._role=this.payload.role?this.payload.role.value:"Unknown",this._ignored=this.payload.ignored;for(const e of this.payload.properties||[])"editable"===e.name&&(this._richlyEditable="richtext"===e.value.value,this._editable=!0),"focusable"===e.name&&(this._focusable=e.value.value),"hidden"===e.name&&(this._hidden=e.value.value)}_isPlainTextField(){return!this._richlyEditable&&(!!this._editable||("textbox"===this._role||"searchbox"===this._role))}_isTextOnlyObject(){const e=this._role;return"LineBreak"===e||"text"===e||"InlineTextBox"===e}_hasFocusableChild(){if(void 0===this._cachedHasFocusableChild){this._cachedHasFocusableChild=!1;for(const e of this.children)if(e._focusable||e._hasFocusableChild()){this._cachedHasFocusableChild=!0;break}}return this._cachedHasFocusableChild}find(e){if(e(this))return this;for(const t of this.children){const i=t.find(e);if(i)return i}return null}isLeafNode(){if(!this.children.length)return!0;if(this._isPlainTextField()||this._isTextOnlyObject())return!0;switch(this._role){case"doc-cover":case"graphics-symbol":case"img":case"Meter":case"scrollbar":case"slider":case"separator":case"progressbar":return!0}return!this._hasFocusableChild()&&(!(!this._focusable||!this._name)||!("heading"!==this._role||!this._name))}isControl(){switch(this._role){case"button":case"checkbox":case"ColorWell":case"combobox":case"DisclosureTriangle":case"listbox":case"menu":case"menubar":case"menuitem":case"menuitemcheckbox":case"menuitemradio":case"radio":case"scrollbar":case"searchbox":case"slider":case"spinbutton":case"switch":case"tab":case"textbox":case"tree":case"treeitem":return!0;default:return!1}}isInteresting(e){return"Ignored"!==this._role&&!this._hidden&&!this._ignored&&(!(!this._focusable&&!this._richlyEditable)||(!!this.isControl()||!e&&(this.isLeafNode()&&!!this._name)))}serialize(){const e=new Map;for(const t of this.payload.properties||[])e.set(t.name.toLowerCase(),t.value.value);this.payload.name&&e.set("name",this.payload.name.value),this.payload.value&&e.set("value",this.payload.value.value),this.payload.description&&e.set("description",this.payload.description.value);const t={role:this._role},i=["name","value","description","keyshortcuts","roledescription","valuetext"];for(const r of i)e.has(r)&&(t[r]=(n=r,e.get(n)));var n;const r=["disabled","expanded","focused","modal","multiline","multiselectable","readonly","required","selected"],o=t=>e.get(t);for(const e of r){if("focused"===e&&"WebArea"===this._role)continue;o(e)&&(t[e]=o(e))}const s=["checked","pressed"];for(const i of s){if(!e.has(i))continue;const n=e.get(i);t[i]="mixed"===n?"mixed":"true"===n}const a=["level","valuemax","valuemin"],c=t=>e.get(t);for(const i of a)e.has(i)&&(t[i]=c(i));const l=["autocomplete","haspopup","invalid","orientation"],d=t=>e.get(t);for(const e of l){const i=d(e);i&&"false"!==i&&(t[e]=d(e))}return t}static createTree(e){const t=new Map;for(const i of e)t.set(i.nodeId,new n(i));for(const e of t.values())for(const i of e.payload.childIds||[])e.children.push(t.get(i));return t.values().next().value}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TimeoutSettings=void 0;t.TimeoutSettings=class{constructor(){this._defaultTimeout=null,this._defaultNavigationTimeout=null}setDefaultTimeout(e){this._defaultTimeout=e}setDefaultNavigationTimeout(e){this._defaultNavigationTimeout=e}navigationTimeout(){return null!==this._defaultNavigationTimeout?this._defaultNavigationTimeout:null!==this._defaultTimeout?this._defaultTimeout:3e4}timeout(){return null!==this._defaultTimeout?this._defaultTimeout:3e4}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileChooser=void 0;const n=i(4);t.FileChooser=class{constructor(e,t){this._handled=!1,this._element=e,this._multiple="selectSingle"!==t.mode}isMultiple(){return this._multiple}async accept(e){n.assert(!this._handled,"Cannot accept FileChooser which is already handled!"),this._handled=!0,await this._element.uploadFile(...e)}async cancel(){n.assert(!this._handled,"Cannot cancel FileChooser which is already handled!"),this._handled=!0}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleMessage=void 0;t.ConsoleMessage=class{constructor(e,t,i,n){this._type=e,this._text=t,this._args=i,this._stackTraceLocations=n}type(){return this._type}text(){return this._text}args(){return this._args}location(){return this._stackTraceLocations.length?this._stackTraceLocations[0]:{}}stackTrace(){return this._stackTraceLocations}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.paperFormats=void 0,t.paperFormats={letter:{width:8.5,height:11},legal:{width:8.5,height:14},tabloid:{width:11,height:17},ledger:{width:17,height:11},a0:{width:33.1,height:46.8},a1:{width:23.4,height:33.1},a2:{width:16.54,height:23.4},a3:{width:11.7,height:16.54},a4:{width:8.27,height:11.7},a5:{width:5.83,height:8.27},a6:{width:4.13,height:5.83}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Target=void 0;const n=i(107),r=i(109);t.Target=class{constructor(e,t,i,n,r){this._targetInfo=e,this._browserContext=t,this._targetId=e.targetId,this._sessionFactory=i,this._ignoreHTTPSErrors=n,this._defaultViewport=r,this._pagePromise=null,this._workerPromise=null,this._initializedPromise=new Promise(e=>this._initializedCallback=e).then(async e=>{if(!e)return!1;const t=this.opener();if(!t||!t._pagePromise||"page"!==this.type())return!0;const i=await t._pagePromise;if(!i.listenerCount("popup"))return!0;const n=await this.page();return i.emit("popup",n),!0}),this._isClosedPromise=new Promise(e=>this._closedCallback=e),this._isInitialized="page"!==this._targetInfo.type||""!==this._targetInfo.url,this._isInitialized&&this._initializedCallback(!0)}createCDPSession(){return this._sessionFactory()}async page(){return"page"!==this._targetInfo.type&&"background_page"!==this._targetInfo.type&&"webview"!==this._targetInfo.type||this._pagePromise||(this._pagePromise=this._sessionFactory().then(e=>n.Page.create(e,this,this._ignoreHTTPSErrors,this._defaultViewport))),this._pagePromise}async worker(){return"service_worker"!==this._targetInfo.type&&"shared_worker"!==this._targetInfo.type?null:(this._workerPromise||(this._workerPromise=this._sessionFactory().then(e=>new r.WebWorker(e,this._targetInfo.url,()=>{},()=>{}))),this._workerPromise)}url(){return this._targetInfo.url}type(){const e=this._targetInfo.type;return"page"===e||"background_page"===e||"service_worker"===e||"shared_worker"===e||"browser"===e||"webview"===e?e:"other"}browser(){return this._browserContext.browser()}browserContext(){return this._browserContext}opener(){const{openerId:e}=this._targetInfo;return e?this.browser()._targets.get(e):null}_targetInfoChanged(e){if(this._targetInfo=e,!this._isInitialized&&("page"!==this._targetInfo.type||""!==this._targetInfo.url))return this._isInitialized=!0,void this._initializedCallback(!0)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{all:e=e||new Map,on(t,i){const n=e.get(t);n&&n.push(i)||e.set(t,[i])},off(t,i){const n=e.get(t);n&&n.splice(n.indexOf(i)>>>0,1)},emit(t,i){(e.get(t)||[]).slice().map(e=>{e(i)}),(e.get("*")||[]).slice().map(e=>{e(t,i)})}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Dialog=void 0;const n=i(5);t.Dialog=class{constructor(e,t,i,n=""){this._handled=!1,this._client=e,this._type=t,this._message=i,this._defaultValue=n}type(){return this._type}message(){return this._message}defaultValue(){return this._defaultValue}async accept(e){n.assert(!this._handled,"Cannot accept dialog which is already handled!"),this._handled=!0,await this._client.send("Page.handleJavaScriptDialog",{accept:!0,promptText:e})}async dismiss(){n.assert(!this._handled,"Cannot dismiss dialog which is already handled!"),this._handled=!0,await this._client.send("Page.handleJavaScriptDialog",{accept:!1})}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EmulationManager=void 0;t.EmulationManager=class{constructor(e){this._emulatingMobile=!1,this._hasTouch=!1,this._client=e}async emulateViewport(e){const t=e.isMobile||!1,i=e.width,n=e.height,r=e.deviceScaleFactor||1,o=e.isLandscape?{angle:90,type:"landscapePrimary"}:{angle:0,type:"portraitPrimary"},s=e.hasTouch||!1;await Promise.all([this._client.send("Emulation.setDeviceMetricsOverride",{mobile:t,width:i,height:n,deviceScaleFactor:r,screenOrientation:o}),this._client.send("Emulation.setTouchEmulationEnabled",{enabled:s})]);const a=this._emulatingMobile!==t||this._hasTouch!==s;return this._emulatingMobile=t,this._hasTouch=s,a}}},function(e,t,i){"use strict";async function n(e,t,i,n){const{nodes:r}=await e.send("Accessibility.queryAXTree",{objectId:t._remoteObject.objectId,accessibleName:i,role:n});return r.filter(e=>"text"!==e.role.value)}function r(e){const t=e=>e.replace(/ +/g," ").trim(),i=new Set(["name","role"]),n={},r=e.replace(/\[\s*(?<attribute>\w+)\s*=\s*"(?<value>\\.|[^"\\]*)"\s*\]/,(e,r,o)=>{if(r=r.trim(),!i.has(r))throw new Error('Unkown aria attribute "${groups.attribute}" in selector');return n[r]=t(o),""});return r&&!n.name&&(n.name=t(r)),n}Object.defineProperty(t,"__esModule",{value:!0}),t.ariaHandler=void 0;const o=async(e,t)=>{const i=e.executionContext(),{name:o,role:s}=r(t),a=await n(i._client,e,o,s);return a.length<1?null:i._adoptBackendNodeId(a[0].backendDOMNodeId)},s=async(e,t)=>{const i=e.executionContext(),{name:o,role:s}=r(t),a=await n(i._client,e,o,s);return Promise.all(a.map(e=>i._adoptBackendNodeId(e.backendDOMNodeId)))};t.ariaHandler={queryOne:o,waitFor:async(e,t,i)=>{const n={name:"ariaQuerySelector",pptrFunction:async t=>{const i=await e._document();return await o(i,t)}};return e.waitForSelectorInPage((e,t)=>globalThis.ariaQuerySelector(t),t,i,n)},queryAll:s,queryAllArray:async(e,t)=>{const i=await s(e,t);return e.executionContext().evaluateHandle((...e)=>e,...i)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HTTPRequest=void 0;const n=i(5),r=i(9);t.HTTPRequest=class{constructor(e,t,i,n,r,o){this._failureText=null,this._response=null,this._fromMemoryCache=!1,this._interceptionHandled=!1,this._headers={},this._client=e,this._requestId=r.requestId,this._isNavigationRequest=r.requestId===r.loaderId&&"Document"===r.type,this._interceptionId=i,this._allowInterception=n,this._url=r.request.url,this._resourceType=r.type.toLowerCase(),this._method=r.request.method,this._postData=r.request.postData,this._frame=t,this._redirectChain=o;for(const e of Object.keys(r.request.headers))this._headers[e.toLowerCase()]=r.request.headers[e]}url(){return this._url}resourceType(){return this._resourceType}method(){return this._method}postData(){return this._postData}headers(){return this._headers}response(){return this._response}frame(){return this._frame}isNavigationRequest(){return this._isNavigationRequest}redirectChain(){return this._redirectChain.slice()}failure(){return this._failureText?{errorText:this._failureText}:null}async continue(e={}){if(this._url.startsWith("data:"))return;n.assert(this._allowInterception,"Request Interception is not enabled!"),n.assert(!this._interceptionHandled,"Request is already handled!");const{url:t,method:i,postData:o,headers:a}=e;this._interceptionHandled=!0;const c=o?Buffer.from(o).toString("base64"):void 0;await this._client.send("Fetch.continueRequest",{requestId:this._interceptionId,url:t,method:i,postData:c,headers:a?s(a):void 0}).catch(e=>{r.debugError(e)})}async respond(e){if(this._url.startsWith("data:"))return;n.assert(this._allowInterception,"Request Interception is not enabled!"),n.assert(!this._interceptionHandled,"Request is already handled!"),this._interceptionHandled=!0;const t=e.body&&r.helper.isString(e.body)?Buffer.from(e.body):e.body||null,i={};if(e.headers)for(const t of Object.keys(e.headers))i[t.toLowerCase()]=e.headers[t];e.contentType&&(i["content-type"]=e.contentType),t&&!("content-length"in i)&&(i["content-length"]=String(Buffer.byteLength(t))),await this._client.send("Fetch.fulfillRequest",{requestId:this._interceptionId,responseCode:e.status||200,responsePhrase:a[e.status||200],responseHeaders:s(i),body:t?t.toString("base64"):void 0}).catch(e=>{r.debugError(e)})}async abort(e="failed"){if(this._url.startsWith("data:"))return;const t=o[e];n.assert(t,"Unknown error code: "+e),n.assert(this._allowInterception,"Request Interception is not enabled!"),n.assert(!this._interceptionHandled,"Request is already handled!"),this._interceptionHandled=!0,await this._client.send("Fetch.failRequest",{requestId:this._interceptionId,errorReason:t}).catch(e=>{r.debugError(e)})}};const o={aborted:"Aborted",accessdenied:"AccessDenied",addressunreachable:"AddressUnreachable",blockedbyclient:"BlockedByClient",blockedbyresponse:"BlockedByResponse",connectionaborted:"ConnectionAborted",connectionclosed:"ConnectionClosed",connectionfailed:"ConnectionFailed",connectionrefused:"ConnectionRefused",connectionreset:"ConnectionReset",internetdisconnected:"InternetDisconnected",namenotresolved:"NameNotResolved",timedout:"TimedOut",failed:"Failed"};function s(e){const t=[];for(const i in e)Object.is(e[i],void 0)||t.push({name:i,value:e[i]+""});return t}const a={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"Switch Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HTTPResponse=void 0;const n=i(241);t.HTTPResponse=class{constructor(e,t,i){this._contentPromise=null,this._headers={},this._client=e,this._request=t,this._bodyLoadedPromise=new Promise(e=>{this._bodyLoadedPromiseFulfill=e}),this._remoteAddress={ip:i.remoteIPAddress,port:i.remotePort},this._status=i.status,this._statusText=i.statusText,this._url=t.url(),this._fromDiskCache=!!i.fromDiskCache,this._fromServiceWorker=!!i.fromServiceWorker;for(const e of Object.keys(i.headers))this._headers[e.toLowerCase()]=i.headers[e];this._securityDetails=i.securityDetails?new n.SecurityDetails(i.securityDetails):null}_resolveBody(e){return this._bodyLoadedPromiseFulfill(e)}remoteAddress(){return this._remoteAddress}url(){return this._url}ok(){return 0===this._status||this._status>=200&&this._status<=299}status(){return this._status}statusText(){return this._statusText}headers(){return this._headers}securityDetails(){return this._securityDetails}buffer(){return this._contentPromise||(this._contentPromise=this._bodyLoadedPromise.then(async e=>{if(e)throw e;const t=await this._client.send("Network.getResponseBody",{requestId:this._request._requestId});return Buffer.from(t.body,t.base64Encoded?"base64":"utf8")})),this._contentPromise}async text(){return(await this.buffer()).toString("utf8")}async json(){const e=await this.text();return JSON.parse(e)}request(){return this._request}fromCache(){return this._fromDiskCache||this._request._fromMemoryCache}fromServiceWorker(){return this._fromServiceWorker}frame(){return this._request.frame()}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SecurityDetails=void 0;t.SecurityDetails=class{constructor(e){this._subjectName=e.subjectName,this._issuer=e.issuer,this._validFrom=e.validFrom,this._validTo=e.validTo,this._protocol=e.protocol,this._sanList=e.sanList}issuer(){return this._issuer}validFrom(){return this._validFrom}validTo(){return this._validTo}protocol(){return this._protocol}subjectName(){return this._subjectName}subjectAlternativeNames(){return this._sanList}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WaitTask=t.DOMWorld=void 0;const n=i(5),r=i(9),o=i(108),s=i(40),a=i(68),c=i(19);class l{constructor(e,t,i){this._documentPromise=null,this._contextPromise=null,this._contextResolveCallback=null,this._detached=!1,this._waitTasks=new Set,this._boundFunctions=new Map,this._ctxBindings=new Set,this._settingUpBinding=null,this._frameManager=e,this._frame=t,this._timeoutSettings=i,this._setContext(null),e._client.on("Runtime.bindingCalled",e=>this._onBindingCalled(e))}frame(){return this._frame}async _setContext(e){if(e){this._ctxBindings.clear(),this._contextResolveCallback.call(null,e),this._contextResolveCallback=null;for(const e of this._waitTasks)e.rerun()}else this._documentPromise=null,this._contextPromise=new Promise(e=>{this._contextResolveCallback=e})}_hasContext(){return!this._contextResolveCallback}_detach(){this._detached=!0;for(const e of this._waitTasks)e.terminate(new Error("waitForFunction failed: frame got detached."))}executionContext(){if(this._detached)throw new Error(`Execution context is not available in detached frame "${this._frame.url()}" (are you trying to evaluate?)`);return this._contextPromise}async evaluateHandle(e,...t){return(await this.executionContext()).evaluateHandle(e,...t)}async evaluate(e,...t){return(await this.executionContext()).evaluate(e,...t)}async $(e){const t=await this._document();return await t.$(e)}async _document(){return this._documentPromise||(this._documentPromise=this.executionContext().then(async e=>(await e.evaluateHandle("document")).asElement())),this._documentPromise}async $x(e){const t=await this._document();return await t.$x(e)}async $eval(e,t,...i){return(await this._document()).$eval(e,t,...i)}async $$eval(e,t,...i){const n=await this._document();return await n.$$eval(e,t,...i)}async $$(e){const t=await this._document();return await t.$$(e)}async content(){return await this.evaluate(()=>{let e="";return document.doctype&&(e=(new XMLSerializer).serializeToString(document.doctype)),document.documentElement&&(e+=document.documentElement.outerHTML),e})}async setContent(e,t={}){const{waitUntil:i=["load"],timeout:n=this._timeoutSettings.navigationTimeout()}=t;await this.evaluate(e=>{document.open(),document.write(e),document.close()},e);const r=new o.LifecycleWatcher(this._frameManager,this._frame,i,n),s=await Promise.race([r.timeoutOrTerminationPromise(),r.lifecyclePromise()]);if(r.dispose(),s)throw s}async addScriptTag(e){const{url:t=null,path:i=null,content:n=null,type:o=""}=e;if(null!==t)try{const e=await this.executionContext();return(await e.evaluateHandle((async function(e,t){const i=document.createElement("script");i.src=e,t&&(i.type=t);const n=new Promise((e,t)=>{i.onload=e,i.onerror=t});return document.head.appendChild(i),await n,i}),t,o)).asElement()}catch(e){throw new Error(`Loading script from ${t} failed`)}if(null!==i){if(!c.isNode)throw new Error("Cannot pass a filepath to addScriptTag in the browser environment.");const e=await r.helper.importFSModule();let t=await e.promises.readFile(i,"utf8");t+="//# sourceURL="+i.replace(/\n/g,"");const n=await this.executionContext();return(await n.evaluateHandle(s,t,o)).asElement()}if(null!==n){const e=await this.executionContext();return(await e.evaluateHandle(s,n,o)).asElement()}throw new Error("Provide an object with a `url`, `path` or `content` property");function s(e,t="text/javascript"){const i=document.createElement("script");i.type=t,i.text=e;let n=null;if(i.onerror=e=>n=e,document.head.appendChild(i),n)throw n;return i}}async addStyleTag(e){const{url:t=null,path:i=null,content:n=null}=e;if(null!==t)try{const e=await this.executionContext();return(await e.evaluateHandle((async function(e){const t=document.createElement("link");t.rel="stylesheet",t.href=e;const i=new Promise((e,i)=>{t.onload=e,t.onerror=i});return document.head.appendChild(t),await i,t}),t)).asElement()}catch(e){throw new Error(`Loading style from ${t} failed`)}if(null!==i){if(!c.isNode)throw new Error("Cannot pass a filepath to addStyleTag in the browser environment.");const e=await r.helper.importFSModule();let t=await e.promises.readFile(i,"utf8");t+="/*# sourceURL="+i.replace(/\n/g,"")+"*/";const n=await this.executionContext();return(await n.evaluateHandle(o,t)).asElement()}if(null!==n){const e=await this.executionContext();return(await e.evaluateHandle(o,n)).asElement()}throw new Error("Provide an object with a `url`, `path` or `content` property");async function o(e){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(e));const i=new Promise((e,i)=>{t.onload=e,t.onerror=i});return document.head.appendChild(t),await i,t}}async click(e,t){const i=await this.$(e);n.assert(i,"No node found for selector: "+e),await i.click(t),await i.dispose()}async focus(e){const t=await this.$(e);n.assert(t,"No node found for selector: "+e),await t.focus(),await t.dispose()}async hover(e){const t=await this.$(e);n.assert(t,"No node found for selector: "+e),await t.hover(),await t.dispose()}async select(e,...t){const i=await this.$(e);n.assert(i,"No node found for selector: "+e);const r=await i.select(...t);return await i.dispose(),r}async tap(e){const t=await this.$(e);await t.tap(),await t.dispose()}async type(e,t,i){const r=await this.$(e);n.assert(r,"No node found for selector: "+e),await r.type(t,i),await r.dispose()}async waitForSelector(e,t){const{updatedSelector:i,queryHandler:n}=a.getQueryHandlerAndSelector(e);return n.waitFor(this,i,t)}async addBindingToContext(e,t){if(this._ctxBindings.has(l.bindingIdentifier(t,e._contextId)))return;if(this._settingUpBinding)return await this._settingUpBinding,this.addBindingToContext(e,t);this._settingUpBinding=(async t=>{const i=r.helper.pageBindingInitString("internal",t);try{await e._client.send("Runtime.addBinding",{name:t,executionContextName:e._contextName}),await e.evaluate(i)}catch(e){const t=e.message.includes("Execution context was destroyed"),i=e.message.includes("Cannot find context with specified id");return t||i?void 0:void r.debugError(e)}this._ctxBindings.add(l.bindingIdentifier(t,e._contextId))})(t),await this._settingUpBinding,this._settingUpBinding=null}async _onBindingCalled(e){let t;if(!this._hasContext())return;const i=await this.executionContext();try{t=JSON.parse(e.payload)}catch{return}const{type:n,name:o,seq:s,args:a}=t;if("internal"===n&&this._ctxBindings.has(l.bindingIdentifier(o,i._contextId))&&i._contextId===e.executionContextId)try{const e=await this._boundFunctions.get(o)(...a);await i.evaluate((function(e,t,i){globalThis[e].callbacks.get(t).resolve(i),globalThis[e].callbacks.delete(t)}),o,s,e)}catch(e){if(e.message.includes("Protocol error"))return;r.debugError(e)}}async waitForSelectorInPage(e,t,i,n){const{visible:o=!1,hidden:s=!1,timeout:a=this._timeoutSettings.timeout()}=i,c=o||s?"raf":"mutation",l=`selector \`${t}\`${s?" to be hidden":""}`;const u={domWorld:this,predicateBody:r.helper.makePredicateString((async function(e,t,i){const n=predicateQueryHandler?await predicateQueryHandler(document,e):document.querySelector(e);return checkWaitForOptions(n,t,i)}),e),title:l,polling:c,timeout:a,args:[t,o,s],binding:n},h=new d(u),p=await h.promise,f=p.asElement();return f||(await p.dispose(),null)}async waitForXPath(e,t){const{visible:i=!1,hidden:n=!1,timeout:o=this._timeoutSettings.timeout()}=t,s=i||n?"raf":"mutation",a=`XPath \`${e}\`${n?" to be hidden":""}`;const c={domWorld:this,predicateBody:r.helper.makePredicateString((function(e,t,i){const n=document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;return checkWaitForOptions(n,t,i)})),title:a,polling:s,timeout:o,args:[e,i,n]},l=new d(c),u=await l.promise,h=u.asElement();return h||(await u.dispose(),null)}waitForFunction(e,t={},...i){const{polling:n="raf",timeout:r=this._timeoutSettings.timeout()}=t;return new d({domWorld:this,predicateBody:e,title:"function",polling:n,timeout:r,args:i}).promise}async title(){return this.evaluate(()=>document.title)}}t.DOMWorld=l,l.bindingIdentifier=(e,t)=>`${e}_${t}`;class d{constructor(e){if(this._runCount=0,this._terminated=!1,r.helper.isString(e.polling))n.assert("raf"===e.polling||"mutation"===e.polling,"Unknown polling option: "+e.polling);else{if(!r.helper.isNumber(e.polling))throw new Error("Unknown polling options: "+e.polling);n.assert(e.polling>0,"Cannot poll with non-positive interval: "+e.polling)}var t;if(this._domWorld=e.domWorld,this._polling=e.polling,this._timeout=e.timeout,this._predicateBody=(t=e.predicateBody,r.helper.isString(t)?`return (${t});`:`return (${t})(...args);`),this._args=e.args,this._binding=e.binding,this._runCount=0,this._domWorld._waitTasks.add(this),this._binding&&this._domWorld._boundFunctions.set(this._binding.name,this._binding.pptrFunction),this.promise=new Promise((e,t)=>{this._resolve=e,this._reject=t}),e.timeout){const t=new s.TimeoutError(`waiting for ${e.title} failed: timeout ${e.timeout}ms exceeded`);this._timeoutTimer=setTimeout(()=>this.terminate(t),e.timeout)}this.rerun()}terminate(e){this._terminated=!0,this._reject(e),this._cleanup()}async rerun(){const e=++this._runCount;let t=null,i=null;const n=await this._domWorld.executionContext();if(!this._terminated&&e===this._runCount&&(this._binding&&await this._domWorld.addBindingToContext(n,this._binding.name),!this._terminated&&e===this._runCount)){try{t=await n.evaluateHandle(u,this._predicateBody,this._polling,this._timeout,...this._args)}catch(e){i=e}if(this._terminated||e!==this._runCount)t&&await t.dispose();else if(i||!await this._domWorld.evaluate(e=>!e,t).catch(()=>!0)){if(i){if(i.message.includes("TypeError: binding is not a function"))return this.rerun();if(i.message.includes("Execution context is not available in detached frame"))return void this.terminate(new Error("waitForFunction failed: frame got detached."));if(i.message.includes("Execution context was destroyed"))return;if(i.message.includes("Cannot find context with specified id"))return;this._reject(i)}else this._resolve(t);this._cleanup()}else await t.dispose()}}_cleanup(){clearTimeout(this._timeoutTimer),this._domWorld._waitTasks.delete(this)}}async function u(e,t,i,...n){const r=new Function("...args",e);let o=!1;if(i&&setTimeout(()=>o=!0,i),"raf"===t)return await async function(){let e;const t=new Promise(t=>e=t);return await async function t(){if(o)return void e();const i=await r(...n);i?e(i):requestAnimationFrame(t)}(),t}();if("mutation"===t)return await async function(){const e=await r(...n);if(e)return Promise.resolve(e);let t;const i=new Promise(e=>t=e),s=new MutationObserver(async()=>{o&&(s.disconnect(),t());const e=await r(...n);e&&(s.disconnect(),t(e))});return s.observe(document,{childList:!0,subtree:!0,attributes:!0}),i}();if("number"==typeof t)return await async function(e){let t;const i=new Promise(e=>t=e);return await s(),i;async function s(){if(o)return void t();const i=await r(...n);i?t(i):setTimeout(s,e)}}(t)}t.WaitTask=d},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Touchscreen=t.Mouse=t.Keyboard=void 0;const n=i(5),r=i(244);t.Keyboard=class{constructor(e){this._modifiers=0,this._pressedKeys=new Set,this._client=e}async down(e,t={text:void 0}){const i=this._keyDescriptionForString(e),n=this._pressedKeys.has(i.code);this._pressedKeys.add(i.code),this._modifiers|=this._modifierBit(i.key);const r=void 0===t.text?i.text:t.text;await this._client.send("Input.dispatchKeyEvent",{type:r?"keyDown":"rawKeyDown",modifiers:this._modifiers,windowsVirtualKeyCode:i.keyCode,code:i.code,key:i.key,text:r,unmodifiedText:r,autoRepeat:n,location:i.location,isKeypad:3===i.location})}_modifierBit(e){return"Alt"===e?1:"Control"===e?2:"Meta"===e?4:"Shift"===e?8:0}_keyDescriptionForString(e){const t=8&this._modifiers,i={key:"",keyCode:0,code:"",text:"",location:0},o=r.keyDefinitions[e];return n.assert(o,`Unknown key: "${e}"`),o.key&&(i.key=o.key),t&&o.shiftKey&&(i.key=o.shiftKey),o.keyCode&&(i.keyCode=o.keyCode),t&&o.shiftKeyCode&&(i.keyCode=o.shiftKeyCode),o.code&&(i.code=o.code),o.location&&(i.location=o.location),1===i.key.length&&(i.text=i.key),o.text&&(i.text=o.text),t&&o.shiftText&&(i.text=o.shiftText),-9&this._modifiers&&(i.text=""),i}async up(e){const t=this._keyDescriptionForString(e);this._modifiers&=~this._modifierBit(t.key),this._pressedKeys.delete(t.code),await this._client.send("Input.dispatchKeyEvent",{type:"keyUp",modifiers:this._modifiers,key:t.key,windowsVirtualKeyCode:t.keyCode,code:t.code,location:t.location})}async sendCharacter(e){await this._client.send("Input.insertText",{text:e})}charIsKey(e){return!!r.keyDefinitions[e]}async type(e,t={}){const i=t.delay||null;for(const t of e)this.charIsKey(t)?await this.press(t,{delay:i}):(i&&await new Promise(e=>setTimeout(e,i)),await this.sendCharacter(t))}async press(e,t={}){const{delay:i=null}=t;await this.down(e,t),i&&await new Promise(e=>setTimeout(e,t.delay)),await this.up(e)}};t.Mouse=class{constructor(e,t){this._x=0,this._y=0,this._button="none",this._client=e,this._keyboard=t}async move(e,t,i={}){const{steps:n=1}=i,r=this._x,o=this._y;this._x=e,this._y=t;for(let e=1;e<=n;e++)await this._client.send("Input.dispatchMouseEvent",{type:"mouseMoved",button:this._button,x:r+(this._x-r)*(e/n),y:o+(this._y-o)*(e/n),modifiers:this._keyboard._modifiers})}async click(e,t,i={}){const{delay:n=null}=i;null!==n?(await Promise.all([this.move(e,t),this.down(i)]),await new Promise(e=>setTimeout(e,n)),await this.up(i)):await Promise.all([this.move(e,t),this.down(i),this.up(i)])}async down(e={}){const{button:t="left",clickCount:i=1}=e;this._button=t,await this._client.send("Input.dispatchMouseEvent",{type:"mousePressed",button:t,x:this._x,y:this._y,modifiers:this._keyboard._modifiers,clickCount:i})}async up(e={}){const{button:t="left",clickCount:i=1}=e;this._button="none",await this._client.send("Input.dispatchMouseEvent",{type:"mouseReleased",button:t,x:this._x,y:this._y,modifiers:this._keyboard._modifiers,clickCount:i})}async wheel(e={}){const{deltaX:t=0,deltaY:i=0}=e;await this._client.send("Input.dispatchMouseEvent",{type:"mouseWheel",x:this._x,y:this._y,deltaX:t,deltaY:i,modifiers:this._keyboard._modifiers,pointerType:"mouse"})}};t.Touchscreen=class{constructor(e,t){this._client=e,this._keyboard=t}async tap(e,t){const i=[{x:Math.round(e),y:Math.round(t)}];await this._client.send("Input.dispatchTouchEvent",{type:"touchStart",touchPoints:i,modifiers:this._keyboard._modifiers}),await this._client.send("Input.dispatchTouchEvent",{type:"touchEnd",touchPoints:[],modifiers:this._keyboard._modifiers})}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.keyDefinitions=void 0,t.keyDefinitions={0:{keyCode:48,key:"0",code:"Digit0"},1:{keyCode:49,key:"1",code:"Digit1"},2:{keyCode:50,key:"2",code:"Digit2"},3:{keyCode:51,key:"3",code:"Digit3"},4:{keyCode:52,key:"4",code:"Digit4"},5:{keyCode:53,key:"5",code:"Digit5"},6:{keyCode:54,key:"6",code:"Digit6"},7:{keyCode:55,key:"7",code:"Digit7"},8:{keyCode:56,key:"8",code:"Digit8"},9:{keyCode:57,key:"9",code:"Digit9"},Power:{key:"Power",code:"Power"},Eject:{key:"Eject",code:"Eject"},Abort:{keyCode:3,code:"Abort",key:"Cancel"},Help:{keyCode:6,code:"Help",key:"Help"},Backspace:{keyCode:8,code:"Backspace",key:"Backspace"},Tab:{keyCode:9,code:"Tab",key:"Tab"},Numpad5:{keyCode:12,shiftKeyCode:101,key:"Clear",code:"Numpad5",shiftKey:"5",location:3},NumpadEnter:{keyCode:13,code:"NumpadEnter",key:"Enter",text:"\r",location:3},Enter:{keyCode:13,code:"Enter",key:"Enter",text:"\r"},"\r":{keyCode:13,code:"Enter",key:"Enter",text:"\r"},"\n":{keyCode:13,code:"Enter",key:"Enter",text:"\r"},ShiftLeft:{keyCode:16,code:"ShiftLeft",key:"Shift",location:1},ShiftRight:{keyCode:16,code:"ShiftRight",key:"Shift",location:2},ControlLeft:{keyCode:17,code:"ControlLeft",key:"Control",location:1},ControlRight:{keyCode:17,code:"ControlRight",key:"Control",location:2},AltLeft:{keyCode:18,code:"AltLeft",key:"Alt",location:1},AltRight:{keyCode:18,code:"AltRight",key:"Alt",location:2},Pause:{keyCode:19,code:"Pause",key:"Pause"},CapsLock:{keyCode:20,code:"CapsLock",key:"CapsLock"},Escape:{keyCode:27,code:"Escape",key:"Escape"},Convert:{keyCode:28,code:"Convert",key:"Convert"},NonConvert:{keyCode:29,code:"NonConvert",key:"NonConvert"},Space:{keyCode:32,code:"Space",key:" "},Numpad9:{keyCode:33,shiftKeyCode:105,key:"PageUp",code:"Numpad9",shiftKey:"9",location:3},PageUp:{keyCode:33,code:"PageUp",key:"PageUp"},Numpad3:{keyCode:34,shiftKeyCode:99,key:"PageDown",code:"Numpad3",shiftKey:"3",location:3},PageDown:{keyCode:34,code:"PageDown",key:"PageDown"},End:{keyCode:35,code:"End",key:"End"},Numpad1:{keyCode:35,shiftKeyCode:97,key:"End",code:"Numpad1",shiftKey:"1",location:3},Home:{keyCode:36,code:"Home",key:"Home"},Numpad7:{keyCode:36,shiftKeyCode:103,key:"Home",code:"Numpad7",shiftKey:"7",location:3},ArrowLeft:{keyCode:37,code:"ArrowLeft",key:"ArrowLeft"},Numpad4:{keyCode:37,shiftKeyCode:100,key:"ArrowLeft",code:"Numpad4",shiftKey:"4",location:3},Numpad8:{keyCode:38,shiftKeyCode:104,key:"ArrowUp",code:"Numpad8",shiftKey:"8",location:3},ArrowUp:{keyCode:38,code:"ArrowUp",key:"ArrowUp"},ArrowRight:{keyCode:39,code:"ArrowRight",key:"ArrowRight"},Numpad6:{keyCode:39,shiftKeyCode:102,key:"ArrowRight",code:"Numpad6",shiftKey:"6",location:3},Numpad2:{keyCode:40,shiftKeyCode:98,key:"ArrowDown",code:"Numpad2",shiftKey:"2",location:3},ArrowDown:{keyCode:40,code:"ArrowDown",key:"ArrowDown"},Select:{keyCode:41,code:"Select",key:"Select"},Open:{keyCode:43,code:"Open",key:"Execute"},PrintScreen:{keyCode:44,code:"PrintScreen",key:"PrintScreen"},Insert:{keyCode:45,code:"Insert",key:"Insert"},Numpad0:{keyCode:45,shiftKeyCode:96,key:"Insert",code:"Numpad0",shiftKey:"0",location:3},Delete:{keyCode:46,code:"Delete",key:"Delete"},NumpadDecimal:{keyCode:46,shiftKeyCode:110,code:"NumpadDecimal",key:"\0",shiftKey:".",location:3},Digit0:{keyCode:48,code:"Digit0",shiftKey:")",key:"0"},Digit1:{keyCode:49,code:"Digit1",shiftKey:"!",key:"1"},Digit2:{keyCode:50,code:"Digit2",shiftKey:"@",key:"2"},Digit3:{keyCode:51,code:"Digit3",shiftKey:"#",key:"3"},Digit4:{keyCode:52,code:"Digit4",shiftKey:"$",key:"4"},Digit5:{keyCode:53,code:"Digit5",shiftKey:"%",key:"5"},Digit6:{keyCode:54,code:"Digit6",shiftKey:"^",key:"6"},Digit7:{keyCode:55,code:"Digit7",shiftKey:"&",key:"7"},Digit8:{keyCode:56,code:"Digit8",shiftKey:"*",key:"8"},Digit9:{keyCode:57,code:"Digit9",shiftKey:"(",key:"9"},KeyA:{keyCode:65,code:"KeyA",shiftKey:"A",key:"a"},KeyB:{keyCode:66,code:"KeyB",shiftKey:"B",key:"b"},KeyC:{keyCode:67,code:"KeyC",shiftKey:"C",key:"c"},KeyD:{keyCode:68,code:"KeyD",shiftKey:"D",key:"d"},KeyE:{keyCode:69,code:"KeyE",shiftKey:"E",key:"e"},KeyF:{keyCode:70,code:"KeyF",shiftKey:"F",key:"f"},KeyG:{keyCode:71,code:"KeyG",shiftKey:"G",key:"g"},KeyH:{keyCode:72,code:"KeyH",shiftKey:"H",key:"h"},KeyI:{keyCode:73,code:"KeyI",shiftKey:"I",key:"i"},KeyJ:{keyCode:74,code:"KeyJ",shiftKey:"J",key:"j"},KeyK:{keyCode:75,code:"KeyK",shiftKey:"K",key:"k"},KeyL:{keyCode:76,code:"KeyL",shiftKey:"L",key:"l"},KeyM:{keyCode:77,code:"KeyM",shiftKey:"M",key:"m"},KeyN:{keyCode:78,code:"KeyN",shiftKey:"N",key:"n"},KeyO:{keyCode:79,code:"KeyO",shiftKey:"O",key:"o"},KeyP:{keyCode:80,code:"KeyP",shiftKey:"P",key:"p"},KeyQ:{keyCode:81,code:"KeyQ",shiftKey:"Q",key:"q"},KeyR:{keyCode:82,code:"KeyR",shiftKey:"R",key:"r"},KeyS:{keyCode:83,code:"KeyS",shiftKey:"S",key:"s"},KeyT:{keyCode:84,code:"KeyT",shiftKey:"T",key:"t"},KeyU:{keyCode:85,code:"KeyU",shiftKey:"U",key:"u"},KeyV:{keyCode:86,code:"KeyV",shiftKey:"V",key:"v"},KeyW:{keyCode:87,code:"KeyW",shiftKey:"W",key:"w"},KeyX:{keyCode:88,code:"KeyX",shiftKey:"X",key:"x"},KeyY:{keyCode:89,code:"KeyY",shiftKey:"Y",key:"y"},KeyZ:{keyCode:90,code:"KeyZ",shiftKey:"Z",key:"z"},MetaLeft:{keyCode:91,code:"MetaLeft",key:"Meta",location:1},MetaRight:{keyCode:92,code:"MetaRight",key:"Meta",location:2},ContextMenu:{keyCode:93,code:"ContextMenu",key:"ContextMenu"},NumpadMultiply:{keyCode:106,code:"NumpadMultiply",key:"*",location:3},NumpadAdd:{keyCode:107,code:"NumpadAdd",key:"+",location:3},NumpadSubtract:{keyCode:109,code:"NumpadSubtract",key:"-",location:3},NumpadDivide:{keyCode:111,code:"NumpadDivide",key:"/",location:3},F1:{keyCode:112,code:"F1",key:"F1"},F2:{keyCode:113,code:"F2",key:"F2"},F3:{keyCode:114,code:"F3",key:"F3"},F4:{keyCode:115,code:"F4",key:"F4"},F5:{keyCode:116,code:"F5",key:"F5"},F6:{keyCode:117,code:"F6",key:"F6"},F7:{keyCode:118,code:"F7",key:"F7"},F8:{keyCode:119,code:"F8",key:"F8"},F9:{keyCode:120,code:"F9",key:"F9"},F10:{keyCode:121,code:"F10",key:"F10"},F11:{keyCode:122,code:"F11",key:"F11"},F12:{keyCode:123,code:"F12",key:"F12"},F13:{keyCode:124,code:"F13",key:"F13"},F14:{keyCode:125,code:"F14",key:"F14"},F15:{keyCode:126,code:"F15",key:"F15"},F16:{keyCode:127,code:"F16",key:"F16"},F17:{keyCode:128,code:"F17",key:"F17"},F18:{keyCode:129,code:"F18",key:"F18"},F19:{keyCode:130,code:"F19",key:"F19"},F20:{keyCode:131,code:"F20",key:"F20"},F21:{keyCode:132,code:"F21",key:"F21"},F22:{keyCode:133,code:"F22",key:"F22"},F23:{keyCode:134,code:"F23",key:"F23"},F24:{keyCode:135,code:"F24",key:"F24"},NumLock:{keyCode:144,code:"NumLock",key:"NumLock"},ScrollLock:{keyCode:145,code:"ScrollLock",key:"ScrollLock"},AudioVolumeMute:{keyCode:173,code:"AudioVolumeMute",key:"AudioVolumeMute"},AudioVolumeDown:{keyCode:174,code:"AudioVolumeDown",key:"AudioVolumeDown"},AudioVolumeUp:{keyCode:175,code:"AudioVolumeUp",key:"AudioVolumeUp"},MediaTrackNext:{keyCode:176,code:"MediaTrackNext",key:"MediaTrackNext"},MediaTrackPrevious:{keyCode:177,code:"MediaTrackPrevious",key:"MediaTrackPrevious"},MediaStop:{keyCode:178,code:"MediaStop",key:"MediaStop"},MediaPlayPause:{keyCode:179,code:"MediaPlayPause",key:"MediaPlayPause"},Semicolon:{keyCode:186,code:"Semicolon",shiftKey:":",key:";"},Equal:{keyCode:187,code:"Equal",shiftKey:"+",key:"="},NumpadEqual:{keyCode:187,code:"NumpadEqual",key:"=",location:3},Comma:{keyCode:188,code:"Comma",shiftKey:"<",key:","},Minus:{keyCode:189,code:"Minus",shiftKey:"_",key:"-"},Period:{keyCode:190,code:"Period",shiftKey:">",key:"."},Slash:{keyCode:191,code:"Slash",shiftKey:"?",key:"/"},Backquote:{keyCode:192,code:"Backquote",shiftKey:"~",key:"`"},BracketLeft:{keyCode:219,code:"BracketLeft",shiftKey:"{",key:"["},Backslash:{keyCode:220,code:"Backslash",shiftKey:"|",key:"\\"},BracketRight:{keyCode:221,code:"BracketRight",shiftKey:"}",key:"]"},Quote:{keyCode:222,code:"Quote",shiftKey:'"',key:"'"},AltGraph:{keyCode:225,code:"AltGraph",key:"AltGraph"},Props:{keyCode:247,code:"Props",key:"CrSel"},Cancel:{keyCode:3,key:"Cancel",code:"Abort"},Clear:{keyCode:12,key:"Clear",code:"Numpad5",location:3},Shift:{keyCode:16,key:"Shift",code:"ShiftLeft",location:1},Control:{keyCode:17,key:"Control",code:"ControlLeft",location:1},Alt:{keyCode:18,key:"Alt",code:"AltLeft",location:1},Accept:{keyCode:30,key:"Accept"},ModeChange:{keyCode:31,key:"ModeChange"}," ":{keyCode:32,key:" ",code:"Space"},Print:{keyCode:42,key:"Print"},Execute:{keyCode:43,key:"Execute",code:"Open"},"\0":{keyCode:46,key:"\0",code:"NumpadDecimal",location:3},a:{keyCode:65,key:"a",code:"KeyA"},b:{keyCode:66,key:"b",code:"KeyB"},c:{keyCode:67,key:"c",code:"KeyC"},d:{keyCode:68,key:"d",code:"KeyD"},e:{keyCode:69,key:"e",code:"KeyE"},f:{keyCode:70,key:"f",code:"KeyF"},g:{keyCode:71,key:"g",code:"KeyG"},h:{keyCode:72,key:"h",code:"KeyH"},i:{keyCode:73,key:"i",code:"KeyI"},j:{keyCode:74,key:"j",code:"KeyJ"},k:{keyCode:75,key:"k",code:"KeyK"},l:{keyCode:76,key:"l",code:"KeyL"},m:{keyCode:77,key:"m",code:"KeyM"},n:{keyCode:78,key:"n",code:"KeyN"},o:{keyCode:79,key:"o",code:"KeyO"},p:{keyCode:80,key:"p",code:"KeyP"},q:{keyCode:81,key:"q",code:"KeyQ"},r:{keyCode:82,key:"r",code:"KeyR"},s:{keyCode:83,key:"s",code:"KeyS"},t:{keyCode:84,key:"t",code:"KeyT"},u:{keyCode:85,key:"u",code:"KeyU"},v:{keyCode:86,key:"v",code:"KeyV"},w:{keyCode:87,key:"w",code:"KeyW"},x:{keyCode:88,key:"x",code:"KeyX"},y:{keyCode:89,key:"y",code:"KeyY"},z:{keyCode:90,key:"z",code:"KeyZ"},Meta:{keyCode:91,key:"Meta",code:"MetaLeft",location:1},"*":{keyCode:106,key:"*",code:"NumpadMultiply",location:3},"+":{keyCode:107,key:"+",code:"NumpadAdd",location:3},"-":{keyCode:109,key:"-",code:"NumpadSubtract",location:3},"/":{keyCode:111,key:"/",code:"NumpadDivide",location:3},";":{keyCode:186,key:";",code:"Semicolon"},"=":{keyCode:187,key:"=",code:"Equal"},",":{keyCode:188,key:",",code:"Comma"},".":{keyCode:190,key:".",code:"Period"},"`":{keyCode:192,key:"`",code:"Backquote"},"[":{keyCode:219,key:"[",code:"BracketLeft"},"\\":{keyCode:220,key:"\\",code:"Backslash"},"]":{keyCode:221,key:"]",code:"BracketRight"},"'":{keyCode:222,key:"'",code:"Quote"},Attn:{keyCode:246,key:"Attn"},CrSel:{keyCode:247,key:"CrSel",code:"Props"},ExSel:{keyCode:248,key:"ExSel"},EraseEof:{keyCode:249,key:"EraseEof"},Play:{keyCode:250,key:"Play"},ZoomOut:{keyCode:251,key:"ZoomOut"},")":{keyCode:48,key:")",code:"Digit0"},"!":{keyCode:49,key:"!",code:"Digit1"},"@":{keyCode:50,key:"@",code:"Digit2"},"#":{keyCode:51,key:"#",code:"Digit3"},$:{keyCode:52,key:"$",code:"Digit4"},"%":{keyCode:53,key:"%",code:"Digit5"},"^":{keyCode:54,key:"^",code:"Digit6"},"&":{keyCode:55,key:"&",code:"Digit7"},"(":{keyCode:57,key:"(",code:"Digit9"},A:{keyCode:65,key:"A",code:"KeyA"},B:{keyCode:66,key:"B",code:"KeyB"},C:{keyCode:67,key:"C",code:"KeyC"},D:{keyCode:68,key:"D",code:"KeyD"},E:{keyCode:69,key:"E",code:"KeyE"},F:{keyCode:70,key:"F",code:"KeyF"},G:{keyCode:71,key:"G",code:"KeyG"},H:{keyCode:72,key:"H",code:"KeyH"},I:{keyCode:73,key:"I",code:"KeyI"},J:{keyCode:74,key:"J",code:"KeyJ"},K:{keyCode:75,key:"K",code:"KeyK"},L:{keyCode:76,key:"L",code:"KeyL"},M:{keyCode:77,key:"M",code:"KeyM"},N:{keyCode:78,key:"N",code:"KeyN"},O:{keyCode:79,key:"O",code:"KeyO"},P:{keyCode:80,key:"P",code:"KeyP"},Q:{keyCode:81,key:"Q",code:"KeyQ"},R:{keyCode:82,key:"R",code:"KeyR"},S:{keyCode:83,key:"S",code:"KeyS"},T:{keyCode:84,key:"T",code:"KeyT"},U:{keyCode:85,key:"U",code:"KeyU"},V:{keyCode:86,key:"V",code:"KeyV"},W:{keyCode:87,key:"W",code:"KeyW"},X:{keyCode:88,key:"X",code:"KeyX"},Y:{keyCode:89,key:"Y",code:"KeyY"},Z:{keyCode:90,key:"Z",code:"KeyZ"},":":{keyCode:186,key:":",code:"Semicolon"},"<":{keyCode:188,key:"<",code:"Comma"},_:{keyCode:189,key:"_",code:"Minus"},">":{keyCode:190,key:">",code:"Period"},"?":{keyCode:191,key:"?",code:"Slash"},"~":{keyCode:192,key:"~",code:"Backquote"},"{":{keyCode:219,key:"{",code:"BracketLeft"},"|":{keyCode:220,key:"|",code:"Backslash"},"}":{keyCode:221,key:"}",code:"BracketRight"},'"':{keyCode:222,key:'"',code:"Quote"},SoftLeft:{key:"SoftLeft",code:"SoftLeft",location:4},SoftRight:{key:"SoftRight",code:"SoftRight",location:4},Camera:{keyCode:44,key:"Camera",code:"Camera",location:4},Call:{key:"Call",code:"Call",location:4},EndCall:{keyCode:95,key:"EndCall",code:"EndCall",location:4},VolumeDown:{keyCode:182,key:"VolumeDown",code:"VolumeDown",location:4},VolumeUp:{keyCode:183,key:"VolumeUp",code:"VolumeUp",location:4}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tracing=void 0;const n=i(5),r=i(9);t.Tracing=class{constructor(e){this._recording=!1,this._path="",this._client=e}async start(e={}){n.assert(!this._recording,"Cannot start recording trace while already recording trace.");const t=["-*","devtools.timeline","v8.execute","disabled-by-default-devtools.timeline","disabled-by-default-devtools.timeline.frame","toplevel","blink.console","blink.user_timing","latencyInfo","disabled-by-default-devtools.timeline.stack","disabled-by-default-v8.cpu_profiler","disabled-by-default-v8.cpu_profiler.hires"],{path:i=null,screenshots:r=!1,categories:o=t}=e;r&&o.push("disabled-by-default-devtools.screenshot"),this._path=i,this._recording=!0,await this._client.send("Tracing.start",{transferMode:"ReturnAsStream",categories:o.join(",")})}async stop(){let e,t;const i=new Promise((i,n)=>{e=i,t=n});return this._client.once("Tracing.tracingComplete",i=>{r.helper.readProtocolStream(this._client,i.stream,this._path).then(e,t)}),await this._client.send("Tracing.end"),this._recording=!1,i}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Coverage=void 0;const n=i(5),r=i(9),o=i(67);t.Coverage=class{constructor(e){this._jsCoverage=new s(e),this._cssCoverage=new a(e)}async startJSCoverage(e={}){return await this._jsCoverage.start(e)}async stopJSCoverage(){return await this._jsCoverage.stop()}async startCSSCoverage(e={}){return await this._cssCoverage.start(e)}async stopCSSCoverage(){return await this._cssCoverage.stop()}};class s{constructor(e){this._enabled=!1,this._scriptURLs=new Map,this._scriptSources=new Map,this._eventListeners=[],this._resetOnNavigation=!1,this._reportAnonymousScripts=!1,this._client=e}async start(e={}){n.assert(!this._enabled,"JSCoverage is already enabled");const{resetOnNavigation:t=!0,reportAnonymousScripts:i=!1}=e;this._resetOnNavigation=t,this._reportAnonymousScripts=i,this._enabled=!0,this._scriptURLs.clear(),this._scriptSources.clear(),this._eventListeners=[r.helper.addEventListener(this._client,"Debugger.scriptParsed",this._onScriptParsed.bind(this)),r.helper.addEventListener(this._client,"Runtime.executionContextsCleared",this._onExecutionContextsCleared.bind(this))],await Promise.all([this._client.send("Profiler.enable"),this._client.send("Profiler.startPreciseCoverage",{callCount:!1,detailed:!0}),this._client.send("Debugger.enable"),this._client.send("Debugger.setSkipAllPauses",{skip:!0})])}_onExecutionContextsCleared(){this._resetOnNavigation&&(this._scriptURLs.clear(),this._scriptSources.clear())}async _onScriptParsed(e){if(e.url!==o.EVALUATION_SCRIPT_URL&&(e.url||this._reportAnonymousScripts))try{const t=await this._client.send("Debugger.getScriptSource",{scriptId:e.scriptId});this._scriptURLs.set(e.scriptId,e.url),this._scriptSources.set(e.scriptId,t.scriptSource)}catch(e){r.debugError(e)}}async stop(){n.assert(this._enabled,"JSCoverage is not enabled"),this._enabled=!1;const e=await Promise.all([this._client.send("Profiler.takePreciseCoverage"),this._client.send("Profiler.stopPreciseCoverage"),this._client.send("Profiler.disable"),this._client.send("Debugger.disable")]);r.helper.removeEventListeners(this._eventListeners);const t=[],i=e[0];for(const e of i.result){let i=this._scriptURLs.get(e.scriptId);!i&&this._reportAnonymousScripts&&(i="debugger://VM"+e.scriptId);const n=this._scriptSources.get(e.scriptId);if(void 0===n||void 0===i)continue;const r=[];for(const t of e.functions)r.push(...t.ranges);const o=c(r);t.push({url:i,ranges:o,text:n})}return t}}class a{constructor(e){this._enabled=!1,this._stylesheetURLs=new Map,this._stylesheetSources=new Map,this._eventListeners=[],this._resetOnNavigation=!1,this._reportAnonymousScripts=!1,this._client=e}async start(e={}){n.assert(!this._enabled,"CSSCoverage is already enabled");const{resetOnNavigation:t=!0}=e;this._resetOnNavigation=t,this._enabled=!0,this._stylesheetURLs.clear(),this._stylesheetSources.clear(),this._eventListeners=[r.helper.addEventListener(this._client,"CSS.styleSheetAdded",this._onStyleSheet.bind(this)),r.helper.addEventListener(this._client,"Runtime.executionContextsCleared",this._onExecutionContextsCleared.bind(this))],await Promise.all([this._client.send("DOM.enable"),this._client.send("CSS.enable"),this._client.send("CSS.startRuleUsageTracking")])}_onExecutionContextsCleared(){this._resetOnNavigation&&(this._stylesheetURLs.clear(),this._stylesheetSources.clear())}async _onStyleSheet(e){const t=e.header;if(t.sourceURL)try{const e=await this._client.send("CSS.getStyleSheetText",{styleSheetId:t.styleSheetId});this._stylesheetURLs.set(t.styleSheetId,t.sourceURL),this._stylesheetSources.set(t.styleSheetId,e.text)}catch(e){r.debugError(e)}}async stop(){n.assert(this._enabled,"CSSCoverage is not enabled"),this._enabled=!1;const e=await this._client.send("CSS.stopRuleUsageTracking");await Promise.all([this._client.send("CSS.disable"),this._client.send("DOM.disable")]),r.helper.removeEventListeners(this._eventListeners);const t=new Map;for(const i of e.ruleUsage){let e=t.get(i.styleSheetId);e||(e=[],t.set(i.styleSheetId,e)),e.push({startOffset:i.startOffset,endOffset:i.endOffset,count:i.used?1:0})}const i=[];for(const e of this._stylesheetURLs.keys()){const n=this._stylesheetURLs.get(e),r=this._stylesheetSources.get(e),o=c(t.get(e)||[]);i.push({url:n,ranges:o,text:r})}return i}}function c(e){const t=[];for(const i of e)t.push({offset:i.startOffset,type:0,range:i}),t.push({offset:i.endOffset,type:1,range:i});t.sort((e,t)=>{if(e.offset!==t.offset)return e.offset-t.offset;if(e.type!==t.type)return t.type-e.type;const i=e.range.endOffset-e.range.startOffset,n=t.range.endOffset-t.range.startOffset;return 0===e.type?n-i:i-n});const i=[],n=[];let r=0;for(const e of t){if(i.length&&r<e.offset&&i[i.length-1]>0){const t=n.length?n[n.length-1]:null;t&&t.end===r?t.end=e.offset:n.push({start:r,end:e.offset})}r=e.offset,0===e.type?i.push(e.range.count):i.pop()}return n.filter(e=>e.end-e.start>1)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Accessibility=void 0;t.Accessibility=class{constructor(e){this._client=e}async snapshot(e={}){const{interestingOnly:t=!0,root:i=null}=e,{nodes:r}=await this._client.send("Accessibility.getFullAXTree");let o=null;if(i){const{node:e}=await this._client.send("DOM.describeNode",{objectId:i._remoteObject.objectId});o=e.backendNodeId}const s=n.createTree(r);let a=s;if(o&&(a=s.find(e=>e.payload.backendDOMNodeId===o),!a))return null;if(!t)return this.serializeTree(a)[0];const c=new Set;return this.collectInterestingNodes(c,s,!1),c.has(a)?this.serializeTree(a,c)[0]:null}serializeTree(e,t){const i=[];for(const n of e.children)i.push(...this.serializeTree(n,t));if(t&&!t.has(e))return i;const n=e.serialize();return i.length&&(n.children=i),[n]}collectInterestingNodes(e,t,i){if(t.isInteresting(i)&&e.add(t),!t.isLeafNode()){i=i||t.isControl();for(const n of t.children)this.collectInterestingNodes(e,n,i)}}};class n{constructor(e){this.children=[],this._richlyEditable=!1,this._editable=!1,this._focusable=!1,this._hidden=!1,this.payload=e,this._name=this.payload.name?this.payload.name.value:"",this._role=this.payload.role?this.payload.role.value:"Unknown",this._ignored=this.payload.ignored;for(const e of this.payload.properties||[])"editable"===e.name&&(this._richlyEditable="richtext"===e.value.value,this._editable=!0),"focusable"===e.name&&(this._focusable=e.value.value),"hidden"===e.name&&(this._hidden=e.value.value)}_isPlainTextField(){return!this._richlyEditable&&(!!this._editable||("textbox"===this._role||"searchbox"===this._role))}_isTextOnlyObject(){const e=this._role;return"LineBreak"===e||"text"===e||"InlineTextBox"===e}_hasFocusableChild(){if(void 0===this._cachedHasFocusableChild){this._cachedHasFocusableChild=!1;for(const e of this.children)if(e._focusable||e._hasFocusableChild()){this._cachedHasFocusableChild=!0;break}}return this._cachedHasFocusableChild}find(e){if(e(this))return this;for(const t of this.children){const i=t.find(e);if(i)return i}return null}isLeafNode(){if(!this.children.length)return!0;if(this._isPlainTextField()||this._isTextOnlyObject())return!0;switch(this._role){case"doc-cover":case"graphics-symbol":case"img":case"Meter":case"scrollbar":case"slider":case"separator":case"progressbar":return!0}return!this._hasFocusableChild()&&(!(!this._focusable||!this._name)||!("heading"!==this._role||!this._name))}isControl(){switch(this._role){case"button":case"checkbox":case"ColorWell":case"combobox":case"DisclosureTriangle":case"listbox":case"menu":case"menubar":case"menuitem":case"menuitemcheckbox":case"menuitemradio":case"radio":case"scrollbar":case"searchbox":case"slider":case"spinbutton":case"switch":case"tab":case"textbox":case"tree":case"treeitem":return!0;default:return!1}}isInteresting(e){return"Ignored"!==this._role&&!this._hidden&&!this._ignored&&(!(!this._focusable&&!this._richlyEditable)||(!!this.isControl()||!e&&(this.isLeafNode()&&!!this._name)))}serialize(){const e=new Map;for(const t of this.payload.properties||[])e.set(t.name.toLowerCase(),t.value.value);this.payload.name&&e.set("name",this.payload.name.value),this.payload.value&&e.set("value",this.payload.value.value),this.payload.description&&e.set("description",this.payload.description.value);const t={role:this._role},i=["name","value","description","keyshortcuts","roledescription","valuetext"];for(const r of i)e.has(r)&&(t[r]=(n=r,e.get(n)));var n;const r=["disabled","expanded","focused","modal","multiline","multiselectable","readonly","required","selected"],o=t=>e.get(t);for(const e of r){if("focused"===e&&"WebArea"===this._role)continue;o(e)&&(t[e]=o(e))}const s=["checked","pressed"];for(const i of s){if(!e.has(i))continue;const n=e.get(i);t[i]="mixed"===n?"mixed":"true"===n}const a=["level","valuemax","valuemin"],c=t=>e.get(t);for(const i of a)e.has(i)&&(t[i]=c(i));const l=["autocomplete","haspopup","invalid","orientation"],d=t=>e.get(t);for(const e of l){const i=d(e);i&&"false"!==i&&(t[e]=d(e))}return t}static createTree(e){const t=new Map;for(const i of e)t.set(i.nodeId,new n(i));for(const e of t.values())for(const i of e.payload.childIds||[])e.children.push(t.get(i));return t.values().next().value}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TimeoutSettings=void 0;t.TimeoutSettings=class{constructor(){this._defaultTimeout=null,this._defaultNavigationTimeout=null}setDefaultTimeout(e){this._defaultTimeout=e}setDefaultNavigationTimeout(e){this._defaultNavigationTimeout=e}navigationTimeout(){return null!==this._defaultNavigationTimeout?this._defaultNavigationTimeout:null!==this._defaultTimeout?this._defaultTimeout:3e4}timeout(){return null!==this._defaultTimeout?this._defaultTimeout:3e4}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileChooser=void 0;const n=i(5);t.FileChooser=class{constructor(e,t){this._handled=!1,this._element=e,this._multiple="selectSingle"!==t.mode}isMultiple(){return this._multiple}async accept(e){n.assert(!this._handled,"Cannot accept FileChooser which is already handled!"),this._handled=!0,await this._element.uploadFile(...e)}async cancel(){n.assert(!this._handled,"Cannot cancel FileChooser which is already handled!"),this._handled=!0}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleMessage=void 0;t.ConsoleMessage=class{constructor(e,t,i,n){this._type=e,this._text=t,this._args=i,this._stackTraceLocations=n}type(){return this._type}text(){return this._text}args(){return this._args}location(){return this._stackTraceLocations.length?this._stackTraceLocations[0]:{}}stackTrace(){return this._stackTraceLocations}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.paperFormats=void 0,t.paperFormats={letter:{width:8.5,height:11},legal:{width:8.5,height:14},tabloid:{width:11,height:17},ledger:{width:17,height:11},a0:{width:33.1,height:46.8},a1:{width:23.4,height:33.1},a2:{width:16.54,height:23.4},a3:{width:11.7,height:16.54},a4:{width:8.27,height:11.7},a5:{width:5.83,height:8.27},a6:{width:4.13,height:5.83}}},function(e,t){throw new Error('Module parse failed: Unexpected token (1:10)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n> {"version":3,"file":"Browser.js","sourceRoot":"","sources":["../../../source/puppeteer/lib/Browser.ts"],"names":[],"mappings":";;AAGA,IAAI,KAAK,GAAuB,IAAI,CAAC;AAErC,IAAI;IACF,KAAK,GAAG,OAAO,CAAC,4CAA4C,CAAC,CAAC,OAAO,CAAC;CACvE;AAAC,OAAO,KAAK,EAAE;IACd,KAAK,GAAG,OAAO,CAAC,iDAAiD,CAAC,CAAC,OAAO,CAAC;CAC5E;AAED,KAAK,CAAC,SAAS,CAAC,WAAW,GAAG,KAAK,WAAW,GAAG,KAAa;IAC5D,IAAI,IAAI,GAAS,IAAI,CAAC;IACtB,IAAI,KAAK,GAAW,MAAM,IAAI,CAAC,KAAK,EAAE,CAAC;IAEvC,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;QACtB,KAAK,GAAG,CAAC,MAAM,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;KAChC;IAED,IAAI,GAAG,KAAK,CAAC,KAAK,EAAE,CAAC;IAErB,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,IAAI,EAAE;QAClD,KAAK,IAAI,IAAI,IAAI,KAAK,EAAE;YACtB,IAAI,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,CAAC;SACzB;KACF;IAED,OAAO,IAAI,CAAC;AACd,CAAC,CAAC;AAEF,IAAI,OAAO,GAAQ,KAAK,CAAC,SAAS,CAAC,OAAO,CAAC;AAE3C,KAAK,CAAC,SAAS,CAAC,OAAO,GAAG,KAAK,WAAW,GAAG,KAAa;IACxD,IAAI,IAAI,GAAS,MAAM,OAAO,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;IAEtD,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,IAAI,EAAE;QAClD,KAAK,IAAI,IAAI,IAAI,KAAK,EAAE;YACtB,IAAI,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,CAAC;SACzB;KACF;IAED,OAAO,IAAI,CAAC;AACd,CAAC,CAAC"}')},function(e,t){throw new Error('Module parse failed: Unexpected token (1:10)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n> {"version":3,"file":"BrowserContext.js","sourceRoot":"","sources":["../../../source/puppeteer/lib/BrowserContext.ts"],"names":[],"mappings":";;AAGA,IAAI,KAAK,GAA8B,IAAI,CAAC;AAE5C,IAAI;IACF,KAAK,GAAG,OAAO,CAAC,4CAA4C,CAAC,CAAC,cAAc,CAAC;CAC9E;AAAC,OAAO,KAAK,EAAE;IACd,KAAK,GAAG,OAAO,CAAC,iDAAiD,CAAC,CAAC,cAAc,CAAC;CACnF;AAED,KAAK,CAAC,SAAS,CAAC,WAAW,GAAG,KAAK,WAAW,GAAG,KAAa;IAC5D,IAAI,IAAI,GAAS,IAAI,CAAC;IACtB,IAAI,KAAK,GAAW,MAAM,IAAI,CAAC,KAAK,EAAE,CAAC;IAEvC,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;QACtB,KAAK,GAAG,CAAC,MAAM,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;KAChC;IAED,IAAI,GAAG,KAAK,CAAC,KAAK,EAAE,CAAC;IAErB,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,IAAI,EAAE;QAClD,KAAK,IAAI,IAAI,IAAI,KAAK,EAAE;YACtB,IAAI,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,CAAC;SACzB;KACF;IAED,OAAO,IAAI,CAAC;AACd,CAAC,CAAC;AAEF,IAAI,OAAO,GAAQ,KAAK,CAAC,SAAS,CAAC,OAAO,CAAC;AAE3C,KAAK,CAAC,SAAS,CAAC,OAAO,GAAG,KAAK,WAAW,GAAG,KAAa;IACxD,IAAI,IAAI,GAAS,MAAM,OAAO,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;IAEtD,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,IAAI,EAAE;QAClD,KAAK,IAAI,IAAI,IAAI,KAAK,EAAE;YACtB,IAAI,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,CAAC;SACzB;KACF;IAED,OAAO,IAAI,CAAC;AACd,CAAC,CAAC"}')},function(e,t){throw new Error('Module parse failed: Unexpected token (1:10)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n> {"version":3,"file":"ElementHandle.js","sourceRoot":"","sources":["../../../source/puppeteer/lib/ElementHandle.ts"],"names":[],"mappings":";;AAGA,IAAI,KAAK,GAA6B,IAAI,CAAC;AAE3C,IAAI;IACF,KAAK,GAAG,OAAO,CAAC,6CAA6C,CAAC,CAAC,aAAa,CAAC;CAC9E;AAAC,OAAO,KAAK,EAAE;IACd,KAAK,GAAG,OAAO,CAAC,kDAAkD,CAAC,CAAC,aAAa,CAAC;CACnF;AAED,KAAK,CAAC,SAAS,CAAC,yBAAyB,GAAG,UAAU,OAAwB;IAC5E,OAAO,GAAG,OAAO,aAAP,OAAO,cAAP,OAAO,GAAI;QACnB,SAAS,EAAE;YACT,MAAM;SACP;KACF,CAAC;IAEF,IAAI,QAAQ,GAA2C;QACnD,IAAY,CAAC,KAAc,CAAC,iBAAiB,CAAC,OAAO,CAAC;QACxD,IAAI,CAAC,KAAK,EAAE;KACb,CAAC;IAEF,OAAO,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,KAAK,EAAkB,CAAC,CAAC;AAC9E,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,sBAAsB,GAAG,UAAU,OAAwB,EAAE,OAA4B;IACvG,IAAI,QAAQ,GAAG,CAAC,OAAoB,EAAE,EAAE;QACtC,IAAI,GAAG,GAAG,OAAO,CAAC,GAAG,EAAE,CAAC;QAExB,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,IAAI,EAAE;YACjE,OAAO,GAAG,IAAI,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,uBAAuB,EAAE,MAAM,CAAC,CAAC,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC;SACrG;QAED,IAAI,OAAO,YAAY,MAAM,EAAE;YAC7B,OAAO,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SAC1B;QAED,OAAO,OAAO,KAAK,GAAG,CAAC;IACzB,CAAC,CAAC;IAEF,IAAI,QAAQ,GAA0C;QAClD,IAAY,CAAC,KAAc,CAAC,cAAc,CAAC,QAAQ,EAAE,OAAO,CAAC;QAC/D,IAAI,CAAC,KAAK,EAAE;KACb,CAAC;IAEF,OAAO,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,KAAK,EAAiB,CAAC,CAAC;AAC7E,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,uBAAuB,GAAG,UAAU,OAAwB,EAAE,OAA4B;IACxG,IAAI,QAAQ,GAAG,CAAC,OAAqB,EAAE,EAAE;QACvC,IAAI,GAAG,GAAG,OAAO,CAAC,GAAG,EAAE,CAAC;QAExB,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,IAAI,EAAE;YACjE,OAAO,GAAG,IAAI,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,uBAAuB,EAAE,MAAM,CAAC,CAAC,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC;SACrG;QAED,IAAI,OAAO,YAAY,MAAM,EAAE;YAC7B,OAAO,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SAC1B;QAED,OAAO,OAAO,KAAK,GAAG,CAAC;IACzB,CAAC,CAAC;IAEF,IAAI,QAAQ,GAA2C;QACnD,IAAY,CAAC,KAAc,CAAC,eAAe,CAAC,QAAQ,EAAE,OAAO,CAAC;QAChE,IAAI,CAAC,KAAK,EAAE;KACb,CAAC;IAEF,OAAO,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,KAAK,EAAkB,CAAC,CAAC;AAC9E,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,eAAe,GAAG,UAAiE,IAAO;IACxG,IAAI,QAAQ,GAAG,CAAC,IAAqB,EAAE,IAAO,EAAE,EAAE;QAChD,IAAI,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,KAAK,MAAM,EAAE;YAC1C,MAAM,IAAI,KAAK,CAAC,kCAAkC,CAAC,CAAC;SACrD;QAED,IAAI,MAAM,GAA6B,EAAE,CAAC;QAE1C,KAAK,IAAI,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YAC7C,IAAI,QAAQ,GAAG;gBACb,2CAA2C,GAAG,WAAW;gBACzD,iCAAiC,GAAG,sDAAsD;aAC3F,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAEd,IAAI,MAAM,CAAC,cAAc,CAAC,GAAG,CAAC,KAAK,IAAI,EAAE;gBACvC,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;aAClB;YAED,IAAI,OAAO,GAAS,IAAI,CAAC;YACzB,IAAI,QAAQ,GAAuB,EAAE,CAAC;YACtC,IAAI,QAAQ,GAAG,QAAQ,CAAC,QAAQ,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,WAAW,CAAC,0BAA0B,EAAE,IAAI,CAAC,CAAC;YAErG,OAAO,CAAC,OAAO,GAAG,QAAQ,CAAC,WAAW,EAAE,CAAC,IAAI,IAAI,EAAE;gBACjD,QAAQ,CAAC,IAAI,CAAC,OAA2B,CAAC,CAAC;aAC5C;YAED,IAAI,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE;gBACzB,MAAM,IAAI,KAAK,CAAC,mCAAmC,QAAQ,UAAU,GAAG,IAAI,CAAC,CAAC;aAC/E;YAED,IAAI,IAAI,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,WAAW,EAAE,CAAC;YACpF,IAAI,MAAM,GAAyB,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC,KAA6B,CAAC,CAAC,CAAC,CAAC,KAAK,CAAyB,CAAC;YAErI,IAAI,IAAI,KAAK,MAAM,EAAE;gBACnB,MAAM,IAAI,KAAK,CAAC,gDAAgD,CAAC,CAAC;aACnE;YAED,KAAK,IAAI,OAAO,IAAI,QAAQ,EAAE;gBAC5B,IAAI;oBACF,OAAO,CAAC,KAAK,EAAE,CAAC;oBAChB,OAAO,CAAC,aAAa,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;iBAC3C;gBAAC,OAAO,KAAK,EAAE;iBACf;gBAED,IAAI,IAAI,KAAK,QAAQ,EAAE;oBACrB,OAAO,CAAC,KAAK,GAAG,SAAS,CAAC;oBAE1B,KAAK,IAAI,KAAK,IAAI,CAAC,OAAO,EAAE,OAAO,CAAuB,EAAE;wBAC1D,IAAI,MAAM,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;4BAC1B,MAAM;yBACP;wBAED,KAAK,IAAI,MAAM,IAAI,KAAK,CAAC,IAAI,CAAE,OAAwC,CAAC,OAAO,CAAC,EAAE;4BAChF,MAAM,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;4BAEjD,IAAI,MAAM,CAAC,QAAQ,KAAK,IAAI,EAAE;gCAC5B,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;gCAE/B,IAAI,OAAO,CAAC,QAAQ,KAAK,IAAI,EAAE;oCAC7B,MAAM;iCACP;6BACF;yBACF;qBACF;iBACF;qBAAM,IAAI,IAAI,KAAK,UAAU,IAAI,IAAI,KAAK,OAAO,EAAE;oBAClD,OAAO,CAAC,OAAO,GAAG,CAAC,KAAK,KAAK,IAAI,CAAC,IAAI,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;oBAErE,IAAI,OAAO,CAAC,OAAO,KAAK,IAAI,EAAE;wBAC5B,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;qBACjC;iBACF;qBAAM,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;oBACpC,IAAI,OAAO,CAAC,iBAAiB,KAAK,IAAI,EAAE;wBACtC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,KAAK,CAAC,CAAC;qBAC/C;yBAAM;wBACL,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC;qBACzC;iBACF;gBAED,KAAK,IAAI,OAAO,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC,EAAE;oBACvC,OAAO,CAAC,aAAa,CAAC,IAAI,KAAK,CAAC,OAAO,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;iBAChE;gBAED,IAAI;oBACF,OAAO,CAAC,IAAI,EAAE,CAAC;oBACf,OAAO,CAAC,aAAa,CAAC,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;iBAC1C;gBAAC,OAAO,KAAK,EAAE;iBACf;gBAED,IAAI,IAAI,KAAK,UAAU,IAAI,IAAI,KAAK,OAAO,EAAE;oBAC3C,MAAM;iBACP;aACF;SACF;QAED,OAAO,MAAM,CAAC;IAChB,CAAC,CAAC;IAEF,OAAO,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,IAAI,CAAQ,CAAC;AAC9C,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,cAAc,GAAG,UAAiE,IAAO;IACvG,IAAI,QAAQ,GAAG,CAAC,IAAqB,EAAE,IAAO,EAAE,YAAgD,KAAK,EAAE,EAAE;QACvG,IAAI,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,KAAK,MAAM,EAAE;YAC1C,MAAM,IAAI,KAAK,CAAC,kCAAkC,CAAC,CAAC;SACrD;QAED,IAAI,MAAM,GAA6B,EAAE,CAAC;QAE1C,KAAK,IAAI,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YAC7C,IAAI,QAAQ,GAAG,UAAU,GAAG,IAAI,CAAC;YAEjC,IAAI,MAAM,CAAC,cAAc,CAAC,GAAG,CAAC,KAAK,IAAI,EAAE;gBACvC,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;aAClB;YAED,IAAI,QAAQ,GAAuB,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,CAAC;YAE/E,IAAI,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE;gBACzB,MAAM,IAAI,KAAK,CAAC,mCAAmC,QAAQ,UAAU,GAAG,IAAI,CAAC,CAAC;aAC/E;YAED,IAAI,IAAI,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,WAAW,EAAE,CAAC;YACpF,IAAI,MAAM,GAAyB,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC,KAA6B,CAAC,CAAC,CAAC,CAAC,KAAK,CAAyB,CAAC;YAErI,IAAI,IAAI,KAAK,MAAM,EAAE;gBACnB,MAAM,IAAI,KAAK,CAAC,gDAAgD,CAAC,CAAC;aACnE;YAED,KAAK,IAAI,OAAO,IAAI,QAAQ,EAAE;gBAC5B,IAAI;oBACF,OAAO,CAAC,KAAK,EAAE,CAAC;oBAChB,OAAO,CAAC,aAAa,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;iBAC3C;gBAAC,OAAO,KAAK,EAAE;iBACf;gBAED,IAAI,IAAI,KAAK,QAAQ,EAAE;oBACrB,OAAO,CAAC,KAAK,GAAG,SAAS,CAAC;oBAE1B,KAAK,IAAI,KAAK,IAAI,CAAC,OAAO,EAAE,OAAO,CAAuB,EAAE;wBAC1D,IAAI,MAAM,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;4BAC1B,MAAM;yBACP;wBAED,KAAK,IAAI,MAAM,IAAI,KAAK,CAAC,IAAI,CAAE,OAAwC,CAAC,OAAO,CAAC,EAAE;4BAChF,MAAM,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;4BAEjD,IAAI,MAAM,CAAC,QAAQ,KAAK,IAAI,EAAE;gCAC5B,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;gCAE/B,IAAI,OAAO,CAAC,QAAQ,KAAK,IAAI,EAAE;oCAC7B,MAAM;iCACP;6BACF;yBACF;qBACF;iBACF;qBAAM,IAAI,IAAI,KAAK,UAAU,IAAI,IAAI,KAAK,OAAO,EAAE;oBAClD,OAAO,CAAC,OAAO,GAAG,CAAC,KAAK,KAAK,IAAI,CAAC,IAAI,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;oBAErE,IAAI,OAAO,CAAC,OAAO,KAAK,IAAI,EAAE;wBAC5B,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;qBACjC;iBACF;qBAAM,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;oBACpC,IAAI,OAAO,CAAC,iBAAiB,KAAK,IAAI,EAAE;wBACtC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,KAAK,CAAC,CAAC;qBAC/C;yBAAM;wBACL,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC;qBACzC;iBACF;gBAED,KAAK,IAAI,OAAO,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC,EAAE;oBACvC,OAAO,CAAC,aAAa,CAAC,IAAI,KAAK,CAAC,OAAO,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;iBAChE;gBAED,IAAI;oBACF,OAAO,CAAC,IAAI,EAAE,CAAC;oBACf,OAAO,CAAC,aAAa,CAAC,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;iBAC1C;gBAAC,OAAO,KAAK,EAAE;iBACf;gBAED,IAAI,IAAI,KAAK,UAAU,IAAI,IAAI,KAAK,OAAO,EAAE;oBAC3C,MAAM;iBACP;aACF;SACF;QAED,OAAO,MAAM,CAAC;IAChB,CAAC,CAAC;IAEF,OAAO,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,IAAI,CAAQ,CAAC;AAC9C,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAiE,IAAO;IAC3G,IAAI,QAAQ,GAAG,CAAC,IAAqB,EAAE,IAAO,EAAE,YAAgD,KAAK,EAAE,EAAE;QACvG,IAAI,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,KAAK,MAAM,EAAE;YAC1C,MAAM,IAAI,KAAK,CAAC,kCAAkC,CAAC,CAAC;SACrD;QAED,IAAI,MAAM,GAA6B,EAAE,CAAC;QAE1C,KAAK,IAAI,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YAC7C,IAAI,QAAQ,GAAG,GAAG,CAAC;YAEnB,IAAI,MAAM,CAAC,cAAc,CAAC,GAAG,CAAC,KAAK,IAAI,EAAE;gBACvC,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;aAClB;YAED,IAAI,QAAQ,GAAuB,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,CAAC;YAE/E,IAAI,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE;gBACzB,MAAM,IAAI,KAAK,CAAC,mCAAmC,QAAQ,UAAU,GAAG,IAAI,CAAC,CAAC;aAC/E;YAED,IAAI,IAAI,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,WAAW,EAAE,CAAC;YACpF,IAAI,MAAM,GAAyB,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC,KAA6B,CAAC,CAAC,CAAC,CAAC,KAAK,CAAyB,CAAC;YAErI,IAAI,IAAI,KAAK,MAAM,EAAE;gBACnB,MAAM,IAAI,KAAK,CAAC,gDAAgD,CAAC,CAAC;aACnE;YAED,KAAK,IAAI,OAAO,IAAI,QAAQ,EAAE;gBAC5B,IAAI;oBACF,OAAO,CAAC,KAAK,EAAE,CAAC;oBAChB,OAAO,CAAC,aAAa,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;iBAC3C;gBAAC,OAAO,KAAK,EAAE;iBACf;gBAED,IAAI,IAAI,KAAK,QAAQ,EAAE;oBACrB,OAAO,CAAC,KAAK,GAAG,SAAS,CAAC;oBAE1B,KAAK,IAAI,KAAK,IAAI,CAAC,OAAO,EAAE,OAAO,CAAuB,EAAE;wBAC1D,IAAI,MAAM,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;4BAC1B,MAAM;yBACP;wBAED,KAAK,IAAI,MAAM,IAAI,KAAK,CAAC,IAAI,CAAE,OAAwC,CAAC,OAAO,CAAC,EAAE;4BAChF,MAAM,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;4BAEjD,IAAI,MAAM,CAAC,QAAQ,KAAK,IAAI,EAAE;gCAC5B,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;gCAE/B,IAAI,OAAO,CAAC,QAAQ,KAAK,IAAI,EAAE;oCAC7B,MAAM;iCACP;6BACF;yBACF;qBACF;iBACF;qBAAM,IAAI,IAAI,KAAK,UAAU,IAAI,IAAI,KAAK,OAAO,EAAE;oBAClD,OAAO,CAAC,OAAO,GAAG,CAAC,KAAK,KAAK,IAAI,CAAC,IAAI,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;oBAErE,IAAI,OAAO,CAAC,OAAO,KAAK,IAAI,EAAE;wBAC5B,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;qBACjC;iBACF;qBAAM,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;oBACpC,IAAI,OAAO,CAAC,iBAAiB,KAAK,IAAI,EAAE;wBACtC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,KAAK,CAAC,CAAC;qBAC/C;yBAAM;wBACL,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC;qBACzC;iBACF;gBAED,KAAK,IAAI,OAAO,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC,EAAE;oBACvC,OAAO,CAAC,aAAa,CAAC,IAAI,KAAK,CAAC,OAAO,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;iBAChE;gBAED,IAAI;oBACF,OAAO,CAAC,IAAI,EAAE,CAAC;oBACf,OAAO,CAAC,aAAa,CAAC,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;iBAC1C;gBAAC,OAAO,KAAK,EAAE;iBACf;gBAED,IAAI,IAAI,KAAK,UAAU,IAAI,IAAI,KAAK,OAAO,EAAE;oBAC3C,MAAM;iBACP;aACF;SACF;QAED,OAAO,MAAM,CAAC;IAChB,CAAC,CAAC;IAEF,OAAO,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,IAAI,CAAQ,CAAC;AAC9C,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,eAAe,GAAG,UAAiE,IAAO;IACxG,IAAI,QAAQ,GAAG,CAAC,IAAqB,EAAE,IAAO,EAAE,EAAE;QAChD,IAAI,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,KAAK,MAAM,EAAE;YAC1C,MAAM,IAAI,KAAK,CAAC,kCAAkC,CAAC,CAAC;SACrD;QAED,IAAI,MAAM,GAA6B,EAAE,CAAC;QAE1C,KAAK,IAAI,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YAC7C,IAAI,QAAQ,GAAG,GAAG,CAAC;YAEnB,IAAI,MAAM,CAAC,cAAc,CAAC,GAAG,CAAC,KAAK,IAAI,EAAE;gBACvC,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;aAClB;YAED,IAAI,OAAO,GAAS,IAAI,CAAC;YACzB,IAAI,QAAQ,GAAuB,EAAE,CAAC;YACtC,IAAI,QAAQ,GAAG,QAAQ,CAAC,QAAQ,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,WAAW,CAAC,0BAA0B,EAAE,IAAI,CAAC,CAAC;YAErG,OAAO,CAAC,OAAO,GAAG,QAAQ,CAAC,WAAW,EAAE,CAAC,IAAI,IAAI,EAAE;gBACjD,QAAQ,CAAC,IAAI,CAAC,OAA2B,CAAC,CAAC;aAC5C;YAED,IAAI,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE;gBACzB,MAAM,IAAI,KAAK,CAAC,mCAAmC,QAAQ,UAAU,GAAG,IAAI,CAAC,CAAC;aAC/E;YAED,IAAI,IAAI,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,WAAW,EAAE,CAAC;YACpF,IAAI,MAAM,GAAyB,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC,KAA6B,CAAC,CAAC,CAAC,CAAC,KAAK,CAAyB,CAAC;YAErI,IAAI,IAAI,KAAK,MAAM,EAAE;gBACnB,MAAM,IAAI,KAAK,CAAC,gDAAgD,CAAC,CAAC;aACnE;YAED,KAAK,IAAI,OAAO,IAAI,QAAQ,EAAE;gBAC5B,IAAI;oBACF,OAAO,CAAC,KAAK,EAAE,CAAC;oBAChB,OAAO,CAAC,aAAa,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;iBAC3C;gBAAC,OAAO,KAAK,EAAE;iBACf;gBAED,IAAI,IAAI,KAAK,QAAQ,EAAE;oBACrB,OAAO,CAAC,KAAK,GAAG,SAAS,CAAC;oBAE1B,KAAK,IAAI,KAAK,IAAI,CAAC,OAAO,EAAE,OAAO,CAAuB,EAAE;wBAC1D,IAAI,MAAM,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;4BAC1B,MAAM;yBACP;wBAED,KAAK,IAAI,MAAM,IAAI,KAAK,CAAC,IAAI,CAAE,OAAwC,CAAC,OAAO,CAAC,EAAE;4BAChF,MAAM,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;4BAEjD,IAAI,MAAM,CAAC,QAAQ,KAAK,IAAI,EAAE;gCAC5B,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;gCAE/B,IAAI,OAAO,CAAC,QAAQ,KAAK,IAAI,EAAE;oCAC7B,MAAM;iCACP;6BACF;yBACF;qBACF;iBACF;qBAAM,IAAI,IAAI,KAAK,UAAU,IAAI,IAAI,KAAK,OAAO,EAAE;oBAClD,OAAO,CAAC,OAAO,GAAG,CAAC,KAAK,KAAK,IAAI,CAAC,IAAI,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;oBAErE,IAAI,OAAO,CAAC,OAAO,KAAK,IAAI,EAAE;wBAC5B,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;qBACjC;iBACF;qBAAM,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;oBACpC,IAAI,OAAO,CAAC,iBAAiB,KAAK,IAAI,EAAE;wBACtC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,KAAK,CAAC,CAAC;qBAC/C;yBAAM;wBACL,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC;qBACzC;iBACF;gBAED,KAAK,IAAI,OAAO,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC,EAAE;oBACvC,OAAO,CAAC,aAAa,CAAC,IAAI,KAAK,CAAC,OAAO,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;iBAChE;gBAED,IAAI;oBACF,OAAO,CAAC,IAAI,EAAE,CAAC;oBACf,OAAO,CAAC,aAAa,CAAC,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;iBAC1C;gBAAC,OAAO,KAAK,EAAE;iBACf;gBAED,IAAI,IAAI,KAAK,UAAU,IAAI,IAAI,KAAK,OAAO,EAAE;oBAC3C,MAAM;iBACP;aACF;SACF;QAED,OAAO,MAAM,CAAC;IAChB,CAAC,CAAC;IAEF,OAAO,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,IAAI,CAAQ,CAAC;AAC9C,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,YAAY,GAAG;IAC7B,OAAO,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAiB,EAAE,EAAE;QACzC,OAAO,IAAI,CAAC,SAAS,CAAC;IACxB,CAAC,CAAC,CAAC;AACL,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,YAAY,GAAG;IAC7B,OAAO,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAiB,EAAE,EAAE;QACzC,OAAO,IAAI,CAAC,SAAS,CAAC;IACxB,CAAC,CAAC,CAAC;AACL,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,MAAM,GAAG,UAA2B,UAAkB,GAAG,EAAE,WAAkC,aAAoB;IAC/H,IAAI,QAAQ,GAAG,CAAC,IAAO,EAAE,OAAe,EAAE,QAA+B,EAAE,EAAE;QAC3E,IAAI,IAAI,GAAI,IAAI,CAAC,QAAQ,CAAuB,CAAC;QAEjD,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;YAC5B,OAAO,GAAG,OAAO,aAAP,OAAO,cAAP,OAAO,GAAI,GAAG,CAAC;YAEzB,IAAI,OAAO,OAAO,KAAK,QAAQ,EAAE;gBAC/B,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;aAC3C;YAED,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,4CAA4C,CAAC,CAAC;YAEvE,IAAI,OAAO,IAAI,IAAI,EAAE;gBACnB,OAAO,OAAO,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,UAAU,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,MAAM,CAAC,UAAU,OAAO,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;aAC5H;SACF;QAED,OAAO,IAAI,CAAC;IACd,CAAC,CAAC;IAEF,OAAO,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,OAAO,EAAE,QAAe,CAAC,CAAC;AAC3D,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,GAAG,MAAgB;IAC3D,KAAK,IAAI,KAAK,IAAI,MAAM,EAAE;QACxB,OAAO,CAAC,MAAM,CAAC,OAAO,KAAK,KAAK,QAAQ,EAAE,wCAAwC,KAAK,cAAc,OAAO,KAAK,IAAI,CAAC,CAAC;KACxH;IAED,IAAI,QAAQ,GAAG,CAAC,IAAuB,EAAE,MAAgB,EAAE,EAAE;QAC3D,IAAI,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,KAAK,QAAQ,EAAE;YAC5C,MAAM,IAAI,KAAK,CAAC,oCAAoC,CAAC,CAAC;SACvD;QAED,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC;QAEvB,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,IAAI,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAEvC,KAAK,IAAI,MAAM,IAAI,OAAO,EAAE;YAC1B,MAAM,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YAEhD,IAAI,MAAM,CAAC,QAAQ,KAAK,IAAI,EAAE;gBAC5B,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;gBAE1B,IAAI,IAAI,CAAC,QAAQ,KAAK,IAAI,EAAE;oBAC1B,MAAM;iBACP;aACF;SACF;QAED,KAAK,IAAI,OAAO,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC,EAAE;YACvC,IAAI,CAAC,aAAa,CAAC,IAAI,KAAK,CAAC,OAAO,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;SAC3D;QAED,OAAO,MAAM,CAAC;IAChB,CAAC,CAAC;IAEF,OAAO,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;AACzC,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,MAAM,GAAG,UAA2B,WAAkC,aAAoB;IACxG,IAAI,QAAQ,GAAG,CAAC,IAAO,EAAE,QAA+B,EAAE,EAAE;QAC1D,IAAI,IAAI,GAAI,IAAI,CAAC,QAAQ,CAAuB,CAAC;QAEjD,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;YAC5B,IAAI,QAAQ,GAAG;gBACb,GAAG,EAAE,qGAAqG;gBAC1G,GAAG,EAAE,iBAAiB;gBACtB,KAAK,EAAE,WAAW;gBAClB,EAAE,EAAE,iBAAiB;gBACrB,GAAG,EAAE,iBAAiB;gBACtB,GAAG,EAAE,iBAAiB;gBACtB,GAAG,EAAE,iBAAiB;gBACtB,GAAG,EAAE,mCAAmC;gBACxC,GAAG,EAAE,mCAAmC;aACzC,CAAC;YAEF,KAAK,IAAI,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;gBACjD,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;aACjC;YAED,OAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC;SAC3C;QAED,OAAO,IAAI,CAAC;IACd,CAAC,CAAC;IAEF,OAAO,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,QAAe,CAAC,CAAC;AAClD,CAAC,CAAC"}')},function(e,t){throw new Error('Module parse failed: Unexpected token (1:10)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n> {"version":3,"file":"FrameManager.js","sourceRoot":"","sources":["../../../source/puppeteer/lib/FrameManager.ts"],"names":[],"mappings":";;AAGA,IAAI,KAAK,GAAqB,IAAI,CAAC;AAEnC,IAAI;IACF,KAAK,GAAG,OAAO,CAAC,iDAAiD,CAAC,CAAC,KAAK,CAAC;CAC1E;AAAC,OAAO,KAAK,EAAE;IACd,KAAK,GAAG,OAAO,CAAC,sDAAsD,CAAC,CAAC,KAAK,CAAC;CAC/E;AAED,KAAK,CAAC,SAAS,CAAC,yBAAyB,GAAG,UAAU,QAAgB,EAAE,OAAwB;IAC9F,OAAO,GAAG,OAAO,aAAP,OAAO,cAAP,OAAO,GAAI;QACnB,SAAS,EAAE;YACT,MAAM;SACP;KACF,CAAC;IAEF,IAAI,QAAQ,GAA2C;QACrD,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC;QAC/B,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,EAAE,OAAO,EAAE,OAAO,CAAC,OAAO,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;KAChG,CAAC;IAEF,OAAO,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,KAAK,EAAkB,CAAC,CAAC;AAC9E,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,sBAAsB,GAAG,UAAU,QAAgB,EAAE,OAAwB,EAAE,OAA4B;IACzH,IAAI,QAAQ,GAAG,CAAC,OAAoB,EAAE,EAAE;QACtC,IAAI,GAAG,GAAG,OAAO,CAAC,GAAG,EAAE,CAAC;QAExB,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,IAAI,EAAE;YACjE,OAAO,GAAG,IAAI,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,uBAAuB,EAAE,MAAM,CAAC,CAAC,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC;SACrG;QAED,IAAI,OAAO,YAAY,MAAM,EAAE;YAC7B,OAAO,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SAC1B;QAED,OAAO,OAAO,KAAK,GAAG,CAAC;IACzB,CAAC,CAAC;IAEF,IAAI,QAAQ,GAA0C;QAClD,IAAI,CAAC,aAAqB,CAAC,KAAc,CAAC,cAAc,CAAC,QAAQ,EAAE,OAAO,CAAC;QAC7E,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC;KACrB,CAAC;IAEF,OAAO,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,KAAK,EAAiB,CAAC,CAAC;AAC7E,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,uBAAuB,GAAG,UAAU,QAAgB,EAAE,OAAwB,EAAE,OAA4B;IAC1H,IAAI,QAAQ,GAAG,CAAC,OAAqB,EAAE,EAAE;QACvC,IAAI,GAAG,GAAG,OAAO,CAAC,GAAG,EAAE,CAAC;QAExB,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,IAAI,EAAE;YACjE,OAAO,GAAG,IAAI,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,uBAAuB,EAAE,MAAM,CAAC,CAAC,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC;SACrG;QAED,IAAI,OAAO,YAAY,MAAM,EAAE;YAC7B,OAAO,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SAC1B;QAED,OAAO,OAAO,KAAK,GAAG,CAAC;IACzB,CAAC,CAAC;IAEF,IAAI,QAAQ,GAA2C;QACnD,IAAI,CAAC,aAAqB,CAAC,KAAc,CAAC,eAAe,CAAC,QAAQ,EAAE,OAAO,CAAC;QAC9E,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC;KACrB,CAAC;IAEF,OAAO,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,KAAK,EAAkB,CAAC,CAAC;AAC9E,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,QAAgB;IAChD,IAAI,QAAQ,GAAG,CAAC,QAAgB,EAAE,EAAE;QAClC,OAAO,QAAQ,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC;IACpD,CAAC,CAAC;IAEF,OAAO,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;AAC3C,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,QAAgB;IACjD,IAAI,QAAQ,GAAG,CAAC,QAAgB,EAAE,EAAE;QAClC,OAAO,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,KAAK,IAAI,CAAC;IACnD,CAAC,CAAC;IAEF,OAAO,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;AAC3C,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,eAAe,GAAG,UAAiE,QAAgB,EAAE,IAAO;IAC1H,OAAO,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,EAAE,WAAC,OAAA,MAAA,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,eAAe,CAAC,IAAI,CAAC,mCAAI,IAAI,CAAA,EAAA,CAAC,CAAC;AACpF,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,cAAc,GAAG,UAAiE,QAAgB,EAAE,IAAO;IACzH,OAAO,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,EAAE,WAAC,OAAA,MAAA,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,cAAc,CAAC,IAAI,CAAC,mCAAI,IAAI,CAAA,EAAA,CAAC,CAAC;AACnF,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAiE,QAAgB,EAAE,IAAO;IAC7H,OAAO,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,EAAE,WAAC,OAAA,MAAA,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,kBAAkB,CAAC,IAAI,CAAC,mCAAI,IAAI,CAAA,EAAA,CAAC,CAAC;AACvF,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,eAAe,GAAG,UAAiE,QAAgB,EAAE,IAAO;IAC1H,OAAO,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,EAAE,WAAC,OAAA,MAAA,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,eAAe,CAAC,IAAI,CAAC,mCAAI,IAAI,CAAA,EAAA,CAAC,CAAC;AACpF,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,MAAM,GAAG,UAA2B,QAAgB,EAAE,UAAkB,GAAG,EAAE,WAAkC,aAAoB;IACjJ,OAAO,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,EAAE,WAAC,OAAA,MAAA,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,mCAAI,IAAI,CAAA,EAAA,CAAC,CAAC;AACxF,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,QAAgB,EAAE,GAAG,MAAgB;IAC7E,OAAO,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,EAAE,WAAC,OAAA,MAAA,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,aAAa,CAAC,GAAG,MAAM,CAAC,mCAAI,IAAI,CAAA,EAAA,CAAC,CAAC;AACvF,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,MAAM,GAAG,UAA2B,QAAgB,EAAE,WAAkC,aAAoB;IAC1H,OAAO,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,EAAE,WAAC,OAAA,MAAA,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,MAAM,CAAC,QAAQ,CAAC,mCAAI,IAAI,CAAA,EAAA,CAAC,CAAC;AAC/E,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,QAAgB,EAAE,OAA4B;IACzF,OAAO,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE;QACpC,GAAG,OAAO;QACV,OAAO,EAAE,IAAI;KACd,CAAC,CAAC;AACL,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,QAAgB,EAAE,OAA4B;IACzF,OAAO,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE;QACpC,GAAG,OAAO;QACV,MAAM,EAAE,IAAI;KACb,CAAC,CAAC;AACL,CAAC,CAAC"}')},function(e,t){throw new Error('Module parse failed: Unexpected token (1:10)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n> {"version":3,"file":"Page.js","sourceRoot":"","sources":["../../../source/puppeteer/lib/Page.ts"],"names":[],"mappings":";;AAGA,IAAI,KAAK,GAAoB,IAAI,CAAC;AAElC,IAAI;IACF,KAAK,GAAG,OAAO,CAAC,yCAAyC,CAAC,CAAC,IAAI,CAAC;CACjE;AAAC,OAAO,KAAK,EAAE;IACd,KAAK,GAAG,OAAO,CAAC,8CAA8C,CAAC,CAAC,IAAI,CAAC;CACtE;AAED,KAAK,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,UAAoB;IACpD,OAAS,IAAY,CAAC,OAAsB,CAAC,IAAI,CAAC,wBAAwB,EAAE;QAC1E,IAAI,EAAE,UAAU;KACjB,CAAC,CAAC;AACL,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,yBAAyB,GAAG,UAAU,QAAgB,EAAE,OAAwB;IAC9F,OAAO,IAAI,CAAC,SAAS,EAAE,CAAC,yBAAyB,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;AACvE,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,sBAAsB,GAAG,UAAU,QAAgB,EAAE,OAAwB,EAAE,OAA4B;IACzH,OAAO,IAAI,CAAC,SAAS,EAAE,CAAC,sBAAsB,CAAC,QAAQ,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;AAC7E,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,uBAAuB,GAAG,UAAU,QAAgB,EAAE,OAAwB,EAAE,OAA4B;IAC1H,OAAO,IAAI,CAAC,SAAS,EAAE,CAAC,uBAAuB,CAAC,QAAQ,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;AAC9E,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,QAAgB;IAChD,OAAO,IAAI,CAAC,SAAS,EAAE,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;AAC1C,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,QAAgB;IACjD,OAAO,IAAI,CAAC,SAAS,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;AAC3C,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,eAAe,GAAG,UAAiE,QAAgB,EAAE,IAAO;IAC1H,OAAO,IAAI,CAAC,SAAS,EAAE,CAAC,eAAe,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;AAC1D,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,cAAc,GAAG,UAAiE,QAAgB,EAAE,IAAO;IACzH,OAAO,IAAI,CAAC,SAAS,EAAE,CAAC,cAAc,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;AACzD,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAiE,QAAgB,EAAE,IAAO;IAC7H,OAAO,IAAI,CAAC,SAAS,EAAE,CAAC,kBAAkB,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;AAC7D,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,eAAe,GAAG,UAAiE,QAAgB,EAAE,IAAO;IAC1H,OAAO,IAAI,CAAC,SAAS,EAAE,CAAC,eAAe,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;AAC1D,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,MAAM,GAAG,UAA2B,QAAgB,EAAE,UAAkB,GAAG,EAAE,WAAkC,aAAoB;IACjJ,OAAO,IAAI,CAAC,SAAS,EAAE,CAAC,MAAM,CAAC,QAAQ,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC;AAC9D,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,QAAgB,EAAE,GAAG,MAAgB;IAC7E,OAAO,IAAI,CAAC,SAAS,EAAE,CAAC,aAAa,CAAC,QAAQ,EAAE,GAAG,MAAM,CAAC,CAAC;AAC7D,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,MAAM,GAAG,UAA2B,QAAgB,EAAE,WAAkC,aAAoB;IAC1H,OAAO,IAAI,CAAC,SAAS,EAAE,CAAC,MAAM,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;AACrD,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,QAAgB,EAAE,OAA4B;IACzF,OAAO,IAAI,CAAC,SAAS,EAAE,CAAC,gBAAgB,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;AAC9D,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,QAAgB,EAAE,OAA4B;IACzF,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE,CAAA;IAChC,OAAO,IAAI,CAAC,SAAS,EAAE,CAAC,gBAAgB,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;AAC9D,CAAC,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,OAAuB,EAAE,QAAsC;IACrG,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,EAAE;QACjD,IAAI,OAAO,QAAQ,KAAK,UAAU,EAAE;YAClC,MAAM,QAAQ,CAAC,IAAI,CAAC,CAAC;SACtB;QAED,OAAO,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;IACnC,CAAC,CAAC,CAAC;AACL,CAAC,CAAC"}')},function(e,t,i){const n=i(258);e.exports=n.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(259);if(!i(18).isNode)throw new Error("Trying to run Puppeteer-Node in a web environment.");t.default=n.initializePuppeteerNode("puppeteer")},function(e,t,i){"use strict";(function(e){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.initializePuppeteerNode=void 0;const r=i(260),o=i(154),s=n(i(155));t.initializePuppeteerNode=t=>{const i=s.default.sync(e);let n=o.PUPPETEER_REVISIONS.chromium;const a="puppeteer-core"===t,c=a?void 0:process.env.PUPPETEER_PRODUCT||process.env.npm_config_puppeteer_product||process.env.npm_package_config_puppeteer_product;return a||"firefox"!==c||(n=o.PUPPETEER_REVISIONS.firefox),new r.PuppeteerNode({projectRoot:i,preferredRevision:n,isPuppeteerCore:a,productName:c})}}).call(this,"/")},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PuppeteerNode=void 0;const r=i(261),o=i(127),s=n(i(312)),a=i(154);class c extends r.Puppeteer{constructor(e){const{projectRoot:t,preferredRevision:i,productName:n,...r}=e;super(r),this._projectRoot=t,this.__productName=n,this._preferredRevision=i}connect(e){return e.product&&(this._productName=e.product),super.connect(e)}get _productName(){return this.__productName}set _productName(e){this.__productName!==e&&(this._changedProduct=!0),this.__productName=e}launch(e={}){return e.product&&(this._productName=e.product),this._launcher.launch(e)}executablePath(){return this._launcher.executablePath()}get _launcher(){if(!this._lazyLauncher||this._lazyLauncher.product!==this._productName||this._changedProduct){switch(this._productName){case"firefox":this._preferredRevision=a.PUPPETEER_REVISIONS.firefox;break;case"chrome":default:this._preferredRevision=a.PUPPETEER_REVISIONS.chromium}this._changedProduct=!1,this._lazyLauncher=s.default(this._projectRoot,this._preferredRevision,this._isPuppeteerCore,this._productName)}return this._lazyLauncher}get product(){return this._launcher.product}defaultArgs(e={}){return this._launcher.defaultArgs(e)}createBrowserFetcher(e){return new o.BrowserFetcher(this._projectRoot,e)}}t.PuppeteerNode=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Puppeteer=void 0;const n=i(37),r=i(262),o=i(64),s=i(263),a=i(270);t.Puppeteer=class{constructor(e){this._changedProduct=!1,this._isPuppeteerCore=e.isPuppeteerCore}connect(e){return s.connectToBrowser(e)}get devices(){return r.devicesMap}get errors(){return n.puppeteerErrors}get networkConditions(){return a.networkConditions}registerCustomQueryHandler(e,t){o.registerCustomQueryHandler(e,t)}unregisterCustomQueryHandler(e){o.unregisterCustomQueryHandler(e)}customQueryHandlerNames(){return o.customQueryHandlerNames()}clearCustomQueryHandlers(){o.clearCustomQueryHandlers()}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.devicesMap=void 0;const n=[{name:"Blackberry PlayBook",userAgent:"Mozilla/5.0 (PlayBook; U; RIM Tablet OS 2.1.0; en-US) AppleWebKit/536.2+ (KHTML like Gecko) Version/7.2.1.0 Safari/536.2+",viewport:{width:600,height:1024,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Blackberry PlayBook landscape",userAgent:"Mozilla/5.0 (PlayBook; U; RIM Tablet OS 2.1.0; en-US) AppleWebKit/536.2+ (KHTML like Gecko) Version/7.2.1.0 Safari/536.2+",viewport:{width:1024,height:600,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"BlackBerry Z30",userAgent:"Mozilla/5.0 (BB10; Touch) AppleWebKit/537.10+ (KHTML, like Gecko) Version/10.0.9.2372 Mobile Safari/537.10+",viewport:{width:360,height:640,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"BlackBerry Z30 landscape",userAgent:"Mozilla/5.0 (BB10; Touch) AppleWebKit/537.10+ (KHTML, like Gecko) Version/10.0.9.2372 Mobile Safari/537.10+",viewport:{width:640,height:360,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy Note 3",userAgent:"Mozilla/5.0 (Linux; U; Android 4.3; en-us; SM-N900T Build/JSS15J) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:360,height:640,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy Note 3 landscape",userAgent:"Mozilla/5.0 (Linux; U; Android 4.3; en-us; SM-N900T Build/JSS15J) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:640,height:360,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy Note II",userAgent:"Mozilla/5.0 (Linux; U; Android 4.1; en-us; GT-N7100 Build/JRO03C) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:360,height:640,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy Note II landscape",userAgent:"Mozilla/5.0 (Linux; U; Android 4.1; en-us; GT-N7100 Build/JRO03C) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:640,height:360,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy S III",userAgent:"Mozilla/5.0 (Linux; U; Android 4.0; en-us; GT-I9300 Build/IMM76D) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:360,height:640,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy S III landscape",userAgent:"Mozilla/5.0 (Linux; U; Android 4.0; en-us; GT-I9300 Build/IMM76D) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:640,height:360,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy S5",userAgent:"Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:360,height:640,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy S5 landscape",userAgent:"Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:640,height:360,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPad",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:768,height:1024,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPad landscape",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:1024,height:768,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPad Mini",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:768,height:1024,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPad Mini landscape",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:1024,height:768,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPad Pro",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:1024,height:1366,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPad Pro landscape",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:1366,height:1024,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 4",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 7_1_2 like Mac OS X) AppleWebKit/537.51.2 (KHTML, like Gecko) Version/7.0 Mobile/11D257 Safari/9537.53",viewport:{width:320,height:480,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 4 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 7_1_2 like Mac OS X) AppleWebKit/537.51.2 (KHTML, like Gecko) Version/7.0 Mobile/11D257 Safari/9537.53",viewport:{width:480,height:320,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 5",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",viewport:{width:320,height:568,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 5 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",viewport:{width:568,height:320,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 6",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:375,height:667,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 6 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:667,height:375,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 6 Plus",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:414,height:736,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 6 Plus landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:736,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 7",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:375,height:667,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 7 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:667,height:375,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 7 Plus",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:414,height:736,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 7 Plus landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:736,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 8",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:375,height:667,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 8 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:667,height:375,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 8 Plus",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:414,height:736,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 8 Plus landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:736,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone SE",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",viewport:{width:320,height:568,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone SE landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",viewport:{width:568,height:320,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone X",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:375,height:812,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone X landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:812,height:375,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone XR",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.0 Mobile/15E148 Safari/604.1",viewport:{width:414,height:896,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone XR landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.0 Mobile/15E148 Safari/604.1",viewport:{width:896,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 11",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:414,height:828,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 11 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:828,height:414,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 11 Pro",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:375,height:812,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 11 Pro landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:812,height:375,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 11 Pro Max",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:414,height:896,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 11 Pro Max landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:896,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"JioPhone 2",userAgent:"Mozilla/5.0 (Mobile; LYF/F300B/LYF-F300B-001-01-15-130718-i;Android; rv:48.0) Gecko/48.0 Firefox/48.0 KAIOS/2.5",viewport:{width:240,height:320,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"JioPhone 2 landscape",userAgent:"Mozilla/5.0 (Mobile; LYF/F300B/LYF-F300B-001-01-15-130718-i;Android; rv:48.0) Gecko/48.0 Firefox/48.0 KAIOS/2.5",viewport:{width:320,height:240,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Kindle Fire HDX",userAgent:"Mozilla/5.0 (Linux; U; en-us; KFAPWI Build/JDQ39) AppleWebKit/535.19 (KHTML, like Gecko) Silk/3.13 Safari/535.19 Silk-Accelerated=true",viewport:{width:800,height:1280,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Kindle Fire HDX landscape",userAgent:"Mozilla/5.0 (Linux; U; en-us; KFAPWI Build/JDQ39) AppleWebKit/535.19 (KHTML, like Gecko) Silk/3.13 Safari/535.19 Silk-Accelerated=true",viewport:{width:1280,height:800,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"LG Optimus L70",userAgent:"Mozilla/5.0 (Linux; U; Android 4.4.2; en-us; LGMS323 Build/KOT49I.MS32310c) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:384,height:640,deviceScaleFactor:1.25,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"LG Optimus L70 landscape",userAgent:"Mozilla/5.0 (Linux; U; Android 4.4.2; en-us; LGMS323 Build/KOT49I.MS32310c) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:640,height:384,deviceScaleFactor:1.25,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Microsoft Lumia 550",userAgent:"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 550) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Mobile Safari/537.36 Edge/14.14263",viewport:{width:640,height:360,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Microsoft Lumia 950",userAgent:"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 950) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Mobile Safari/537.36 Edge/14.14263",viewport:{width:360,height:640,deviceScaleFactor:4,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Microsoft Lumia 950 landscape",userAgent:"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 950) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Mobile Safari/537.36 Edge/14.14263",viewport:{width:640,height:360,deviceScaleFactor:4,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 10",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 10 Build/MOB31T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36",viewport:{width:800,height:1280,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 10 landscape",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 10 Build/MOB31T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36",viewport:{width:1280,height:800,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 4",userAgent:"Mozilla/5.0 (Linux; Android 4.4.2; Nexus 4 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:384,height:640,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 4 landscape",userAgent:"Mozilla/5.0 (Linux; Android 4.4.2; Nexus 4 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:640,height:384,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 5",userAgent:"Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:360,height:640,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 5 landscape",userAgent:"Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:640,height:360,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 5X",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 5X Build/OPR4.170623.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:412,height:732,deviceScaleFactor:2.625,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 5X landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 5X Build/OPR4.170623.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:732,height:412,deviceScaleFactor:2.625,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 6",userAgent:"Mozilla/5.0 (Linux; Android 7.1.1; Nexus 6 Build/N6F26U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:412,height:732,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 6 landscape",userAgent:"Mozilla/5.0 (Linux; Android 7.1.1; Nexus 6 Build/N6F26U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:732,height:412,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 6P",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 6P Build/OPP3.170518.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:412,height:732,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 6P landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 6P Build/OPP3.170518.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:732,height:412,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 7",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 7 Build/MOB30X) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36",viewport:{width:600,height:960,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 7 landscape",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 7 Build/MOB30X) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36",viewport:{width:960,height:600,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nokia Lumia 520",userAgent:"Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 520)",viewport:{width:320,height:533,deviceScaleFactor:1.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nokia Lumia 520 landscape",userAgent:"Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 520)",viewport:{width:533,height:320,deviceScaleFactor:1.5,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nokia N9",userAgent:"Mozilla/5.0 (MeeGo; NokiaN9) AppleWebKit/534.13 (KHTML, like Gecko) NokiaBrowser/8.5.0 Mobile Safari/534.13",viewport:{width:480,height:854,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nokia N9 landscape",userAgent:"Mozilla/5.0 (MeeGo; NokiaN9) AppleWebKit/534.13 (KHTML, like Gecko) NokiaBrowser/8.5.0 Mobile Safari/534.13",viewport:{width:854,height:480,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Pixel 2",userAgent:"Mozilla/5.0 (Linux; Android 8.0; Pixel 2 Build/OPD3.170816.012) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:411,height:731,deviceScaleFactor:2.625,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Pixel 2 landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0; Pixel 2 Build/OPD3.170816.012) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:731,height:411,deviceScaleFactor:2.625,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Pixel 2 XL",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Pixel 2 XL Build/OPD1.170816.004) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:411,height:823,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Pixel 2 XL landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Pixel 2 XL Build/OPD1.170816.004) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:823,height:411,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!0}}],r={};t.devicesMap=r;for(const e of n)r[e.name]=e},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.connectToBrowser=void 0;const s=i(49),a=i(4),c=i(8),l=i(39),d=i(264),u=i(18),h=async()=>u.isNode?(await Promise.resolve().then(()=>o(i(120)))).NodeWebSocketTransport:(await Promise.resolve().then(()=>o(i(269)))).BrowserWebSocketTransport;t.connectToBrowser=async e=>{const{browserWSEndpoint:t,browserURL:i,ignoreHTTPSErrors:n=!1,defaultViewport:r={width:800,height:600},transport:o,slowMo:u=0}=e;a.assert(Number(!!t)+Number(!!i)+Number(!!o)===1,"Exactly one of browserWSEndpoint, browserURL or transport must be passed to puppeteer.connect");let p=null;if(o)p=new l.Connection("",o,u);else if(t){const e=await h(),i=await e.create(t);p=new l.Connection(t,i,u)}else if(i){const e=await async function(e){const t=new URL("/json/version",e),i=await d.getFetch();try{const e=await i(t.toString(),{method:"GET"});if(!e.ok)throw new Error("HTTP "+e.statusText);return(await e.json()).webSocketDebuggerUrl}catch(e){throw e.message=`Failed to fetch browser webSocket URL from ${t}: `+e.message,e}}(i),t=await h(),n=await t.create(e);p=new l.Connection(e,n,u)}const{browserContextIds:f}=await p.send("Target.getBrowserContexts");return s.Browser.create(p,f,n,r,null,()=>p.send("Browser.close").catch(c.debugError))}},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getFetch=void 0;const s=i(18);t.getFetch=async()=>s.isNode?await Promise.resolve().then(()=>o(i(119))):globalThis.fetch},function(e,t,i){"use strict";const n=Symbol("kDone"),r=Symbol("kRun");e.exports=class{constructor(e){this[n]=()=>{this.pending--,this[r]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[r]()}[r](){if(this.pending!==this.concurrency&&this.jobs.length){const e=this.jobs.shift();this.pending++,e(this[n])}}}},function(e,t,i){"use strict";class n{constructor(e,t){this.target=t,this.type=e}}class r extends n{constructor(e,t){super("message",t),this.data=e}}class o extends n{constructor(e,t,i){super("close",i),this.wasClean=i._closeFrameReceived&&i._closeFrameSent,this.reason=t,this.code=e}}class s extends n{constructor(e){super("open",e)}}class a extends n{constructor(e,t){super("error",t),this.message=e.message,this.error=e}}const c={addEventListener(e,t,i){if("function"!=typeof t)return;function n(e){t.call(this,new r(e,this))}function c(e,i){t.call(this,new o(e,i,this))}function l(e){t.call(this,new a(e,this))}function d(){t.call(this,new s(this))}const u=i&&i.once?"once":"on";"message"===e?(n._listener=t,this[u](e,n)):"close"===e?(c._listener=t,this[u](e,c)):"error"===e?(l._listener=t,this[u](e,l)):"open"===e?(d._listener=t,this[u](e,d)):this[u](e,t)},removeEventListener(e,t){const i=this.listeners(e);for(let n=0;n<i.length;n++)i[n]!==t&&i[n]._listener!==t||this.removeListener(e,i[n])}};e.exports=c},function(e,t,i){"use strict";const{Duplex:n}=i(0);function r(e){e.emit("close")}function o(){!this.destroyed&&this._writableState.finished&&this.destroy()}function s(e){this.removeListener("error",s),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let i=!0;function a(){i&&e._socket.resume()}e.readyState===e.CONNECTING?e.once("open",(function(){e._receiver.removeAllListeners("drain"),e._receiver.on("drain",a)})):(e._receiver.removeAllListeners("drain"),e._receiver.on("drain",a));const c=new n({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",(function(t){c.push(t)||(i=!1,e._socket.pause())})),e.once("error",(function(e){c.destroyed||c.destroy(e)})),e.once("close",(function(){c.destroyed||c.push(null)})),c._destroy=function(t,i){if(e.readyState===e.CLOSED)return i(t),void process.nextTick(r,c);let n=!1;e.once("error",(function(e){n=!0,i(e)})),e.once("close",(function(){n||i(t),process.nextTick(r,c)})),e.terminate()},c._final=function(t){e.readyState!==e.CONNECTING?null!==e._socket&&(e._socket._writableState.finished?(t(),c._readableState.endEmitted&&c.destroy()):(e._socket.once("finish",(function(){t()})),e.close())):e.once("open",(function(){c._final(t)}))},c._read=function(){e.readyState!==e.OPEN||i||(i=!0,e._receiver._writableState.needDrain||e._socket.resume())},c._write=function(t,i,n){e.readyState!==e.CONNECTING?e.send(t,n):e.once("open",(function(){c._write(t,i,n)}))},c.on("end",o),c.on("error",s),c}},function(e,t,i){"use strict";const n=i(7),{createHash:r}=i(15),{createServer:o,STATUS_CODES:s}=i(17),a=i(53),c=i(122),{format:l,parse:d}=i(126),{GUID:u,kWebSocket:h}=i(32),p=/^[+/0-9A-Za-z]{22}==$/;function f(e){e.emit("close")}function A(){this.destroy()}function m(e,t,i,n){e.writable&&(i=i||s[t],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(i),...n},e.write(`HTTP/1.1 ${t} ${s[t]}\r\n`+Object.keys(n).map(e=>`${e}: ${n[e]}`).join("\r\n")+"\r\n\r\n"+i)),e.removeListener("error",A),e.destroy()}e.exports=class extends n{constructor(e,t){if(super(),null==(e={maxPayload:104857600,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,...e}).port&&!e.server&&!e.noServer)throw new TypeError('One of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=o((e,t)=>{const i=s[426];t.writeHead(426,{"Content-Length":i.length,"Content-Type":"text/plain"}),t.end(i)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){const e=this.emit.bind(this,"connection");this._removeListeners=function(e,t){for(const i of Object.keys(t))e.on(i,t[i]);return function(){for(const i of Object.keys(t))e.removeListener(i,t[i])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,i,n)=>{this.handleUpgrade(t,i,n,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set),this.options=e}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(e&&this.once("close",e),this.clients)for(const e of this.clients)e.terminate();const t=this._server;t&&(this._removeListeners(),this._removeListeners=this._server=null,null!=this.options.port)?t.close(()=>this.emit("close")):process.nextTick(f,this)}shouldHandle(e){if(this.options.path){const t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,i,n){t.on("error",A);const r=void 0!==e.headers["sec-websocket-key"]&&e.headers["sec-websocket-key"].trim(),o=+e.headers["sec-websocket-version"],s={};if("GET"!==e.method||"websocket"!==e.headers.upgrade.toLowerCase()||!r||!p.test(r)||8!==o&&13!==o||!this.shouldHandle(e))return m(t,400);if(this.options.perMessageDeflate){const i=new a(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const t=d(e.headers["sec-websocket-extensions"]);t[a.extensionName]&&(i.accept(t[a.extensionName]),s[a.extensionName]=i)}catch(e){return m(t,400)}}if(this.options.verifyClient){const a={origin:e.headers[""+(8===o?"sec-websocket-origin":"origin")],secure:!(!e.socket.authorized&&!e.socket.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(a,(o,a,c,l)=>{if(!o)return m(t,a||401,c,l);this.completeUpgrade(r,s,e,t,i,n)});if(!this.options.verifyClient(a))return m(t,401)}this.completeUpgrade(r,s,e,t,i,n)}completeUpgrade(e,t,i,n,o,s){if(!n.readable||!n.writable)return n.destroy();if(n[h])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");const d=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade","Sec-WebSocket-Accept: "+r("sha1").update(e+u).digest("base64")],p=new c(null);let f=i.headers["sec-websocket-protocol"];if(f&&(f=f.trim().split(/ *, */),f=this.options.handleProtocols?this.options.handleProtocols(f,i):f[0],f&&(d.push("Sec-WebSocket-Protocol: "+f),p._protocol=f)),t[a.extensionName]){const e=t[a.extensionName].params,i=l({[a.extensionName]:[e]});d.push("Sec-WebSocket-Extensions: "+i),p._extensions=t}this.emit("headers",d,i),n.write(d.concat("\r\n").join("\r\n")),n.removeListener("error",A),p.setSocket(n,o,this.options.maxPayload),this.clients&&(this.clients.add(p),p.on("close",()=>this.clients.delete(p))),s(p,i)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserWebSocketTransport=void 0;class n{constructor(e){this._ws=e,this._ws.addEventListener("message",e=>{this.onmessage&&this.onmessage.call(null,e.data)}),this._ws.addEventListener("close",()=>{this.onclose&&this.onclose.call(null)}),this._ws.addEventListener("error",()=>{}),this.onmessage=null,this.onclose=null}static create(e){return new Promise((t,i)=>{const r=new WebSocket(e);r.addEventListener("open",()=>t(new n(r))),r.addEventListener("error",i)})}send(e){this._ws.send(e)}close(){this._ws.close()}}t.BrowserWebSocketTransport=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.networkConditions=void 0,t.networkConditions={"Slow 3G":{download:5e4,upload:5e4,latency:2e3},"Fast 3G":{download:18e4,upload:84375,latency:562.5}}},function(e,t,i){"use strict";const{constants:n}=i(6),r=i(129),o=i(272);class s extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}async function a(e,t){if(!e)return Promise.reject(new Error("Expected a stream"));t={maxBuffer:1/0,...t};const{maxBuffer:i}=t;let a;return await new Promise((c,l)=>{const d=e=>{e&&a.getBufferedLength()<=n.MAX_LENGTH&&(e.bufferedData=a.getBufferedValue()),l(e)};a=r(e,o(t),e=>{e?d(e):c()}),a.on("data",()=>{a.getBufferedLength()>i&&d(new s)})}),a.getBufferedValue()}e.exports=a,e.exports.default=a,e.exports.buffer=(e,t)=>a(e,{...t,encoding:"buffer"}),e.exports.array=(e,t)=>a(e,{...t,array:!0}),e.exports.MaxBufferError=s},function(e,t,i){"use strict";const{PassThrough:n}=i(0);e.exports=e=>{e={...e};const{array:t}=e;let{encoding:i}=e;const r="buffer"===i;let o=!1;t?o=!(i||r):i=i||"utf8",r&&(i=null);const s=new n({objectMode:o});i&&s.setEncoding(i);let a=0;const c=[];return s.on("data",e=>{c.push(e),o?a=c.length:a+=e.length}),s.getBufferedValue=()=>t?c:r?Buffer.concat(c,a):c.join(""),s.getBufferedLength=()=>a,s}},function(e,t,i){var n=i(2),r=i(13),o=i(274),s=i(276),a=i(1),c=i(7).EventEmitter,l=i(0).Transform,d=i(0).PassThrough,u=i(0).Writable;function h(e,t,i){"function"==typeof t&&(i=t,t=null),null==t&&(t={}),null==t.autoClose&&(t.autoClose=!1),null==t.lazyEntries&&(t.lazyEntries=!1),null==t.decodeStrings&&(t.decodeStrings=!0),null==t.validateEntrySizes&&(t.validateEntrySizes=!0),null==t.strictFileNames&&(t.strictFileNames=!1),null==i&&(i=S),n.fstat(e,(function(n,r){if(n)return i(n);p(o.createFromFd(e,{autoClose:!0}),r.size,t,i)}))}function p(e,t,i,n){"function"==typeof i&&(n=i,i=null),null==i&&(i={}),null==i.autoClose&&(i.autoClose=!0),null==i.lazyEntries&&(i.lazyEntries=!1),null==i.decodeStrings&&(i.decodeStrings=!0);var r=!!i.decodeStrings;if(null==i.validateEntrySizes&&(i.validateEntrySizes=!0),null==i.strictFileNames&&(i.strictFileNames=!1),null==n&&(n=S),"number"!=typeof t)throw new Error("expected totalSize parameter to be a number");if(t>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");e.ref();var o=Math.min(65557,t),s=x(o),a=t-s.length;b(e,s,0,o,a,(function(c){if(c)return n(c);for(var l=o-22;l>=0;l-=1)if(101010256===s.readUInt32LE(l)){var d=s.slice(l),u=d.readUInt16LE(4);if(0!==u)return n(new Error("multi-disk zip files are not supported: found disk number: "+u));var h=d.readUInt16LE(10),p=d.readUInt32LE(16),A=d.readUInt16LE(20),m=d.length-22;if(A!==m)return n(new Error("invalid comment length. expected: "+m+". found: "+A));var g=r?E(d,22,d.length,!1):d.slice(22);if(65535!==h&&4294967295!==p)return n(null,new f(e,p,t,h,g,i.autoClose,i.lazyEntries,r,i.validateEntrySizes,i.strictFileNames));var y=x(20),_=a+l-y.length;return void b(e,y,0,y.length,_,(function(o){if(o)return n(o);if(117853008!==y.readUInt32LE(0))return n(new Error("invalid zip64 end of central directory locator signature"));var s=k(y,8),a=x(56);b(e,a,0,a.length,s,(function(o){return o?n(o):101075792!==a.readUInt32LE(0)?n(new Error("invalid zip64 end of central directory record signature")):(h=k(a,32),p=k(a,48),n(null,new f(e,p,t,h,g,i.autoClose,i.lazyEntries,r,i.validateEntrySizes,i.strictFileNames)))}))}))}n(new Error("end of central directory record signature not found"))}))}function f(e,t,i,n,r,o,s,a,l,d){var u=this;c.call(u),u.reader=e,u.reader.on("error",(function(e){m(u,e)})),u.reader.once("close",(function(){u.emit("close")})),u.readEntryCursor=t,u.fileSize=i,u.entryCount=n,u.comment=r,u.entriesRead=0,u.autoClose=!!o,u.lazyEntries=!!s,u.decodeStrings=!!a,u.validateEntrySizes=!!l,u.strictFileNames=!!d,u.isOpen=!0,u.emittedError=!1,u.lazyEntries||u._readEntry()}function A(e,t){e.autoClose&&e.close(),m(e,t)}function m(e,t){e.emittedError||(e.emittedError=!0,e.emit("error",t))}function g(){}function y(e,t){return new Date(1980+(e>>9&127),(e>>5&15)-1,31&e,t>>11&31,t>>5&63,2*(31&t),0)}function _(e){return-1!==e.indexOf("\\")?"invalid characters in fileName: "+e:/^[a-zA-Z]:/.test(e)||/^\//.test(e)?"absolute path: "+e:-1!==e.split("/").indexOf("..")?"invalid relative path: "+e:null}function b(e,t,i,n,r,o){if(0===n)return setImmediate((function(){o(null,x(0))}));e.read(t,i,n,r,(function(e,t){return e?o(e):t<n?o(new Error("unexpected EOF")):void o()}))}function v(e){l.call(this),this.actualByteCount=0,this.expectedByteCount=e}function C(){c.call(this),this.refCount=0}function w(e){d.call(this),this.context=e,this.context.ref(),this.unreffedYet=!1}t.open=function(e,t,i){"function"==typeof t&&(i=t,t=null);null==t&&(t={});null==t.autoClose&&(t.autoClose=!0);null==t.lazyEntries&&(t.lazyEntries=!1);null==t.decodeStrings&&(t.decodeStrings=!0);null==t.validateEntrySizes&&(t.validateEntrySizes=!0);null==t.strictFileNames&&(t.strictFileNames=!1);null==i&&(i=S);n.open(e,"r",(function(e,r){if(e)return i(e);h(r,t,(function(e,t){e&&n.close(r,S),i(e,t)}))}))},t.fromFd=h,t.fromBuffer=function(e,t,i){"function"==typeof t&&(i=t,t=null);null==t&&(t={});t.autoClose=!1,null==t.lazyEntries&&(t.lazyEntries=!1);null==t.decodeStrings&&(t.decodeStrings=!0);null==t.validateEntrySizes&&(t.validateEntrySizes=!0);null==t.strictFileNames&&(t.strictFileNames=!1);p(o.createFromBuffer(e,{maxChunkSize:65536}),e.length,t,i)},t.fromRandomAccessReader=p,t.dosDateTimeToDate=y,t.validateFileName=_,t.ZipFile=f,t.Entry=g,t.RandomAccessReader=C,a.inherits(f,c),f.prototype.close=function(){this.isOpen&&(this.isOpen=!1,this.reader.unref())},f.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()},f.prototype._readEntry=function(){var e=this;if(e.entryCount!==e.entriesRead){if(!e.emittedError){var t=x(46);b(e.reader,t,0,t.length,e.readEntryCursor,(function(i){if(i)return A(e,i);if(!e.emittedError){var n=new g,r=t.readUInt32LE(0);if(33639248!==r)return A(e,new Error("invalid central directory file header signature: 0x"+r.toString(16)));if(n.versionMadeBy=t.readUInt16LE(4),n.versionNeededToExtract=t.readUInt16LE(6),n.generalPurposeBitFlag=t.readUInt16LE(8),n.compressionMethod=t.readUInt16LE(10),n.lastModFileTime=t.readUInt16LE(12),n.lastModFileDate=t.readUInt16LE(14),n.crc32=t.readUInt32LE(16),n.compressedSize=t.readUInt32LE(20),n.uncompressedSize=t.readUInt32LE(24),n.fileNameLength=t.readUInt16LE(28),n.extraFieldLength=t.readUInt16LE(30),n.fileCommentLength=t.readUInt16LE(32),n.internalFileAttributes=t.readUInt16LE(36),n.externalFileAttributes=t.readUInt32LE(38),n.relativeOffsetOfLocalHeader=t.readUInt32LE(42),64&n.generalPurposeBitFlag)return A(e,new Error("strong encryption is not supported"));e.readEntryCursor+=46,t=x(n.fileNameLength+n.extraFieldLength+n.fileCommentLength),b(e.reader,t,0,t.length,e.readEntryCursor,(function(i){if(i)return A(e,i);if(!e.emittedError){var r=0!=(2048&n.generalPurposeBitFlag);n.fileName=e.decodeStrings?E(t,0,n.fileNameLength,r):t.slice(0,n.fileNameLength);var o=n.fileNameLength+n.extraFieldLength,a=t.slice(n.fileNameLength,o);n.extraFields=[];for(var c=0;c<a.length-3;){var l=a.readUInt16LE(c+0),d=a.readUInt16LE(c+2),u=c+4,h=u+d;if(h>a.length)return A(e,new Error("extra field length exceeds extra field buffer size"));var p=x(d);a.copy(p,0,u,h),n.extraFields.push({id:l,data:p}),c=h}if(n.fileComment=e.decodeStrings?E(t,o,o+n.fileCommentLength,r):t.slice(o,o+n.fileCommentLength),n.comment=n.fileComment,e.readEntryCursor+=t.length,e.entriesRead+=1,4294967295===n.uncompressedSize||4294967295===n.compressedSize||4294967295===n.relativeOffsetOfLocalHeader){var f=null;for(c=0;c<n.extraFields.length;c++){if(1===(g=n.extraFields[c]).id){f=g.data;break}}if(null==f)return A(e,new Error("expected zip64 extended information extra field"));var m=0;if(4294967295===n.uncompressedSize){if(m+8>f.length)return A(e,new Error("zip64 extended information extra field does not include uncompressed size"));n.uncompressedSize=k(f,m),m+=8}if(4294967295===n.compressedSize){if(m+8>f.length)return A(e,new Error("zip64 extended information extra field does not include compressed size"));n.compressedSize=k(f,m),m+=8}if(4294967295===n.relativeOffsetOfLocalHeader){if(m+8>f.length)return A(e,new Error("zip64 extended information extra field does not include relative header offset"));n.relativeOffsetOfLocalHeader=k(f,m),m+=8}}if(e.decodeStrings)for(c=0;c<n.extraFields.length;c++){var g;if(28789===(g=n.extraFields[c]).id){if(g.data.length<6)continue;if(1!==g.data.readUInt8(0))continue;var y=g.data.readUInt32LE(1);if(s.unsigned(t.slice(0,n.fileNameLength))!==y)continue;n.fileName=E(g.data,5,g.data.length,!0);break}}if(e.validateEntrySizes&&0===n.compressionMethod){var b=n.uncompressedSize;if(n.isEncrypted()&&(b+=12),n.compressedSize!==b){var v="compressed/uncompressed size mismatch for stored file: "+n.compressedSize+" != "+n.uncompressedSize;return A(e,new Error(v))}}if(e.decodeStrings){e.strictFileNames||(n.fileName=n.fileName.replace(/\\/g,"/"));var C=_(n.fileName,e.validateFileNameOptions);if(null!=C)return A(e,new Error(C))}e.emit("entry",n),e.lazyEntries||e._readEntry()}}))}}))}}else setImmediate((function(){e.autoClose&&e.close(),e.emittedError||e.emit("end")}))},f.prototype.openReadStream=function(e,t,i){var n=this,o=0,s=e.compressedSize;if(null==i)i=t,t={};else{if(null!=t.decrypt){if(!e.isEncrypted())throw new Error("options.decrypt can only be specified for encrypted entries");if(!1!==t.decrypt)throw new Error("invalid options.decrypt value: "+t.decrypt);if(e.isCompressed()&&!1!==t.decompress)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}if(null!=t.decompress){if(!e.isCompressed())throw new Error("options.decompress can only be specified for compressed entries");if(!1!==t.decompress&&!0!==t.decompress)throw new Error("invalid options.decompress value: "+t.decompress)}if(null!=t.start||null!=t.end){if(e.isCompressed()&&!1!==t.decompress)throw new Error("start/end range not allowed for compressed entry without options.decompress === false");if(e.isEncrypted()&&!1!==t.decrypt)throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(null!=t.start){if((o=t.start)<0)throw new Error("options.start < 0");if(o>e.compressedSize)throw new Error("options.start > entry.compressedSize")}if(null!=t.end){if((s=t.end)<0)throw new Error("options.end < 0");if(s>e.compressedSize)throw new Error("options.end > entry.compressedSize");if(s<o)throw new Error("options.end < options.start")}}if(!n.isOpen)return i(new Error("closed"));if(e.isEncrypted()&&!1!==t.decrypt)return i(new Error("entry is encrypted, and options.decrypt !== false"));n.reader.ref();var a=x(30);b(n.reader,a,0,a.length,e.relativeOffsetOfLocalHeader,(function(c){try{if(c)return i(c);var l=a.readUInt32LE(0);if(67324752!==l)return i(new Error("invalid local file header signature: 0x"+l.toString(16)));var d,u=a.readUInt16LE(26),h=a.readUInt16LE(28),p=e.relativeOffsetOfLocalHeader+a.length+u+h;if(0===e.compressionMethod)d=!1;else{if(8!==e.compressionMethod)return i(new Error("unsupported compression method: "+e.compressionMethod));d=null==t.decompress||t.decompress}var f=p,A=f+e.compressedSize;if(0!==e.compressedSize&&A>n.fileSize)return i(new Error("file data overflows file bounds: "+f+" + "+e.compressedSize+" > "+n.fileSize));var m=n.reader.createReadStream({start:f+o,end:f+s}),g=m;if(d){var y=!1,_=r.createInflateRaw();m.on("error",(function(e){setImmediate((function(){y||_.emit("error",e)}))})),m.pipe(_),n.validateEntrySizes?(g=new v(e.uncompressedSize),_.on("error",(function(e){setImmediate((function(){y||g.emit("error",e)}))})),_.pipe(g)):g=_,g.destroy=function(){y=!0,_!==g&&_.unpipe(g),m.unpipe(_),m.destroy()}}i(null,g)}finally{n.reader.unref()}}))},g.prototype.getLastModDate=function(){return y(this.lastModFileDate,this.lastModFileTime)},g.prototype.isEncrypted=function(){return 0!=(1&this.generalPurposeBitFlag)},g.prototype.isCompressed=function(){return 8===this.compressionMethod},a.inherits(v,l),v.prototype._transform=function(e,t,i){if(this.actualByteCount+=e.length,this.actualByteCount>this.expectedByteCount){var n="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return i(new Error(n))}i(null,e)},v.prototype._flush=function(e){if(this.actualByteCount<this.expectedByteCount){var t="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return e(new Error(t))}e()},a.inherits(C,c),C.prototype.ref=function(){this.refCount+=1},C.prototype.unref=function(){var e=this;if(e.refCount-=1,!(e.refCount>0)){if(e.refCount<0)throw new Error("invalid unref");e.close((function(t){if(t)return e.emit("error",t);e.emit("close")}))}},C.prototype.createReadStream=function(e){var t=e.start,i=e.end;if(t===i){var n=new d;return setImmediate((function(){n.end()})),n}var r=this._readStreamForRange(t,i),o=!1,s=new w(this);r.on("error",(function(e){setImmediate((function(){o||s.emit("error",e)}))})),s.destroy=function(){r.unpipe(s),s.unref(),r.destroy()};var a=new v(i-t);return s.on("error",(function(e){setImmediate((function(){o||a.emit("error",e)}))})),a.destroy=function(){o=!0,s.unpipe(a),s.destroy()},r.pipe(s).pipe(a)},C.prototype._readStreamForRange=function(e,t){throw new Error("not implemented")},C.prototype.read=function(e,t,i,n,r){var o=this.createReadStream({start:n,end:n+i}),s=new u,a=0;s._write=function(i,n,r){i.copy(e,t+a,0,i.length),a+=i.length,r()},s.on("finish",r),o.on("error",(function(e){r(e)})),o.pipe(s)},C.prototype.close=function(e){setImmediate(e)},a.inherits(w,d),w.prototype._flush=function(e){this.unref(),e()},w.prototype.unref=function(e){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())};var x;function E(e,t,i,n){if(n)return e.toString("utf8",t,i);for(var r="",o=t;o<i;o++)r+="\0☺☻♥♦♣♠•◘○◙♂♀♪♫☼►◄↕‼¶§▬↨↑↓→←∟↔▲▼ !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~⌂ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ "[e[o]];return r}function k(e,t){var i=e.readUInt32LE(t);return 4294967296*e.readUInt32LE(t+4)+i}function S(e){if(e)throw e}x="function"==typeof Buffer.allocUnsafe?function(e){return Buffer.allocUnsafe(e)}:function(e){return new Buffer(e)}},function(e,t,i){var n=i(2),r=i(1),o=i(0),s=o.Readable,a=o.Writable,c=o.PassThrough,l=i(275),d=i(7).EventEmitter;function u(e,t){t=t||{},d.call(this),this.fd=e,this.pend=new l,this.pend.max=1,this.refCount=0,this.autoClose=!!t.autoClose}function h(e,t){t=t||{},s.call(this,t),this.context=e,this.context.ref(),this.start=t.start||0,this.endOffset=t.end,this.pos=this.start,this.destroyed=!1}function p(e,t){t=t||{},a.call(this,t),this.context=e,this.context.ref(),this.start=t.start||0,this.endOffset=null==t.end?1/0:+t.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}function f(e,t){d.call(this),t=t||{},this.refCount=0,this.buffer=e,this.maxChunkSize=t.maxChunkSize||Number.MAX_SAFE_INTEGER}t.createFromBuffer=function(e,t){return new f(e,t)},t.createFromFd=function(e,t){return new u(e,t)},t.BufferSlicer=f,t.FdSlicer=u,r.inherits(u,d),u.prototype.read=function(e,t,i,r,o){var s=this;s.pend.go((function(a){n.read(s.fd,e,t,i,r,(function(e,t,i){a(),o(e,t,i)}))}))},u.prototype.write=function(e,t,i,r,o){var s=this;s.pend.go((function(a){n.write(s.fd,e,t,i,r,(function(e,t,i){a(),o(e,t,i)}))}))},u.prototype.createReadStream=function(e){return new h(this,e)},u.prototype.createWriteStream=function(e){return new p(this,e)},u.prototype.ref=function(){this.refCount+=1},u.prototype.unref=function(){var e=this;if(e.refCount-=1,!(e.refCount>0)){if(e.refCount<0)throw new Error("invalid unref");e.autoClose&&n.close(e.fd,(function(t){t?e.emit("error",t):e.emit("close")}))}},r.inherits(h,s),h.prototype._read=function(e){var t=this;if(!t.destroyed){var i=Math.min(t._readableState.highWaterMark,e);if(null!=t.endOffset&&(i=Math.min(i,t.endOffset-t.pos)),i<=0)return t.destroyed=!0,t.push(null),void t.context.unref();t.context.pend.go((function(e){if(t.destroyed)return e();var r=new Buffer(i);n.read(t.context.fd,r,0,i,t.pos,(function(i,n){i?t.destroy(i):0===n?(t.destroyed=!0,t.push(null),t.context.unref()):(t.pos+=n,t.push(r.slice(0,n))),e()}))}))}},h.prototype.destroy=function(e){this.destroyed||(e=e||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",e),this.context.unref())},r.inherits(p,a),p.prototype._write=function(e,t,i){var r=this;if(!r.destroyed){if(r.pos+e.length>r.endOffset){var o=new Error("maximum file length exceeded");return o.code="ETOOBIG",r.destroy(),void i(o)}r.context.pend.go((function(t){if(r.destroyed)return t();n.write(r.context.fd,e,0,e.length,r.pos,(function(e,n){e?(r.destroy(),t(),i(e)):(r.bytesWritten+=n,r.pos+=n,r.emit("progress"),t(),i())}))}))}},p.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())},r.inherits(f,d),f.prototype.read=function(e,t,i,n,r){var o=n+i,s=o-this.buffer.length,a=s>0?s:i;this.buffer.copy(e,t,n,o),setImmediate((function(){r(null,a)}))},f.prototype.write=function(e,t,i,n,r){e.copy(this.buffer,n,t,t+i),setImmediate((function(){r(null,i,e)}))},f.prototype.createReadStream=function(e){var t=new c(e=e||{});t.destroyed=!1,t.start=e.start||0,t.endOffset=e.end,t.pos=t.endOffset||this.buffer.length;for(var i=this.buffer.slice(t.start,t.pos),n=0;;){var r=n+this.maxChunkSize;if(r>=i.length){n<i.length&&t.write(i.slice(n,i.length));break}t.write(i.slice(n,r)),n=r}return t.end(),t.destroy=function(){t.destroyed=!0},t},f.prototype.createWriteStream=function(e){var t=this,i=new a(e=e||{});return i.start=e.start||0,i.endOffset=null==e.end?this.buffer.length:+e.end,i.bytesWritten=0,i.pos=i.start,i.destroyed=!1,i._write=function(e,n,r){if(!i.destroyed){var o=i.pos+e.length;if(o>i.endOffset){var s=new Error("maximum file length exceeded");return s.code="ETOOBIG",i.destroyed=!0,void r(s)}e.copy(t.buffer,i.pos,0,e.length),i.bytesWritten+=e.length,i.pos=o,i.emit("progress"),r()}},i.destroy=function(){i.destroyed=!0},i},f.prototype.ref=function(){this.refCount+=1},f.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")}},function(e,t){function i(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}function n(e){e.pending+=1;var t=!1;return function(n){if(t)throw new Error("callback called twice");if(t=!0,e.error=e.error||n,e.pending-=1,e.waiting.length>0&&e.pending<e.max)r(e,e.waiting.shift());else if(0===e.pending){var o=e.listeners;e.listeners=[],o.forEach(i)}};function i(t){t(e.error)}}function r(e,t){t(n(e))}e.exports=i,i.prototype.go=function(e){this.pending<this.max?r(this,e):this.waiting.push(e)},i.prototype.wait=function(e){0===this.pending?e(this.error):this.listeners.push(e)},i.prototype.hold=function(){return n(this)}},function(e,t,i){var n=i(6).Buffer,r=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];function o(e){if(n.isBuffer(e))return e;var t="function"==typeof n.alloc&&"function"==typeof n.from;if("number"==typeof e)return t?n.alloc(e):new n(e);if("string"==typeof e)return t?n.from(e):new n(e);throw new Error("input must be buffer, number, or string, received "+typeof e)}function s(e){var t=o(4);return t.writeInt32BE(e,0),t}function a(e,t){e=o(e),n.isBuffer(t)&&(t=t.readUInt32BE(0));for(var i=-1^~~t,s=0;s<e.length;s++)i=r[255&(i^e[s])]^i>>>8;return-1^i}function c(){return s(a.apply(null,arguments))}"undefined"!=typeof Int32Array&&(r=new Int32Array(r)),c.signed=function(){return a.apply(null,arguments)},c.unsigned=function(){return a.apply(null,arguments)>>>0},e.exports=c},function(e,t,i){var n=i(3),r="win32"===process.platform,o=i(2),s=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function a(e){return"function"==typeof e?e:function(){var e;if(s){var t=new Error;e=function(e){e&&(t.message=e.message,i(e=t))}}else e=i;return e;function i(e){if(e){if(process.throwDeprecation)throw e;if(!process.noDeprecation){var t="fs: missing callback "+(e.stack||e.message);process.traceDeprecation?console.trace(t):console.error(t)}}}}()}n.normalize;if(r)var c=/(.*?)(?:[\/\\]+|$)/g;else c=/(.*?)(?:[\/]+|$)/g;if(r)var l=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else l=/^[\/]*/;t.realpathSync=function(e,t){if(e=n.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return t[e];var i,s,a,d,u=e,h={},p={};function f(){var t=l.exec(e);i=t[0].length,s=t[0],a=t[0],d="",r&&!p[a]&&(o.lstatSync(a),p[a]=!0)}for(f();i<e.length;){c.lastIndex=i;var A=c.exec(e);if(d=s,s+=A[0],a=d+A[1],i=c.lastIndex,!(p[a]||t&&t[a]===a)){var m;if(t&&Object.prototype.hasOwnProperty.call(t,a))m=t[a];else{var g=o.lstatSync(a);if(!g.isSymbolicLink()){p[a]=!0,t&&(t[a]=a);continue}var y=null;if(!r){var _=g.dev.toString(32)+":"+g.ino.toString(32);h.hasOwnProperty(_)&&(y=h[_])}null===y&&(o.statSync(a),y=o.readlinkSync(a)),m=n.resolve(d,y),t&&(t[a]=m),r||(h[_]=y)}e=n.resolve(m,e.slice(i)),f()}}return t&&(t[u]=e),e},t.realpath=function(e,t,i){if("function"!=typeof i&&(i=a(t),t=null),e=n.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return process.nextTick(i.bind(null,null,t[e]));var s,d,u,h,p=e,f={},A={};function m(){var t=l.exec(e);s=t[0].length,d=t[0],u=t[0],h="",r&&!A[u]?o.lstat(u,(function(e){if(e)return i(e);A[u]=!0,g()})):process.nextTick(g)}function g(){if(s>=e.length)return t&&(t[p]=e),i(null,e);c.lastIndex=s;var n=c.exec(e);return h=d,d+=n[0],u=h+n[1],s=c.lastIndex,A[u]||t&&t[u]===u?process.nextTick(g):t&&Object.prototype.hasOwnProperty.call(t,u)?b(t[u]):o.lstat(u,y)}function y(e,n){if(e)return i(e);if(!n.isSymbolicLink())return A[u]=!0,t&&(t[u]=u),process.nextTick(g);if(!r){var s=n.dev.toString(32)+":"+n.ino.toString(32);if(f.hasOwnProperty(s))return _(null,f[s],u)}o.stat(u,(function(e){if(e)return i(e);o.readlink(u,(function(e,t){r||(f[s]=t),_(e,t)}))}))}function _(e,r,o){if(e)return i(e);var s=n.resolve(h,r);t&&(t[o]=s),b(s)}function b(t){e=n.resolve(t,e.slice(s)),m()}m()}},function(e,t,i){var n=i(279),r=i(280);e.exports=function(e){if(!e)return[];"{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2));return function e(t,i){var o=[],s=r("{","}",t);if(!s||/\$$/.test(s.pre))return[t];var c,l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),m=l||u,g=s.body.indexOf(",")>=0;if(!m&&!g)return s.post.match(/,.*\}/)?(t=s.pre+"{"+s.body+a+s.post,e(t)):[t];if(m)c=s.body.split(/\.\./);else{if(1===(c=function e(t){if(!t)return[""];var i=[],n=r("{","}",t);if(!n)return t.split(",");var o=n.pre,s=n.body,a=n.post,c=o.split(",");c[c.length-1]+="{"+s+"}";var l=e(a);a.length&&(c[c.length-1]+=l.shift(),c.push.apply(c,l));return i.push.apply(i,c),i}(s.body)).length)if(1===(c=e(c[0],!1).map(h)).length)return(b=s.post.length?e(s.post,!1):[""]).map((function(e){return s.pre+c[0]+e}))}var y,_=s.pre,b=s.post.length?e(s.post,!1):[""];if(m){var v=d(c[0]),C=d(c[1]),w=Math.max(c[0].length,c[1].length),x=3==c.length?Math.abs(d(c[2])):1,E=f;C<v&&(x*=-1,E=A);var k=c.some(p);y=[];for(var S=v;E(S,C);S+=x){var I;if(u)"\\"===(I=String.fromCharCode(S))&&(I="");else if(I=String(S),k){var M=w-I.length;if(M>0){var O=new Array(M+1).join("0");I=S<0?"-"+O+I.slice(1):O+I}}y.push(I)}}else y=n(c,(function(t){return e(t,!1)}));for(var T=0;T<y.length;T++)for(var P=0;P<b.length;P++){var R=_+y[T]+b[P];(!i||m||R)&&o.push(R)}return o}(function(e){return e.split("\\\\").join(o).split("\\{").join(s).split("\\}").join(a).split("\\,").join(c).split("\\.").join(l)}(e),!0).map(u)};var o="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",l="\0PERIOD"+Math.random()+"\0";function d(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function u(e){return e.split(o).join("\\").split(s).join("{").split(a).join("}").split(c).join(",").split(l).join(".")}function h(e){return"{"+e+"}"}function p(e){return/^-?0\d/.test(e)}function f(e,t){return e<=t}function A(e,t){return e>=t}},function(e,t){e.exports=function(e,t){for(var n=[],r=0;r<e.length;r++){var o=t(e[r],r);i(o)?n.push.apply(n,o):n.push(o)}return n};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,i){"use strict";function n(e,t,i){e instanceof RegExp&&(e=r(e,i)),t instanceof RegExp&&(t=r(t,i));var n=o(e,t,i);return n&&{start:n[0],end:n[1],pre:i.slice(0,n[0]),body:i.slice(n[0]+e.length,n[1]),post:i.slice(n[1]+t.length)}}function r(e,t){var i=t.match(e);return i?i[0]:null}function o(e,t,i){var n,r,o,s,a,c=i.indexOf(e),l=i.indexOf(t,c+1),d=c;if(c>=0&&l>0){for(n=[],o=i.length;d>=0&&!a;)d==c?(n.push(d),c=i.indexOf(e,d+1)):1==n.length?a=[n.pop(),l]:((r=n.pop())<o&&(o=r,s=l),l=i.indexOf(t,d+1)),d=c<l&&c>=0?c:l;n.length&&(a=[o,s])}return a}e.exports=n,n.range=o},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},function(e,t,i){e.exports=f,f.GlobSync=A;var n=i(2),r=i(133),o=i(71),s=(o.Minimatch,i(70).Glob,i(1),i(3)),a=i(43),c=i(72),l=i(134),d=(l.alphasort,l.alphasorti,l.setopts),u=l.ownProp,h=l.childrenIgnored,p=l.isIgnored;function f(e,t){if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new A(e,t).found}function A(e,t){if(!e)throw new Error("must provide pattern");if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof A))return new A(e,t);if(d(this,e,t),this.noprocess)return this;var i=this.minimatch.set.length;this.matches=new Array(i);for(var n=0;n<i;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}A.prototype._finish=function(){if(a(this instanceof A),this.realpath){var e=this;this.matches.forEach((function(t,i){var n=e.matches[i]=Object.create(null);for(var o in t)try{o=e._makeAbs(o),n[r.realpathSync(o,e.realpathCache)]=!0}catch(t){if("stat"!==t.syscall)throw t;n[e._makeAbs(o)]=!0}}))}l.finish(this)},A.prototype._process=function(e,t,i){a(this instanceof A);for(var n,r=0;"string"==typeof e[r];)r++;switch(r){case e.length:return void this._processSimple(e.join("/"),t);case 0:n=null;break;default:n=e.slice(0,r).join("/")}var s,l=e.slice(r);null===n?s=".":c(n)||c(e.join("/"))?(n&&c(n)||(n="/"+n),s=n):s=n;var d=this._makeAbs(s);h(this,s)||(l[0]===o.GLOBSTAR?this._processGlobStar(n,s,d,l,t,i):this._processReaddir(n,s,d,l,t,i))},A.prototype._processReaddir=function(e,t,i,n,r,o){var a=this._readdir(i,o);if(a){for(var c=n[0],l=!!this.minimatch.negate,d=c._glob,u=this.dot||"."===d.charAt(0),h=[],p=0;p<a.length;p++){if("."!==(m=a[p]).charAt(0)||u)(l&&!e?!m.match(c):m.match(c))&&h.push(m)}var f=h.length;if(0!==f)if(1!==n.length||this.mark||this.stat){n.shift();for(p=0;p<f;p++){var A;m=h[p];A=e?[e,m]:[m],this._process(A.concat(n),r,o)}}else{this.matches[r]||(this.matches[r]=Object.create(null));for(var p=0;p<f;p++){var m=h[p];e&&(m="/"!==e.slice(-1)?e+"/"+m:e+m),"/"!==m.charAt(0)||this.nomount||(m=s.join(this.root,m)),this._emitMatch(r,m)}}}},A.prototype._emitMatch=function(e,t){if(!p(this,t)){var i=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=i),!this.matches[e][t]){if(this.nodir){var n=this.cache[i];if("DIR"===n||Array.isArray(n))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}},A.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,i;try{i=n.lstatSync(e)}catch(e){if("ENOENT"===e.code)return null}var r=i&&i.isSymbolicLink();return this.symlinks[e]=r,r||!i||i.isDirectory()?t=this._readdir(e,!1):this.cache[e]="FILE",t},A.prototype._readdir=function(e,t){if(t&&!u(this.symlinks,e))return this._readdirInGlobStar(e);if(u(this.cache,e)){var i=this.cache[e];if(!i||"FILE"===i)return null;if(Array.isArray(i))return i}try{return this._readdirEntries(e,n.readdirSync(e))}catch(t){return this._readdirError(e,t),null}},A.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var i=0;i<t.length;i++){var n=t[i];n="/"===e?e+n:e+"/"+n,this.cache[n]=!0}return this.cache[e]=t,t},A.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var i=this._makeAbs(e);if(this.cache[i]="FILE",i===this.cwdAbs){var n=new Error(t.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=t.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t)}},A.prototype._processGlobStar=function(e,t,i,n,r,o){var s=this._readdir(i,o);if(s){var a=n.slice(1),c=e?[e]:[],l=c.concat(a);this._process(l,r,!1);var d=s.length;if(!this.symlinks[i]||!o)for(var u=0;u<d;u++){if("."!==s[u].charAt(0)||this.dot){var h=c.concat(s[u],a);this._process(h,r,!0);var p=c.concat(s[u],n);this._process(p,r,!0)}}}},A.prototype._processSimple=function(e,t){var i=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),i){if(e&&c(e)&&!this.nomount){var n=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=s.join(this.root,e):(e=s.resolve(this.root,e),n&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}},A.prototype._stat=function(e){var t=this._makeAbs(e),i="/"===e.slice(-1);if(e.length>this.maxLength)return!1;if(!this.stat&&u(this.cache,t)){var r=this.cache[t];if(Array.isArray(r)&&(r="DIR"),!i||"DIR"===r)return r;if(i&&"FILE"===r)return!1}var o=this.statCache[t];if(!o){var s;try{s=n.lstatSync(t)}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return this.statCache[t]=!1,!1}if(s&&s.isSymbolicLink())try{o=n.statSync(t)}catch(e){o=s}else o=s}this.statCache[t]=o;r=!0;return o&&(r=o.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||r,(!i||"FILE"!==r)&&r},A.prototype._mark=function(e){return l.mark(this,e)},A.prototype._makeAbs=function(e){return l.makeAbs(this,e)}},function(e,t,i){var n=i(130),r=Object.create(null),o=i(55);function s(e){for(var t=e.length,i=[],n=0;n<t;n++)i[n]=e[n];return i}e.exports=n((function(e,t){return r[e]?(r[e].push(t),null):(r[e]=[t],function(e){return o((function t(){var i=r[e],n=i.length,o=s(arguments);try{for(var a=0;a<n;a++)i[a].apply(null,o)}finally{i.length>n?(i.splice(0,n),process.nextTick((function(){t.apply(null,o)}))):delete r[e]}}))}(e))}))},function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(i(26)),s=r(i(46)),a=r(i(10)),c=r(i(43)),l=r(i(29)),d=i(285),u=r(i(287)),h=l.default("https-proxy-agent:agent");class p extends d.Agent{constructor(e){let t;if(t="string"==typeof e?a.default.parse(e):e,!t)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");h("creating new HttpsProxyAgent instance: %o",t),super(t);const i=Object.assign({},t);var n;this.secureProxy=t.secureProxy||"string"==typeof(n=i.protocol)&&/^https:?$/i.test(n),i.host=i.hostname||i.host,"string"==typeof i.port&&(i.port=parseInt(i.port,10)),!i.port&&i.host&&(i.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in i)&&(i.ALPNProtocols=["http 1.1"]),i.host&&i.path&&(delete i.path,delete i.pathname),this.proxy=i}callback(e,t){return n(this,void 0,void 0,(function*(){const{proxy:i,secureProxy:n}=this;let r;n?(h("Creating `tls.Socket`: %o",i),r=s.default.connect(i)):(h("Creating `net.Socket`: %o",i),r=o.default.connect(i));const a=Object.assign({},i.headers);let l=`CONNECT ${`${t.host}:${t.port}`} HTTP/1.1\r\n`;i.auth&&(a["Proxy-Authorization"]="Basic "+Buffer.from(i.auth).toString("base64"));let{host:d,port:p,secureEndpoint:A}=t;(function(e,t){return Boolean(!t&&80===e||t&&443===e)})(p,A)||(d+=":"+p),a.Host=d,a.Connection="close";for(const e of Object.keys(a))l+=`${e}: ${a[e]}\r\n`;const m=u.default(r);r.write(l+"\r\n");const{statusCode:g,buffered:y}=yield m;if(200===g){if(e.once("socket",f),t.secureEndpoint){const e=t.servername||t.host;if(!e)throw new Error('Could not determine "servername"');return h("Upgrading socket connection to TLS"),s.default.connect(Object.assign(Object.assign({},function(e,...t){const i={};let n;for(n in e)t.includes(n)||(i[n]=e[n]);return i}(t,"host","hostname","path","port")),{socket:r,servername:e}))}return r}r.destroy();const _=new o.default.Socket;return _.readable=!0,e.once("socket",e=>{h("replaying proxy buffer for failed request"),c.default(e.listenerCount("data")>0),e.push(y),e.push(null)}),_}))}}function f(e){e.resume()}t.default=p},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const r=i(7),o=n(i(29)),s=n(i(286)),a=o.default("agent-base");function c(){const{stack:e}=new Error;return"string"==typeof e&&e.split("\n").some(e=>-1!==e.indexOf("(https.js:")||-1!==e.indexOf("node:https:"))}function l(e,t){return new l.Agent(e,t)}!function(e){class t extends r.EventEmitter{constructor(e,t){super();let i=t;"function"==typeof e?this.callback=e:e&&(i=e),this.timeout=null,i&&"number"==typeof i.timeout&&(this.timeout=i.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return"number"==typeof this.explicitDefaultPort?this.explicitDefaultPort:c()?443:80}set defaultPort(e){this.explicitDefaultPort=e}get protocol(){return"string"==typeof this.explicitProtocol?this.explicitProtocol:c()?"https:":"http:"}set protocol(e){this.explicitProtocol=e}callback(e,t,i){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(e,t){const i=Object.assign({},t);"boolean"!=typeof i.secureEndpoint&&(i.secureEndpoint=c()),null==i.host&&(i.host="localhost"),null==i.port&&(i.port=i.secureEndpoint?443:80),null==i.protocol&&(i.protocol=i.secureEndpoint?"https:":"http:"),i.host&&i.path&&delete i.path,delete i.agent,delete i.hostname,delete i._defaultAgent,delete i.defaultPort,delete i.createConnection,e._last=!0,e.shouldKeepAlive=!1;let n=!1,r=null;const o=i.timeout||this.timeout,l=t=>{e._hadError||(e.emit("error",t),e._hadError=!0)},d=()=>{r=null,n=!0;const e=new Error(`A "socket" was not created for HTTP request before ${o}ms`);e.code="ETIMEOUT",l(e)},u=e=>{n||(null!==r&&(clearTimeout(r),r=null),l(e))},h=t=>{if(n)return;if(null!=r&&(clearTimeout(r),r=null),o=t,Boolean(o)&&"function"==typeof o.addRequest)return a("Callback returned another Agent instance %o",t.constructor.name),void t.addRequest(e,i);var o;if(t)return t.once("free",()=>{this.freeSocket(t,i)}),void e.onSocket(t);const s=new Error(`no Duplex stream was returned to agent-base for \`${e.method} ${e.path}\``);l(s)};if("function"==typeof this.callback){this.promisifiedCallback||(this.callback.length>=3?(a("Converting legacy callback function to promise"),this.promisifiedCallback=s.default(this.callback)):this.promisifiedCallback=this.callback),"number"==typeof o&&o>0&&(r=setTimeout(d,o)),"port"in i&&"number"!=typeof i.port&&(i.port=Number(i.port));try{a("Resolving socket for %o request: %o",i.protocol,`${e.method} ${e.path}`),Promise.resolve(this.promisifiedCallback(e,i)).then(h,u)}catch(e){Promise.reject(e).catch(u)}}else l(new Error("`callback` is not defined"))}freeSocket(e,t){a("Freeing socket %o %o",e.constructor.name,t),e.destroy()}destroy(){a("Destroying agent %o",this.constructor.name)}}e.Agent=t,e.prototype=e.Agent.prototype}(l||(l={})),e.exports=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,i){return new Promise((n,r)=>{e.call(this,t,i,(e,t)=>{e?r(e):n(t)})})}}},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(i(29)).default("https-proxy-agent:parse-proxy-response");t.default=function(e){return new Promise((t,i)=>{let n=0;const o=[];function s(){const i=e.read();i?function(e){o.push(e),n+=e.length;const i=Buffer.concat(o,n);if(-1===i.indexOf("\r\n\r\n"))return r("have not received end of HTTP headers yet..."),void s();const a=i.toString("ascii",0,i.indexOf("\r\n")),c=+a.split(" ")[1];r("got proxy server response: %o",a),t({statusCode:c,buffered:i})}(i):e.once("readable",s)}function a(e){r("onclose had error %o",e)}function c(){r("onend")}function l(t){e.removeListener("end",c),e.removeListener("error",l),e.removeListener("close",a),e.removeListener("readable",s),r("onerror %o",t),i(t)}e.on("error",l),e.on("close",a),e.on("end",c),s()})}},function(e,t,i){"use strict";const n=i(2),r=i(3),o=n.lchown?"lchown":"chown",s=n.lchownSync?"lchownSync":"chownSync",a=n.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),c=(e,t,i)=>{try{return n[s](e,t,i)}catch(e){if("ENOENT"!==e.code)throw e}},l=a?(e,t,i,r)=>o=>{o&&"EISDIR"===o.code?n.chown(e,t,i,r):r(o)}:(e,t,i,n)=>n,d=a?(e,t,i)=>{try{return c(e,t,i)}catch(r){if("EISDIR"!==r.code)throw r;((e,t,i)=>{try{n.chownSync(e,t,i)}catch(e){if("ENOENT"!==e.code)throw e}})(e,t,i)}}:(e,t,i)=>c(e,t,i),u=process.version;let h=(e,t,i)=>n.readdir(e,t,i);/^v4\./.test(u)&&(h=(e,t,i)=>n.readdir(e,i));const p=(e,t,i,r)=>{n[o](e,t,i,l(e,t,i,e=>{r(e&&"ENOENT"!==e.code?e:null)}))},f=(e,t,i,o,s)=>{if("string"==typeof t)return n.lstat(r.resolve(e,t),(n,r)=>{if(n)return s("ENOENT"!==n.code?n:null);r.name=t,f(e,r,i,o,s)});if(t.isDirectory())A(r.resolve(e,t.name),i,o,n=>{if(n)return s(n);const a=r.resolve(e,t.name);p(a,i,o,s)});else{const n=r.resolve(e,t.name);p(n,i,o,s)}},A=(e,t,i,n)=>{h(e,{withFileTypes:!0},(r,o)=>{if(r){if("ENOENT"===r.code)return n();if("ENOTDIR"!==r.code&&"ENOTSUP"!==r.code)return n(r)}if(r||!o.length)return p(e,t,i,n);let s=o.length,a=null;const c=r=>{if(!a)return r?n(a=r):0==--s?p(e,t,i,n):void 0};o.forEach(n=>f(e,n,t,i,c))})},m=(e,t,i)=>{let o;try{o=((e,t)=>n.readdirSync(e,t))(e,{withFileTypes:!0})}catch(n){if("ENOENT"===n.code)return;if("ENOTDIR"===n.code||"ENOTSUP"===n.code)return d(e,t,i);throw n}return o&&o.length&&o.forEach(o=>((e,t,i,o)=>{if("string"==typeof t)try{const i=n.lstatSync(r.resolve(e,t));i.name=t,t=i}catch(e){if("ENOENT"===e.code)return;throw e}t.isDirectory()&&m(r.resolve(e,t.name),i,o),d(r.resolve(e,t.name),i,o)})(e,o,t,i)),d(e,t,i)};e.exports=A,A.sync=m},function(e,t,i){t.extract=i(290),t.pack=i(306)},function(e,t,i){var n=i(1),r=i(291),o=i(145),s=i(57).Writable,a=i(57).PassThrough,c=function(){},l=function(e){return(e&=511)&&512-e},d=function(e,t){this._parent=e,this.offset=t,a.call(this,{autoDestroy:!1})};n.inherits(d,a),d.prototype.destroy=function(e){this._parent.destroy(e)};var u=function(e){if(!(this instanceof u))return new u(e);s.call(this,e),e=e||{},this._offset=0,this._buffer=r(),this._missing=0,this._partial=!1,this._onparse=c,this._header=null,this._stream=null,this._overflow=null,this._cb=null,this._locked=!1,this._destroyed=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null;var t=this,i=t._buffer,n=function(){t._continue()},a=function(e){if(t._locked=!1,e)return t.destroy(e);t._stream||n()},h=function(){t._stream=null;var e=l(t._header.size);e?t._parse(e,p):t._parse(512,y),t._locked||n()},p=function(){t._buffer.consume(l(t._header.size)),t._parse(512,y),n()},f=function(){var e=t._header.size;t._paxGlobal=o.decodePax(i.slice(0,e)),i.consume(e),h()},A=function(){var e=t._header.size;t._pax=o.decodePax(i.slice(0,e)),t._paxGlobal&&(t._pax=Object.assign({},t._paxGlobal,t._pax)),i.consume(e),h()},m=function(){var n=t._header.size;this._gnuLongPath=o.decodeLongPath(i.slice(0,n),e.filenameEncoding),i.consume(n),h()},g=function(){var n=t._header.size;this._gnuLongLinkPath=o.decodeLongPath(i.slice(0,n),e.filenameEncoding),i.consume(n),h()},y=function(){var r,s=t._offset;try{r=t._header=o.decode(i.slice(0,512),e.filenameEncoding,e.allowUnknownFormat)}catch(e){t.emit("error",e)}return i.consume(512),r?"gnu-long-path"===r.type?(t._parse(r.size,m),void n()):"gnu-long-link-path"===r.type?(t._parse(r.size,g),void n()):"pax-global-header"===r.type?(t._parse(r.size,f),void n()):"pax-header"===r.type?(t._parse(r.size,A),void n()):(t._gnuLongPath&&(r.name=t._gnuLongPath,t._gnuLongPath=null),t._gnuLongLinkPath&&(r.linkname=t._gnuLongLinkPath,t._gnuLongLinkPath=null),t._pax&&(t._header=r=function(e,t){return t.path&&(e.name=t.path),t.linkpath&&(e.linkname=t.linkpath),t.size&&(e.size=parseInt(t.size,10)),e.pax=t,e}(r,t._pax),t._pax=null),t._locked=!0,r.size&&"directory"!==r.type?(t._stream=new d(t,s),t.emit("entry",r,t._stream,a),t._parse(r.size,h),void n()):(t._parse(512,y),void t.emit("entry",r,function(e,t){var i=new d(e,t);return i.end(),i}(t,s),a))):(t._parse(512,y),void n())};this._onheader=y,this._parse(512,y)};n.inherits(u,s),u.prototype.destroy=function(e){this._destroyed||(this._destroyed=!0,e&&this.emit("error",e),this.emit("close"),this._stream&&this._stream.emit("close"))},u.prototype._parse=function(e,t){this._destroyed||(this._offset+=e,this._missing=e,t===this._onheader&&(this._partial=!1),this._onparse=t)},u.prototype._continue=function(){if(!this._destroyed){var e=this._cb;this._cb=c,this._overflow?this._write(this._overflow,void 0,e):e()}},u.prototype._write=function(e,t,i){if(!this._destroyed){var n=this._stream,r=this._buffer,o=this._missing;if(e.length&&(this._partial=!0),e.length<o)return this._missing-=e.length,this._overflow=null,n?n.write(e,i):(r.append(e),i());this._cb=i,this._missing=0;var s=null;e.length>o&&(s=e.slice(o),e=e.slice(0,o)),n?n.end(e):r.append(e),this._overflow=s,this._onparse()}},u.prototype._final=function(e){if(this._partial)return this.destroy(new Error("Unexpected end of data"));e()},e.exports=u},function(e,t,i){"use strict";const n=i(292).Duplex,r=i(33),o=i(300);function s(e){if(!(this instanceof s))return new s(e);if("function"==typeof e){this._callback=e;const t=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on("pipe",(function(e){e.on("error",t)})),this.on("unpipe",(function(e){e.removeListener("error",t)})),e=null}o._init.call(this,e),n.call(this)}r(s,n),Object.assign(s.prototype,o.prototype),s.prototype._new=function(e){return new s(e)},s.prototype._write=function(e,t,i){this._appendBuffer(e),"function"==typeof i&&i()},s.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},s.prototype.end=function(e){n.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype._destroy=function(e,t){this._bufs.length=0,this.length=0,t(e)},s.prototype._isBufferList=function(e){return e instanceof s||e instanceof o||s.isBufferList(e)},s.isBufferList=o.isBufferList,e.exports=s,e.exports.BufferListStream=s,e.exports.BufferList=o},function(e,t,i){var n=i(0);"disable"===process.env.READABLE_STREAM&&n?(e.exports=n.Readable,Object.assign(e.exports,n),e.exports.Stream=n):((t=e.exports=i(138)).Stream=n||t,t.Readable=t,t.Writable=i(142),t.Duplex=i(34),t.Transform=i(144),t.PassThrough=i(298),t.finished=i(73),t.pipeline=i(299))},function(e,t,i){"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=i(6).Buffer,a=i(1).inspect,c=a&&a.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,i,l;return t=e,(i=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,i=""+t.data;t=t.next;)i+=e+t.data;return i}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t,i,n,r=s.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,i=r,n=a,s.prototype.copy.call(t,i,n),a+=o.data.length,o=o.next;return r}},{key:"consume",value:function(e,t){var i;return e<this.head.data.length?(i=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):i=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,i=1,n=t.data;for(e-=n.length;t=t.next;){var r=t.data,o=e>r.length?r.length:e;if(o===r.length?n+=r:n+=r.slice(0,e),0==(e-=o)){o===r.length?(++i,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=r.slice(o));break}++i}return this.length-=i,n}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),i=this.head,n=1;for(i.data.copy(t),e-=i.data.length;i=i.next;){var r=i.data,o=e>r.length?r.length:e;if(r.copy(t,t.length-e,0,o),0==(e-=o)){o===r.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=r.slice(o));break}++n}return this.length-=n,t}},{key:c,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&o(t.prototype,i),l&&o(t,l),e}()},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}}},function(e,t,i){var n=i(6),r=n.Buffer;function o(e,t){for(var i in e)t[i]=e[i]}function s(e,t,i){return r(e,t,i)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),o(r,s),s.from=function(e,t,i){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,i)},s.alloc=function(e,t,i){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=r(e);return void 0!==t?"string"==typeof i?n.fill(t,i):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,i){"use strict";var n;function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var o=i(73),s=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),d=Symbol("lastPromise"),u=Symbol("handlePromise"),h=Symbol("stream");function p(e,t){return{value:e,done:t}}function f(e){var t=e[s];if(null!==t){var i=e[h].read();null!==i&&(e[d]=null,e[s]=null,e[a]=null,t(p(i,!1)))}}function A(e){process.nextTick(f,e)}var m=Object.getPrototypeOf((function(){})),g=Object.setPrototypeOf((r(n={get stream(){return this[h]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise((function(t,i){process.nextTick((function(){e[c]?i(e[c]):t(p(void 0,!0))}))}));var i,n=this[d];if(n)i=new Promise(function(e,t){return function(i,n){e.then((function(){t[l]?i(p(void 0,!0)):t[u](i,n)}),n)}}(n,this));else{var r=this[h].read();if(null!==r)return Promise.resolve(p(r,!1));i=new Promise(this[u])}return this[d]=i,i}},Symbol.asyncIterator,(function(){return this})),r(n,"return",(function(){var e=this;return new Promise((function(t,i){e[h].destroy(null,(function(e){e?i(e):t(p(void 0,!0))}))}))})),n),m);e.exports=function(e){var t,i=Object.create(g,(r(t={},h,{value:e,writable:!0}),r(t,s,{value:null,writable:!0}),r(t,a,{value:null,writable:!0}),r(t,c,{value:null,writable:!0}),r(t,l,{value:e._readableState.endEmitted,writable:!0}),r(t,u,{value:function(e,t){var n=i[h].read();n?(i[d]=null,i[s]=null,i[a]=null,e(p(n,!1))):(i[s]=e,i[a]=t)},writable:!0}),t));return i[d]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=i[a];return null!==t&&(i[d]=null,i[s]=null,i[a]=null,t(e)),void(i[c]=e)}var n=i[s];null!==n&&(i[d]=null,i[s]=null,i[a]=null,n(p(void 0,!0))),i[l]=!0})),e.on("readable",A.bind(null,i)),i}},function(e,t,i){"use strict";function n(e,t,i,n,r,o,s){try{var a=e[o](s),c=a.value}catch(e){return void i(e)}a.done?t(c):Promise.resolve(c).then(n,r)}function r(e){return function(){var t=this,i=arguments;return new Promise((function(r,o){var s=e.apply(t,i);function a(e){n(s,r,o,a,c,"next",e)}function c(e){n(s,r,o,a,c,"throw",e)}a(void 0)}))}}function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var a=i(23).codes.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,i){var n;if(t&&"function"==typeof t.next)n=t;else if(t&&t[Symbol.asyncIterator])n=t[Symbol.asyncIterator]();else{if(!t||!t[Symbol.iterator])throw new a("iterable",["Iterable"],t);n=t[Symbol.iterator]()}var c=new e(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){s(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({objectMode:!0},i)),l=!1;function d(){return u.apply(this,arguments)}function u(){return(u=r((function*(){try{var e=yield n.next(),t=e.value;e.done?c.push(null):c.push(yield t)?d():l=!1}catch(e){c.destroy(e)}}))).apply(this,arguments)}return c._read=function(){l||(l=!0,d())},c}},function(e,t,i){"use strict";e.exports=r;var n=i(144);function r(e){if(!(this instanceof r))return new r(e);n.call(this,e)}i(33)(r,n),r.prototype._transform=function(e,t,i){i(null,e)}},function(e,t,i){"use strict";var n;var r=i(23).codes,o=r.ERR_MISSING_ARGS,s=r.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e,t,r,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===n&&(n=i(73)),n(e,{readable:t,writable:r},(function(e){if(e)return o(e);a=!0,o()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}function l(e){e()}function d(e,t){return e.pipe(t)}function u(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n,r=u(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var s=t.map((function(e,i){var o=i<t.length-1;return c(e,o,i>0,(function(e){n||(n=e),e&&s.forEach(l),o||(s.forEach(l),r(n))}))}));return t.reduce(d)}},function(e,t,i){"use strict";const{Buffer:n}=i(6),r=Symbol.for("BufferList");function o(e){if(!(this instanceof o))return new o(e);o._init.call(this,e)}o._init=function(e){Object.defineProperty(this,r,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},o.prototype._new=function(e){return new o(e)},o.prototype._offset=function(e){if(0===e)return[0,0];let t=0;for(let i=0;i<this._bufs.length;i++){const n=t+this._bufs[i].length;if(e<n||i===this._bufs.length-1)return[i,e-t];t=n}},o.prototype._reverseOffset=function(e){const t=e[0];let i=e[1];for(let e=0;e<t;e++)i+=this._bufs[e].length;return i},o.prototype.get=function(e){if(e>this.length||e<0)return;const t=this._offset(e);return this._bufs[t[0]][t[1]]},o.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},o.prototype.copy=function(e,t,i,r){if(("number"!=typeof i||i<0)&&(i=0),("number"!=typeof r||r>this.length)&&(r=this.length),i>=this.length)return e||n.alloc(0);if(r<=0)return e||n.alloc(0);const o=!!e,s=this._offset(i),a=r-i;let c=a,l=o&&t||0,d=s[1];if(0===i&&r===this.length){if(!o)return 1===this._bufs.length?this._bufs[0]:n.concat(this._bufs,this.length);for(let t=0;t<this._bufs.length;t++)this._bufs[t].copy(e,l),l+=this._bufs[t].length;return e}if(c<=this._bufs[s[0]].length-d)return o?this._bufs[s[0]].copy(e,t,d,d+c):this._bufs[s[0]].slice(d,d+c);o||(e=n.allocUnsafe(a));for(let t=s[0];t<this._bufs.length;t++){const i=this._bufs[t].length-d;if(!(c>i)){this._bufs[t].copy(e,l,d,d+c),l+=i;break}this._bufs[t].copy(e,l,d),l+=i,c-=i,d&&(d=0)}return e.length>l?e.slice(0,l):e},o.prototype.shallowSlice=function(e,t){if(e=e||0,t="number"!=typeof t?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();const i=this._offset(e),n=this._offset(t),r=this._bufs.slice(i[0],n[0]+1);return 0===n[1]?r.pop():r[r.length-1]=r[r.length-1].slice(0,n[1]),0!==i[1]&&(r[0]=r[0].slice(i[1])),this._new(r)},o.prototype.toString=function(e,t,i){return this.slice(t,i).toString(e)},o.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},o.prototype.duplicate=function(){const e=this._new();for(let t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},o.prototype.append=function(e){if(null==e)return this;if(e.buffer)this._appendBuffer(n.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(let t=0;t<e._bufs.length;t++)this.append(e._bufs[t]);else"number"==typeof e&&(e=e.toString()),this._appendBuffer(n.from(e));return this},o.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},o.prototype.indexOf=function(e,t,i){if(void 0===i&&"string"==typeof t&&(i=t,t=void 0),"function"==typeof e||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof e?e=n.from([e]):"string"==typeof e?e=n.from(e,i):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=n.from(e.buffer,e.byteOffset,e.byteLength):n.isBuffer(e)||(e=n.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;const r=this._offset(t);let o=r[0],s=r[1];for(;o<this._bufs.length;o++){const t=this._bufs[o];for(;s<t.length;){if(t.length-s>=e.length){const i=t.indexOf(e,s);if(-1!==i)return this._reverseOffset([o,i]);s=t.length-e.length+1}else{const t=this._reverseOffset([o,s]);if(this._match(t,e))return t;s++}}s=0}return-1},o.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(let i=0;i<t.length;i++)if(this.get(e+i)!==t[i])return!1;return!0},function(){const e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const t in e)!function(t){o.prototype[t]=null===e[t]?function(e,i){return this.slice(e,e+i)[t](0,i)}:function(i=0){return this.slice(i,i+e[t])[t](0)}}(t)}(),o.prototype._isBufferList=function(e){return e instanceof o||o.isBufferList(e)},o.isBufferList=function(e){return null!=e&&e[r]},e.exports=o},function(e,t,i){"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=i(6).Buffer,a=i(1).inspect,c=a&&a.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,i,l;return t=e,(i=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,i=""+t.data;t=t.next;)i+=e+t.data;return i}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t,i,n,r=s.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,i=r,n=a,s.prototype.copy.call(t,i,n),a+=o.data.length,o=o.next;return r}},{key:"consume",value:function(e,t){var i;return e<this.head.data.length?(i=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):i=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,i=1,n=t.data;for(e-=n.length;t=t.next;){var r=t.data,o=e>r.length?r.length:e;if(o===r.length?n+=r:n+=r.slice(0,e),0==(e-=o)){o===r.length?(++i,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=r.slice(o));break}++i}return this.length-=i,n}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),i=this.head,n=1;for(i.data.copy(t),e-=i.data.length;i=i.next;){var r=i.data,o=e>r.length?r.length:e;if(r.copy(t,t.length-e,0,o),0==(e-=o)){o===r.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=r.slice(o));break}++n}return this.length-=n,t}},{key:c,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&o(t.prototype,i),l&&o(t,l),e}()},function(e,t,i){"use strict";var n;function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var o=i(74),s=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),d=Symbol("lastPromise"),u=Symbol("handlePromise"),h=Symbol("stream");function p(e,t){return{value:e,done:t}}function f(e){var t=e[s];if(null!==t){var i=e[h].read();null!==i&&(e[d]=null,e[s]=null,e[a]=null,t(p(i,!1)))}}function A(e){process.nextTick(f,e)}var m=Object.getPrototypeOf((function(){})),g=Object.setPrototypeOf((r(n={get stream(){return this[h]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise((function(t,i){process.nextTick((function(){e[c]?i(e[c]):t(p(void 0,!0))}))}));var i,n=this[d];if(n)i=new Promise(function(e,t){return function(i,n){e.then((function(){t[l]?i(p(void 0,!0)):t[u](i,n)}),n)}}(n,this));else{var r=this[h].read();if(null!==r)return Promise.resolve(p(r,!1));i=new Promise(this[u])}return this[d]=i,i}},Symbol.asyncIterator,(function(){return this})),r(n,"return",(function(){var e=this;return new Promise((function(t,i){e[h].destroy(null,(function(e){e?i(e):t(p(void 0,!0))}))}))})),n),m);e.exports=function(e){var t,i=Object.create(g,(r(t={},h,{value:e,writable:!0}),r(t,s,{value:null,writable:!0}),r(t,a,{value:null,writable:!0}),r(t,c,{value:null,writable:!0}),r(t,l,{value:e._readableState.endEmitted,writable:!0}),r(t,u,{value:function(e,t){var n=i[h].read();n?(i[d]=null,i[s]=null,i[a]=null,e(p(n,!1))):(i[s]=e,i[a]=t)},writable:!0}),t));return i[d]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=i[a];return null!==t&&(i[d]=null,i[s]=null,i[a]=null,t(e)),void(i[c]=e)}var n=i[s];null!==n&&(i[d]=null,i[s]=null,i[a]=null,n(p(void 0,!0))),i[l]=!0})),e.on("readable",A.bind(null,i)),i}},function(e,t,i){"use strict";function n(e,t,i,n,r,o,s){try{var a=e[o](s),c=a.value}catch(e){return void i(e)}a.done?t(c):Promise.resolve(c).then(n,r)}function r(e){return function(){var t=this,i=arguments;return new Promise((function(r,o){var s=e.apply(t,i);function a(e){n(s,r,o,a,c,"next",e)}function c(e){n(s,r,o,a,c,"throw",e)}a(void 0)}))}}function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var a=i(24).codes.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,i){var n;if(t&&"function"==typeof t.next)n=t;else if(t&&t[Symbol.asyncIterator])n=t[Symbol.asyncIterator]();else{if(!t||!t[Symbol.iterator])throw new a("iterable",["Iterable"],t);n=t[Symbol.iterator]()}var c=new e(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){s(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({objectMode:!0},i)),l=!1;function d(){return u.apply(this,arguments)}function u(){return(u=r((function*(){try{var e=yield n.next(),t=e.value;e.done?c.push(null):c.push(yield t)?d():l=!1}catch(e){c.destroy(e)}}))).apply(this,arguments)}return c._read=function(){l||(l=!0,d())},c}},function(e,t,i){"use strict";e.exports=r;var n=i(151);function r(e){if(!(this instanceof r))return new r(e);n.call(this,e)}i(22)(r,n),r.prototype._transform=function(e,t,i){i(null,e)}},function(e,t,i){"use strict";var n;var r=i(24).codes,o=r.ERR_MISSING_ARGS,s=r.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e,t,r,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===n&&(n=i(74)),n(e,{readable:t,writable:r},(function(e){if(e)return o(e);a=!0,o()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}function l(e){e()}function d(e,t){return e.pipe(t)}function u(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n,r=u(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var s=t.map((function(e,i){var o=i<t.length-1;return c(e,o,i>0,(function(e){n||(n=e),e&&s.forEach(l),o||(s.forEach(l),r(n))}))}));return t.reduce(d)}},function(e,t,i){var n=i(307),r=i(131),o=i(22),s=Buffer.alloc,a=i(57).Readable,c=i(57).Writable,l=i(101).StringDecoder,d=i(145),u=parseInt("755",8),h=parseInt("644",8),p=s(1024),f=function(){},A=function(e,t){(t&=511)&&e.push(p.slice(0,512-t))};var m=function(e){c.call(this),this.written=0,this._to=e,this._destroyed=!1};o(m,c),m.prototype._write=function(e,t,i){if(this.written+=e.length,this._to.push(e))return i();this._to._drain=i},m.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var g=function(){c.call(this),this.linkname="",this._decoder=new l("utf-8"),this._destroyed=!1};o(g,c),g.prototype._write=function(e,t,i){this.linkname+=this._decoder.write(e),i()},g.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var y=function(){c.call(this),this._destroyed=!1};o(y,c),y.prototype._write=function(e,t,i){i(new Error("No body allowed for this entry"))},y.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var _=function(e){if(!(this instanceof _))return new _(e);a.call(this,e),this._drain=f,this._finalized=!1,this._finalizing=!1,this._destroyed=!1,this._stream=null};o(_,a),_.prototype.entry=function(e,t,i){if(this._stream)throw new Error("already piping an entry");if(!this._finalized&&!this._destroyed){"function"==typeof t&&(i=t,t=null),i||(i=f);var o=this;if(e.size&&"symlink"!==e.type||(e.size=0),e.type||(e.type=function(e){switch(e&n.S_IFMT){case n.S_IFBLK:return"block-device";case n.S_IFCHR:return"character-device";case n.S_IFDIR:return"directory";case n.S_IFIFO:return"fifo";case n.S_IFLNK:return"symlink"}return"file"}(e.mode)),e.mode||(e.mode="directory"===e.type?u:h),e.uid||(e.uid=0),e.gid||(e.gid=0),e.mtime||(e.mtime=new Date),"string"==typeof t&&(t=Buffer.from(t)),Buffer.isBuffer(t)){e.size=t.length,this._encode(e);var s=this.push(t);return A(o,e.size),s?process.nextTick(i):this._drain=i,new y}if("symlink"===e.type&&!e.linkname){var a=new g;return r(a,(function(t){if(t)return o.destroy(),i(t);e.linkname=a.linkname,o._encode(e),i()})),a}if(this._encode(e),"file"!==e.type&&"contiguous-file"!==e.type)return process.nextTick(i),new y;var c=new m(this);return this._stream=c,r(c,(function(t){return o._stream=null,t?(o.destroy(),i(t)):c.written!==e.size?(o.destroy(),i(new Error("size mismatch"))):(A(o,e.size),o._finalizing&&o.finalize(),void i())})),c}},_.prototype.finalize=function(){this._stream?this._finalizing=!0:this._finalized||(this._finalized=!0,this.push(p),this.push(null))},_.prototype.destroy=function(e){this._destroyed||(this._destroyed=!0,e&&this.emit("error",e),this.emit("close"),this._stream&&this._stream.destroy&&this._stream.destroy())},_.prototype._encode=function(e){if(!e.pax){var t=d.encode(e);if(t)return void this.push(t)}this._encodePax(e)},_.prototype._encodePax=function(e){var t=d.encodePax({name:e.name,linkname:e.linkname,pax:e.pax}),i={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:t.length,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};this.push(d.encode(i)),this.push(t),A(this,t.length),i.size=e.size,i.type=e.type,this.push(d.encode(i))},_.prototype._read=function(e){var t=this._drain;this._drain=f,t()},e.exports=_},function(e,t,i){e.exports=i(2).constants||i(98)},function(e,t,i){var n=i(3),r=i(2),o=parseInt("0777",8);function s(e,t,i,a){"function"==typeof t?(i=t,t={}):t&&"object"==typeof t||(t={mode:t});var c=t.mode,l=t.fs||r;void 0===c&&(c=o&~process.umask()),a||(a=null);var d=i||function(){};e=n.resolve(e),l.mkdir(e,c,(function(i){if(!i)return d(null,a=a||e);switch(i.code){case"ENOENT":s(n.dirname(e),t,(function(i,n){i?d(i,n):s(e,t,d,n)}));break;default:l.stat(e,(function(e,t){e||!t.isDirectory()?d(i,a):d(null,a)}))}}))}e.exports=s.mkdirp=s.mkdirP=s,s.sync=function e(t,i,s){i&&"object"==typeof i||(i={mode:i});var a=i.mode,c=i.fs||r;void 0===a&&(a=o&~process.umask()),s||(s=null),t=n.resolve(t);try{c.mkdirSync(t,a),s=s||t}catch(r){switch(r.code){case"ENOENT":s=e(n.dirname(t),i,s),e(t,i,s);break;default:var l;try{l=c.statSync(t)}catch(e){throw r}if(!l.isDirectory())throw r}}return s}},function(e,t,i){var n=i(0);function r(e,t,i){e=e||function(e){this.queue(e)},t=t||function(){this.queue(null)};var r=!1,o=!1,s=[],a=!1,c=new n;function l(){for(;s.length&&!c.paused;){var e=s.shift();if(null===e)return c.emit("end");c.emit("data",e)}}function d(){c.writable=!1,t.call(c),!c.readable&&c.autoDestroy&&c.destroy()}return c.readable=c.writable=!0,c.paused=!1,c.autoDestroy=!(i&&!1===i.autoDestroy),c.write=function(t){return e.call(this,t),!c.paused},c.queue=c.push=function(e){return a||(null===e&&(a=!0),s.push(e),l()),c},c.on("end",(function(){c.readable=!1,!c.writable&&c.autoDestroy&&process.nextTick((function(){c.destroy()}))})),c.end=function(e){if(!r)return r=!0,arguments.length&&c.write(e),d(),c},c.destroy=function(){if(!o)return o=!0,r=!0,s.length=0,c.writable=c.readable=!1,c.emit("close"),c},c.pause=function(){if(!c.paused)return c.paused=!0,c},c.resume=function(){return c.paused&&(c.paused=!1,c.emit("resume")),l(),c.paused||c.emit("drain"),c},c}e.exports=r,r.through=r},function(e,t){function i(e){this.name="Bzip2Error",this.message=e,this.stack=(new Error).stack}i.prototype=new Error;var n=function(e){throw new i(e)},r={};r.Bzip2Error=i,r.crcTable=[0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188],r.array=function(e){var t=0,i=0,n=[0,1,3,7,15,31,63,127,255];return function(r){for(var o=0;r>0;){var s=8-t;r>=s?(o<<=s,o|=n[s]&e[i++],t=0,r-=s):(o<<=r,o|=(e[i]&n[r]<<8-r-t)>>8-r-t,t+=r,r=0)}return o}},r.simple=function(e,t){var i=r.array(e),n=!1,o=1e5*r.header(i),s=new Int32Array(o);do{n=r.decompress(i,t,s,o)}while(!n)},r.header=function(e){this.byteCount=new Int32Array(256),this.symToByte=new Uint8Array(256),this.mtfSymbol=new Int32Array(256),this.selectors=new Uint8Array(32768),4348520!=e(24)&&n("No magic number found");var t=e(8)-48;return(t<1||t>9)&&n("Not a BZIP archive"),t},r.decompress=function(e,t,i,r,o){for(var s=-1,a="",c=0;c<6;c++)a+=e(8).toString(16);if("177245385090"==a)return(0|e(32))!==o&&n("Error in bzip2: crc32 do not match"),e(null),null;"314159265359"!=a&&n("eek not valid bzip data");var l=0|e(32);e(1)&&n("unsupported obsolete version");var d=e(24);d>r&&n("Initial position larger than buffer size");var u=e(16),h=0;for(c=0;c<16;c++)if(u&1<<15-c){var p=e(16);for(m=0;m<16;m++)p&1<<15-m&&(this.symToByte[h++]=16*c+m)}var f=e(3);(f<2||f>6)&&n("another error");var A=e(15);0==A&&n("meh");for(c=0;c<f;c++)this.mtfSymbol[c]=c;for(c=0;c<A;c++){for(var m=0;e(1);m++)m>=f&&n("whoops another error");var g=this.mtfSymbol[m];for(p=m-1;p>=0;p--)this.mtfSymbol[p+1]=this.mtfSymbol[p];this.mtfSymbol[0]=g,this.selectors[c]=g}var y,_,b,v,C=h+2,w=[],x=new Uint8Array(258),E=new Uint16Array(21);for(m=0;m<f;m++){u=e(5);for(c=0;c<C;c++){for(;(u<1||u>20)&&n("I gave up a while ago on writing error messages"),e(1);)e(1)?u--:u++;x[c]=u}var k,S;k=S=x[0];for(c=1;c<C;c++)x[c]>S?S=x[c]:x[c]<k&&(k=x[c]);(y=w[m]={}).permute=new Int32Array(258),y.limit=new Int32Array(21),y.base=new Int32Array(21),y.minLen=k,y.maxLen=S;var I=y.base,M=y.limit,O=0;for(c=k;c<=S;c++)for(u=0;u<C;u++)x[u]==c&&(y.permute[O++]=u);for(c=k;c<=S;c++)E[c]=M[c]=0;for(c=0;c<C;c++)E[x[c]]++;for(O=u=0,c=k;c<S;c++)O+=E[c],M[c]=O-1,O<<=1,I[c+1]=O-(u+=E[c]);M[S]=O+E[S]-1,I[k]=0}for(c=0;c<256;c++)this.mtfSymbol[c]=c,this.byteCount[c]=0;for(_=b=C=v=0;;){for(C--||(C=49,v>=A&&n("meow i'm a kitty, that's an error"),I=(y=w[this.selectors[v++]]).base,M=y.limit),m=e(c=y.minLen);c>y.maxLen&&n("rawr i'm a dinosaur"),!(m<=M[c]);)c++,m=m<<1|e(1);((m-=I[c])<0||m>=258)&&n("moo i'm a cow");var T=y.permute[m];if(0!=T&&1!=T){if(_)for(_=0,b+u>r&&n("Boom."),g=this.symToByte[this.mtfSymbol[0]],this.byteCount[g]+=u;u--;)i[b++]=g;if(T>h)break;b>=r&&n("I can't think of anything. Error"),c=T-1,g=this.mtfSymbol[c];for(p=c-1;p>=0;p--)this.mtfSymbol[p+1]=this.mtfSymbol[p];this.mtfSymbol[0]=g,g=this.symToByte[g],this.byteCount[g]++,i[b++]=g}else _||(_=1,u=0),u+=0==T?_:2*_,_<<=1}(d<0||d>=b)&&n("I'm a monkey and I'm throwing something at someone, namely you");for(m=0,c=0;c<256;c++)p=m+this.byteCount[c],this.byteCount[c]=m,m=p;for(c=0;c<b;c++)g=255&i[c],i[this.byteCount[g]]|=c<<8,this.byteCount[g]++;var P,R,L,F=0,N=0,B=0;for(b&&(N=255&(F=i[d]),F>>=8,B=-1),b=b;b;){for(b--,R=N,N=255&(F=i[F]),F>>=8,3==B++?(P=N,L=R,N=-1):(P=1,L=N);P--;)s=4294967295&(s<<8^this.crcTable[255&(s>>24^L)]),t(L);N!=R&&(B=0)}return(0|(s=(-1^s)>>>0))!=(0|l)&&n("Error in bzip2: crc32 do not match"),o=4294967295&(s^(o<<1|o>>>31))},e.exports=r},function(e,t){var i=[0,1,3,7,15,31,63,127,255];e.exports=function(e){var t=0,n=0,r=e(),o=function(s){if(null===s&&0!=t)return t=0,void n++;for(var a=0;s>0;){n>=r.length&&(n=0,r=e());var c=8-t;0===t&&s>0&&o.bytesRead++,s>=c?(a<<=c,a|=i[c]&r[n++],t=0,s-=c):(a<<=s,a|=(r[n]&i[s]<<8-s-t)>>8-s-t,t+=s,s=0)}return a};return o.bytesRead=0,o}},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const s=o(i(16)),a=o(i(3)),c=o(i(2)),l=i(127),d=i(49),u=i(313),h=i(1),p=h.promisify(c.mkdtemp),f=h.promisify(c.writeFile);class A{constructor(e,t,i){this._projectRoot=e,this._preferredRevision=t,this._isPuppeteerCore=i}async launch(e={}){const{ignoreDefaultArgs:t=!1,args:i=[],dumpio:n=!1,executablePath:r=null,pipe:o=!1,env:c=process.env,handleSIGINT:l=!0,handleSIGTERM:h=!0,handleSIGHUP:f=!0,ignoreHTTPSErrors:A=!1,defaultViewport:m={width:800,height:600},slowMo:y=0,timeout:_=3e4}=e,b=a.join(s.tmpdir(),"puppeteer_dev_chrome_profile-"),v=[];t?Array.isArray(t)?v.push(...this.defaultArgs(e).filter(e=>!t.includes(e))):v.push(...i):v.push(...this.defaultArgs(e));let C=null;v.some(e=>e.startsWith("--remote-debugging-"))||v.push(o?"--remote-debugging-pipe":"--remote-debugging-port=0"),v.some(e=>e.startsWith("--user-data-dir"))||(C=await p(b),v.push("--user-data-dir="+C));let w=r;if(!r)if("arm64"===s.arch())w="/usr/bin/chromium-browser";else{const{missingText:e,executablePath:t}=g(this);if(e)throw new Error(e);w=t}const x=v.includes("--remote-debugging-pipe"),E=new u.BrowserRunner(w,v,C);E.start({handleSIGHUP:f,handleSIGTERM:h,handleSIGINT:l,dumpio:n,env:c,pipe:x});try{const e=await E.setupConnection({usePipe:x,timeout:_,slowMo:y,preferredRevision:this._preferredRevision}),t=await d.Browser.create(e,[],A,m,E.proc,E.close.bind(E));return await t.waitForTarget(e=>"page"===e.type()),t}catch(e){throw E.kill(),e}}defaultArgs(e={}){const t=["--disable-background-networking","--enable-features=NetworkService,NetworkServiceInProcess","--disable-background-timer-throttling","--disable-backgrounding-occluded-windows","--disable-breakpad","--disable-client-side-phishing-detection","--disable-component-extensions-with-background-pages","--disable-default-apps","--disable-dev-shm-usage","--disable-extensions","--disable-features=Translate","--disable-hang-monitor","--disable-ipc-flooding-protection","--disable-popup-blocking","--disable-prompt-on-repost","--disable-renderer-backgrounding","--disable-sync","--force-color-profile=srgb","--metrics-recording-only","--no-first-run","--enable-automation","--password-store=basic","--use-mock-keychain","--enable-blink-features=IdleDetection"],{devtools:i=!1,headless:n=!i,args:r=[],userDataDir:o=null}=e;return o&&t.push("--user-data-dir="+a.resolve(o)),i&&t.push("--auto-open-devtools-for-tabs"),n&&t.push("--headless","--hide-scrollbars","--mute-audio"),r.every(e=>e.startsWith("-"))&&t.push("about:blank"),t.push(...r),t}executablePath(){return g(this).executablePath}get product(){return"chrome"}}class m{constructor(e,t,i){this._projectRoot=e,this._preferredRevision=t,this._isPuppeteerCore=i}async launch(e={}){const{ignoreDefaultArgs:t=!1,args:i=[],dumpio:n=!1,executablePath:r=null,pipe:o=!1,env:s=process.env,handleSIGINT:a=!0,handleSIGTERM:c=!0,handleSIGHUP:l=!0,ignoreHTTPSErrors:h=!1,defaultViewport:p={width:800,height:600},slowMo:f=0,timeout:A=3e4,extraPrefsFirefox:m={}}=e,y=[];t?Array.isArray(t)?y.push(...this.defaultArgs(e).filter(e=>!t.includes(e))):y.push(...i):y.push(...this.defaultArgs(e)),y.some(e=>e.startsWith("--remote-debugging-"))||y.push("--remote-debugging-port=0");let _=null;y.includes("-profile")||y.includes("--profile")||(_=await this._createProfile(m),y.push("--profile"),y.push(_)),await this._updateRevision();let b=r;if(!r){const{missingText:e,executablePath:t}=g(this);if(e)throw new Error(e);b=t}const v=new u.BrowserRunner(b,y,_);v.start({handleSIGHUP:l,handleSIGTERM:c,handleSIGINT:a,dumpio:n,env:s,pipe:o});try{const e=await v.setupConnection({usePipe:o,timeout:A,slowMo:f,preferredRevision:this._preferredRevision}),t=await d.Browser.create(e,[],h,p,v.proc,v.close.bind(v));return await t.waitForTarget(e=>"page"===e.type()),t}catch(e){throw v.kill(),e}}executablePath(){return g(this).executablePath}async _updateRevision(){if("latest"===this._preferredRevision){const e=new l.BrowserFetcher(this._projectRoot,{product:this.product}),t=await e.localRevisions();t[0]&&(this._preferredRevision=t[0])}}get product(){return"firefox"}defaultArgs(e={}){const t=["--no-remote","--foreground"];s.platform().startsWith("win")&&t.push("--wait-for-browser");const{devtools:i=!1,headless:n=!i,args:r=[],userDataDir:o=null}=e;return o&&(t.push("--profile"),t.push(o)),n&&t.push("--headless"),i&&t.push("--devtools"),r.every(e=>e.startsWith("-"))&&t.push("about:blank"),t.push(...r),t}async _createProfile(e){const t=await p(a.join(s.tmpdir(),"puppeteer_dev_firefox_profile-")),i=[],n="dummy.test",r={"app.normandy.api_url":"","app.update.checkInstallTime":!1,"app.update.disabledForTesting":!0,"apz.content_response_timeout":6e4,"browser.contentblocking.features.standard":"-tp,tpPrivate,cookieBehavior0,-cm,-fp","browser.dom.window.dump.enabled":!0,"browser.newtabpage.activity-stream.feeds.system.topstories":!1,"browser.newtabpage.enabled":!1,"browser.pagethumbnails.capturing_disabled":!0,"browser.safebrowsing.blockedURIs.enabled":!1,"browser.safebrowsing.downloads.enabled":!1,"browser.safebrowsing.malware.enabled":!1,"browser.safebrowsing.passwords.enabled":!1,"browser.safebrowsing.phishing.enabled":!1,"browser.search.update":!1,"browser.sessionstore.resume_from_crash":!1,"browser.shell.checkDefaultBrowser":!1,"browser.startup.homepage":"about:blank","browser.startup.homepage_override.mstone":"ignore","browser.startup.page":0,"browser.tabs.disableBackgroundZombification":!1,"browser.tabs.warnOnCloseOtherTabs":!1,"browser.tabs.warnOnOpen":!1,"browser.uitour.enabled":!1,"browser.urlbar.suggest.searches":!1,"browser.usedOnWindows10.introURL":"","browser.warnOnQuit":!1,"datareporting.healthreport.documentServerURI":`http://${n}/dummy/healthreport/`,"datareporting.healthreport.logging.consoleEnabled":!1,"datareporting.healthreport.service.enabled":!1,"datareporting.healthreport.service.firstRun":!1,"datareporting.healthreport.uploadEnabled":!1,"datareporting.policy.dataSubmissionEnabled":!1,"datareporting.policy.dataSubmissionPolicyBypassNotification":!0,"devtools.jsonview.enabled":!1,"dom.disable_open_during_load":!1,"dom.file.createInChild":!0,"dom.ipc.reportProcessHangs":!1,"dom.max_chrome_script_run_time":0,"dom.max_script_run_time":0,"extensions.autoDisableScopes":0,"extensions.enabledScopes":5,"extensions.getAddons.cache.enabled":!1,"extensions.installDistroAddons":!1,"extensions.screenshots.disabled":!0,"extensions.update.enabled":!1,"extensions.update.notifyUser":!1,"extensions.webservice.discoverURL":`http://${n}/dummy/discoveryURL`,"fission.autostart":!1,"focusmanager.testmode":!0,"general.useragent.updates.enabled":!1,"geo.provider.testing":!0,"geo.wifi.scan":!1,"hangmonitor.timeout":0,"javascript.options.showInConsole":!0,"media.gmp-manager.updateEnabled":!1,"network.cookie.cookieBehavior":0,"network.cookie.sameSite.laxByDefault":!1,"network.http.prompt-temp-redirect":!1,"network.http.speculative-parallel-limit":0,"network.manage-offline-status":!1,"network.sntp.pools":n,"plugin.state.flash":0,"privacy.trackingprotection.enabled":!1,"remote.enabled":!0,"security.certerrors.mitm.priming.enabled":!1,"security.fileuri.strict_origin_policy":!1,"security.notification_enable_delay":0,"services.settings.server":`http://${n}/dummy/blocklist/`,"signon.autofillForms":!1,"signon.rememberSignons":!1,"startup.homepage_welcome_url":"about:blank","startup.homepage_welcome_url.additional":"","toolkit.cosmeticAnimations.enabled":!1,"toolkit.startup.max_resumed_crashes":-1};Object.assign(r,e);for(const[e,t]of Object.entries(r))i.push(`user_pref(${JSON.stringify(e)}, ${JSON.stringify(t)});`);return await f(a.join(t,"user.js"),i.join("\n")),await f(a.join(t,"prefs.js"),[].join("\n")),t}}function g(e){let t;if(!e._isPuppeteerCore){const e=process.env.PUPPETEER_EXECUTABLE_PATH||process.env.npm_config_puppeteer_executable_path||process.env.npm_package_config_puppeteer_executable_path;if(e){return{executablePath:e,missingText:c.existsSync(e)?null:"Tried to use PUPPETEER_EXECUTABLE_PATH env variable to launch browser but did not find any executable at: "+e}}t=process.env.PUPPETEER_DOWNLOAD_PATH||process.env.npm_config_puppeteer_download_path||process.env.npm_package_config_puppeteer_download_path}const i=new l.BrowserFetcher(e._projectRoot,{product:e.product,path:t});if(!e._isPuppeteerCore&&"chrome"===e.product){const e=process.env.PUPPETEER_CHROMIUM_REVISION;if(e){const t=i.revisionInfo(e),n=t.local?null:"Tried to use PUPPETEER_CHROMIUM_REVISION env variable to launch browser but did not find executable at: "+t.executablePath;return{executablePath:t.executablePath,missingText:n}}}const n=i.revisionInfo(e._preferredRevision),r=`Run \`npm install\` to download the correct Chromium revision (${e._preferredRevision}).`,o=n.local?null:`Could not find expected browser (${e.product}) locally. ${"chrome"===e.product?r:"Run `PUPPETEER_PRODUCT=firefox npm install` to download a supported Firefox browser binary."}`;return{executablePath:n.executablePath,missingText:o}}t.default=function(e,t,i,n){switch(n||i||(n=process.env.PUPPETEER_PRODUCT||process.env.npm_config_puppeteer_product||process.env.npm_package_config_puppeteer_product),n){case"firefox":return new m(e,t,i);case"chrome":default:return void 0!==n&&"chrome"!==n&&console.warn(`Warning: unknown product name ${n}. Falling back to chrome.`),new A(e,t,i)}}},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return r(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserRunner=void 0;const a=i(38),c=s(i(132)),l=o(i(36)),d=i(4),u=i(8),h=i(39),p=i(120),f=i(314),A=o(i(153)),m=i(37),g=i(1).promisify(c.default),y=a.debug("puppeteer:launcher");t.BrowserRunner=class{constructor(e,t,i){this.proc=null,this.connection=null,this._closed=!0,this._listeners=[],this._executablePath=e,this._processArguments=t,this._tempDirectory=i}start(e){const{handleSIGINT:t,handleSIGTERM:i,handleSIGHUP:n,dumpio:r,env:o,pipe:s}=e;let a=["pipe","pipe","pipe"];s&&(a=r?["ignore","pipe","pipe","pipe","pipe"]:["ignore","ignore","ignore","pipe","pipe"]),d.assert(!this.proc,"This process has previously been started."),y(`Calling ${this._executablePath} ${this._processArguments.join(" ")}`),this.proc=l.spawn(this._executablePath,this._processArguments,{detached:"win32"!==process.platform,env:o,stdio:a}),r&&(this.proc.stderr.pipe(process.stderr),this.proc.stdout.pipe(process.stdout)),this._closed=!1,this._processClosing=new Promise(e=>{this.proc.once("exit",()=>{this._closed=!0,this._tempDirectory?g(this._tempDirectory).then(()=>e()).catch(e=>console.error(e)):e()})}),this._listeners=[u.helper.addEventListener(process,"exit",this.kill.bind(this))],t&&this._listeners.push(u.helper.addEventListener(process,"SIGINT",()=>{this.kill(),process.exit(130)})),i&&this._listeners.push(u.helper.addEventListener(process,"SIGTERM",this.close.bind(this))),n&&this._listeners.push(u.helper.addEventListener(process,"SIGHUP",this.close.bind(this)))}close(){return this._closed?Promise.resolve():(this._tempDirectory?this.kill():this.connection&&this.connection.send("Browser.close").catch(e=>{u.debugError(e),this.kill()}),u.helper.removeEventListeners(this._listeners),this._processClosing)}kill(){try{c.default.sync(this._tempDirectory)}catch(e){}if(this.proc&&this.proc.pid&&!this.proc.killed)try{this.proc.kill("SIGKILL")}catch(e){throw new Error("Puppeteer was unable to kill the process which ran the browser binary.\nThis means that, on future Puppeteer launches, Puppeteer might not be able to launch the browser.\nPlease check your open processes and ensure that the browser processes that Puppeteer launched have been killed.\nIf you think this is a bug, please report it on the Puppeteer issue tracker.\nError cause: "+e.stack)}u.helper.removeEventListeners(this._listeners)}async setupConnection(e){const{usePipe:t,timeout:i,slowMo:n,preferredRevision:r}=e;if(t){const{3:e,4:t}=this.proc.stdio,i=new f.PipeTransport(e,t);this.connection=new h.Connection("",i,n)}else{const e=await function(e,t,i){return new Promise((n,r)=>{const o=A.createInterface({input:e.stderr});let s="";const a=[u.helper.addEventListener(o,"line",(function(e){s+=e+"\n";const t=e.match(/^DevTools listening on (ws:\/\/.*)$/);if(!t)return;d(),n(t[1])})),u.helper.addEventListener(o,"close",()=>l()),u.helper.addEventListener(e,"exit",()=>l()),u.helper.addEventListener(e,"error",e=>l(e))],c=t?setTimeout((function(){d(),r(new m.TimeoutError(`Timed out after ${t} ms while trying to connect to the browser! Only Chrome at revision r${i} is guaranteed to work.`))}),t):0;function l(e){d(),r(new Error(["Failed to launch the browser process!"+(e?" "+e.message:""),s,"","TROUBLESHOOTING: https://github.com/puppeteer/puppeteer/blob/main/docs/troubleshooting.md",""].join("\n")))}function d(){c&&clearTimeout(c),u.helper.removeEventListeners(a)}})}(this.proc,i,r),t=await p.NodeWebSocketTransport.create(e);this.connection=new h.Connection(e,t,n)}return this.connection}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PipeTransport=void 0;const n=i(8);t.PipeTransport=class{constructor(e,t){this._pipeWrite=e,this._pendingMessage="",this._eventListeners=[n.helper.addEventListener(t,"data",e=>this._dispatch(e)),n.helper.addEventListener(t,"close",()=>{this.onclose&&this.onclose.call(null)}),n.helper.addEventListener(t,"error",n.debugError),n.helper.addEventListener(e,"error",n.debugError)],this.onmessage=null,this.onclose=null}send(e){this._pipeWrite.write(e),this._pipeWrite.write("\0")}_dispatch(e){let t=e.indexOf("\0");if(-1===t)return void(this._pendingMessage+=e.toString());const i=this._pendingMessage+e.toString(void 0,0,t);this.onmessage&&this.onmessage.call(null,i);let n=t+1;for(t=e.indexOf("\0",n);-1!==t;)this.onmessage&&this.onmessage.call(null,e.toString(void 0,n,t)),n=t+1,t=e.indexOf("\0",n);this._pendingMessage=e.toString(void 0,n)}close(){this._pipeWrite=null,n.helper.removeEventListeners(this._eventListeners)}}},function(e,t,i){"use strict";const n=i(3),r=i(316),o=i(320),s=Symbol("findUp.stop");e.exports=async(e,t={})=>{let i=n.resolve(t.cwd||"");const{root:o}=n.parse(i),a=[].concat(e),c=async t=>{if("function"!=typeof e)return r(a,t);const i=await e(t.cwd);return"string"==typeof i?r([i],t):i};for(;;){const e=await c({...t,cwd:i});if(e===s)return;if(e)return n.resolve(i,e);if(i===o)return;i=n.dirname(i)}},e.exports.sync=(e,t={})=>{let i=n.resolve(t.cwd||"");const{root:o}=n.parse(i),a=[].concat(e),c=t=>{if("function"!=typeof e)return r.sync(a,t);const i=e(t.cwd);return"string"==typeof i?r.sync([i],t):i};for(;;){const e=c({...t,cwd:i});if(e===s)return;if(e)return n.resolve(i,e);if(i===o)return;i=n.dirname(i)}},e.exports.exists=o,e.exports.sync.exists=o.sync,e.exports.stop=s},function(e,t,i){"use strict";const n=i(3),r=i(2),{promisify:o}=i(1),s=i(317),a=o(r.stat),c=o(r.lstat),l={directory:"isDirectory",file:"isFile"};function d({type:e}){if(!(e in l))throw new Error("Invalid type specified: "+e)}const u=(e,t)=>void 0===e||t[l[e]]();e.exports=async(e,t)=>{d(t={cwd:process.cwd(),type:"file",allowSymlinks:!0,...t});const i=t.allowSymlinks?a:c;return s(e,async e=>{try{const r=await i(n.resolve(t.cwd,e));return u(t.type,r)}catch(e){return!1}},t)},e.exports.sync=(e,t)=>{d(t={cwd:process.cwd(),allowSymlinks:!0,type:"file",...t});const i=t.allowSymlinks?r.statSync:r.lstatSync;for(const r of e)try{const e=i(n.resolve(t.cwd,r));if(u(t.type,e))return r}catch(e){}}},function(e,t,i){"use strict";const n=i(318);class r extends Error{constructor(e){super(),this.value=e}}const o=async(e,t)=>t(await e),s=async e=>{const t=await Promise.all(e);if(!0===t[1])throw new r(t[0]);return!1},a=async(e,t,i)=>{i={concurrency:1/0,preserveOrder:!0,...i};const a=n(i.concurrency),c=[...e].map(e=>[e,a(o,e,t)]),l=n(i.preserveOrder?1:1/0);try{await Promise.all(c.map(e=>l(s,e)))}catch(e){if(e instanceof r)return e.value;throw e}};e.exports=a,e.exports.default=a},function(e,t,i){"use strict";const n=i(319),r=e=>{if(!Number.isInteger(e)&&e!==1/0||!(e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));const t=[];let i=0;const r=()=>{i--,t.length>0&&t.shift()()},o=(e,t,...o)=>{i++;const s=n(e,...o);t(s),s.then(r,r)},s=(n,...r)=>new Promise(s=>((n,r,...s)=>{i<e?o(n,r,...s):t.push(o.bind(null,n,r,...s))})(n,s,...r));return Object.defineProperties(s,{activeCount:{get:()=>i},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),s};e.exports=r,e.exports.default=r},function(e,t,i){"use strict";const n=(e,...t)=>new Promise(i=>{i(e(...t))});e.exports=n,e.exports.default=n},function(e,t,i){"use strict";const n=i(2),{promisify:r}=i(1),o=r(n.access);e.exports=async e=>{try{return await o(e),!0}catch(e){return!1}},e.exports.sync=e=>{try{return n.accessSync(e),!0}catch(e){return!1}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(322);if(!i(19).isNode)throw new Error("Cannot run puppeteer-core outside of Node.js");const r=n.initializePuppeteerNode("puppeteer-core");t.default=r},function(e,t,i){"use strict";(function(e){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.initializePuppeteerNode=void 0;const r=i(323),o=i(160),s=n(i(155));t.initializePuppeteerNode=t=>{const i=s.default.sync(e);let n=o.PUPPETEER_REVISIONS.chromium;const a="puppeteer-core"===t,c=a?void 0:process.env.PUPPETEER_PRODUCT||process.env.npm_config_puppeteer_product||process.env.npm_package_config_puppeteer_product;return a||"firefox"!==c||(n=o.PUPPETEER_REVISIONS.firefox),new r.PuppeteerNode({projectRoot:i,preferredRevision:n,isPuppeteerCore:a,productName:c})}}).call(this,"/")},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PuppeteerNode=void 0;const r=i(324),o=i(158),s=n(i(330)),a=i(160);class c extends r.Puppeteer{constructor(e){const{projectRoot:t,preferredRevision:i,productName:n,...r}=e;super(r),this._projectRoot=t,this.__productName=n,this._preferredRevision=i}connect(e){return e.product&&(this._productName=e.product),super.connect(e)}get _productName(){return this.__productName}set _productName(e){this.__productName!==e&&(this._changedProduct=!0),this.__productName=e}launch(e={}){return e.product&&(this._productName=e.product),this._launcher.launch(e)}executablePath(){return this._launcher.executablePath()}get _launcher(){if(!this._lazyLauncher||this._lazyLauncher.product!==this._productName||this._changedProduct){switch(this._productName){case"firefox":this._preferredRevision=a.PUPPETEER_REVISIONS.firefox;break;case"chrome":default:this._preferredRevision=a.PUPPETEER_REVISIONS.chromium}this._changedProduct=!1,this._lazyLauncher=s.default(this._projectRoot,this._preferredRevision,this._isPuppeteerCore,this._productName)}return this._lazyLauncher}get product(){return this._launcher.product}defaultArgs(e={}){return this._launcher.defaultArgs(e)}createBrowserFetcher(e){return new o.BrowserFetcher(this._projectRoot,e)}}t.PuppeteerNode=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Puppeteer=void 0;const n=i(40),r=i(325),o=i(68),s=i(326),a=i(329);t.Puppeteer=class{constructor(e){this._changedProduct=!1,this._isPuppeteerCore=e.isPuppeteerCore}connect(e){return s.connectToBrowser(e)}get devices(){return r.devicesMap}get errors(){return n.puppeteerErrors}get networkConditions(){return a.networkConditions}registerCustomQueryHandler(e,t){o.registerCustomQueryHandler(e,t)}unregisterCustomQueryHandler(e){o.unregisterCustomQueryHandler(e)}customQueryHandlerNames(){return o.customQueryHandlerNames()}clearCustomQueryHandlers(){o.clearCustomQueryHandlers()}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.devicesMap=void 0;const n=[{name:"Blackberry PlayBook",userAgent:"Mozilla/5.0 (PlayBook; U; RIM Tablet OS 2.1.0; en-US) AppleWebKit/536.2+ (KHTML like Gecko) Version/7.2.1.0 Safari/536.2+",viewport:{width:600,height:1024,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Blackberry PlayBook landscape",userAgent:"Mozilla/5.0 (PlayBook; U; RIM Tablet OS 2.1.0; en-US) AppleWebKit/536.2+ (KHTML like Gecko) Version/7.2.1.0 Safari/536.2+",viewport:{width:1024,height:600,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"BlackBerry Z30",userAgent:"Mozilla/5.0 (BB10; Touch) AppleWebKit/537.10+ (KHTML, like Gecko) Version/10.0.9.2372 Mobile Safari/537.10+",viewport:{width:360,height:640,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"BlackBerry Z30 landscape",userAgent:"Mozilla/5.0 (BB10; Touch) AppleWebKit/537.10+ (KHTML, like Gecko) Version/10.0.9.2372 Mobile Safari/537.10+",viewport:{width:640,height:360,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy Note 3",userAgent:"Mozilla/5.0 (Linux; U; Android 4.3; en-us; SM-N900T Build/JSS15J) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:360,height:640,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy Note 3 landscape",userAgent:"Mozilla/5.0 (Linux; U; Android 4.3; en-us; SM-N900T Build/JSS15J) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:640,height:360,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy Note II",userAgent:"Mozilla/5.0 (Linux; U; Android 4.1; en-us; GT-N7100 Build/JRO03C) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:360,height:640,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy Note II landscape",userAgent:"Mozilla/5.0 (Linux; U; Android 4.1; en-us; GT-N7100 Build/JRO03C) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:640,height:360,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy S III",userAgent:"Mozilla/5.0 (Linux; U; Android 4.0; en-us; GT-I9300 Build/IMM76D) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:360,height:640,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy S III landscape",userAgent:"Mozilla/5.0 (Linux; U; Android 4.0; en-us; GT-I9300 Build/IMM76D) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:640,height:360,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy S5",userAgent:"Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:360,height:640,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy S5 landscape",userAgent:"Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:640,height:360,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPad",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:768,height:1024,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPad landscape",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:1024,height:768,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPad Mini",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:768,height:1024,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPad Mini landscape",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:1024,height:768,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPad Pro",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:1024,height:1366,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPad Pro landscape",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:1366,height:1024,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 4",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 7_1_2 like Mac OS X) AppleWebKit/537.51.2 (KHTML, like Gecko) Version/7.0 Mobile/11D257 Safari/9537.53",viewport:{width:320,height:480,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 4 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 7_1_2 like Mac OS X) AppleWebKit/537.51.2 (KHTML, like Gecko) Version/7.0 Mobile/11D257 Safari/9537.53",viewport:{width:480,height:320,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 5",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",viewport:{width:320,height:568,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 5 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",viewport:{width:568,height:320,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 6",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:375,height:667,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 6 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:667,height:375,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 6 Plus",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:414,height:736,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 6 Plus landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:736,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 7",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:375,height:667,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 7 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:667,height:375,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 7 Plus",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:414,height:736,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 7 Plus landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:736,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 8",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:375,height:667,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 8 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:667,height:375,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 8 Plus",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:414,height:736,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 8 Plus landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:736,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone SE",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",viewport:{width:320,height:568,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone SE landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",viewport:{width:568,height:320,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone X",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:375,height:812,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone X landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:812,height:375,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone XR",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.0 Mobile/15E148 Safari/604.1",viewport:{width:414,height:896,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone XR landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.0 Mobile/15E148 Safari/604.1",viewport:{width:896,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 11",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:414,height:828,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 11 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:828,height:414,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 11 Pro",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:375,height:812,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 11 Pro landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:812,height:375,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 11 Pro Max",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:414,height:896,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 11 Pro Max landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:896,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"JioPhone 2",userAgent:"Mozilla/5.0 (Mobile; LYF/F300B/LYF-F300B-001-01-15-130718-i;Android; rv:48.0) Gecko/48.0 Firefox/48.0 KAIOS/2.5",viewport:{width:240,height:320,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"JioPhone 2 landscape",userAgent:"Mozilla/5.0 (Mobile; LYF/F300B/LYF-F300B-001-01-15-130718-i;Android; rv:48.0) Gecko/48.0 Firefox/48.0 KAIOS/2.5",viewport:{width:320,height:240,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Kindle Fire HDX",userAgent:"Mozilla/5.0 (Linux; U; en-us; KFAPWI Build/JDQ39) AppleWebKit/535.19 (KHTML, like Gecko) Silk/3.13 Safari/535.19 Silk-Accelerated=true",viewport:{width:800,height:1280,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Kindle Fire HDX landscape",userAgent:"Mozilla/5.0 (Linux; U; en-us; KFAPWI Build/JDQ39) AppleWebKit/535.19 (KHTML, like Gecko) Silk/3.13 Safari/535.19 Silk-Accelerated=true",viewport:{width:1280,height:800,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"LG Optimus L70",userAgent:"Mozilla/5.0 (Linux; U; Android 4.4.2; en-us; LGMS323 Build/KOT49I.MS32310c) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:384,height:640,deviceScaleFactor:1.25,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"LG Optimus L70 landscape",userAgent:"Mozilla/5.0 (Linux; U; Android 4.4.2; en-us; LGMS323 Build/KOT49I.MS32310c) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:640,height:384,deviceScaleFactor:1.25,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Microsoft Lumia 550",userAgent:"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 550) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Mobile Safari/537.36 Edge/14.14263",viewport:{width:640,height:360,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Microsoft Lumia 950",userAgent:"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 950) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Mobile Safari/537.36 Edge/14.14263",viewport:{width:360,height:640,deviceScaleFactor:4,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Microsoft Lumia 950 landscape",userAgent:"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 950) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Mobile Safari/537.36 Edge/14.14263",viewport:{width:640,height:360,deviceScaleFactor:4,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 10",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 10 Build/MOB31T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36",viewport:{width:800,height:1280,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 10 landscape",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 10 Build/MOB31T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36",viewport:{width:1280,height:800,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 4",userAgent:"Mozilla/5.0 (Linux; Android 4.4.2; Nexus 4 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:384,height:640,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 4 landscape",userAgent:"Mozilla/5.0 (Linux; Android 4.4.2; Nexus 4 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:640,height:384,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 5",userAgent:"Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:360,height:640,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 5 landscape",userAgent:"Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:640,height:360,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 5X",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 5X Build/OPR4.170623.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:412,height:732,deviceScaleFactor:2.625,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 5X landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 5X Build/OPR4.170623.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:732,height:412,deviceScaleFactor:2.625,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 6",userAgent:"Mozilla/5.0 (Linux; Android 7.1.1; Nexus 6 Build/N6F26U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:412,height:732,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 6 landscape",userAgent:"Mozilla/5.0 (Linux; Android 7.1.1; Nexus 6 Build/N6F26U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:732,height:412,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 6P",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 6P Build/OPP3.170518.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:412,height:732,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 6P landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 6P Build/OPP3.170518.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:732,height:412,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 7",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 7 Build/MOB30X) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36",viewport:{width:600,height:960,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 7 landscape",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 7 Build/MOB30X) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36",viewport:{width:960,height:600,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nokia Lumia 520",userAgent:"Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 520)",viewport:{width:320,height:533,deviceScaleFactor:1.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nokia Lumia 520 landscape",userAgent:"Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 520)",viewport:{width:533,height:320,deviceScaleFactor:1.5,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nokia N9",userAgent:"Mozilla/5.0 (MeeGo; NokiaN9) AppleWebKit/534.13 (KHTML, like Gecko) NokiaBrowser/8.5.0 Mobile Safari/534.13",viewport:{width:480,height:854,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nokia N9 landscape",userAgent:"Mozilla/5.0 (MeeGo; NokiaN9) AppleWebKit/534.13 (KHTML, like Gecko) NokiaBrowser/8.5.0 Mobile Safari/534.13",viewport:{width:854,height:480,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Pixel 2",userAgent:"Mozilla/5.0 (Linux; Android 8.0; Pixel 2 Build/OPD3.170816.012) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:411,height:731,deviceScaleFactor:2.625,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Pixel 2 landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0; Pixel 2 Build/OPD3.170816.012) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:731,height:411,deviceScaleFactor:2.625,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Pixel 2 XL",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Pixel 2 XL Build/OPD1.170816.004) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:411,height:823,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Pixel 2 XL landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Pixel 2 XL Build/OPD1.170816.004) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:823,height:411,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!0}}],r={};t.devicesMap=r;for(const e of n)r[e.name]=e},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.connectToBrowser=void 0;const s=i(51),a=i(5),c=i(9),l=i(42),d=i(327),u=i(19),h=async()=>u.isNode?(await Promise.resolve().then(()=>o(i(157)))).NodeWebSocketTransport:(await Promise.resolve().then(()=>o(i(328)))).BrowserWebSocketTransport;t.connectToBrowser=async e=>{const{browserWSEndpoint:t,browserURL:i,ignoreHTTPSErrors:n=!1,defaultViewport:r={width:800,height:600},transport:o,slowMo:u=0}=e;a.assert(Number(!!t)+Number(!!i)+Number(!!o)===1,"Exactly one of browserWSEndpoint, browserURL or transport must be passed to puppeteer.connect");let p=null;if(o)p=new l.Connection("",o,u);else if(t){const e=await h(),i=await e.create(t);p=new l.Connection(t,i,u)}else if(i){const e=await async function(e){const t=new URL("/json/version",e),i=await d.getFetch();try{const e=await i(t.toString(),{method:"GET"});if(!e.ok)throw new Error("HTTP "+e.statusText);return(await e.json()).webSocketDebuggerUrl}catch(e){throw e.message=`Failed to fetch browser webSocket URL from ${t}: `+e.message,e}}(i),t=await h(),n=await t.create(e);p=new l.Connection(e,n,u)}const{browserContextIds:f}=await p.send("Target.getBrowserContexts");return s.Browser.create(p,f,n,r,null,()=>p.send("Browser.close").catch(c.debugError))}},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getFetch=void 0;const s=i(19);t.getFetch=async()=>s.isNode?await Promise.resolve().then(()=>o(i(119))):globalThis.fetch},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserWebSocketTransport=void 0;class n{constructor(e){this._ws=e,this._ws.addEventListener("message",e=>{this.onmessage&&this.onmessage.call(null,e.data)}),this._ws.addEventListener("close",()=>{this.onclose&&this.onclose.call(null)}),this._ws.addEventListener("error",()=>{}),this.onmessage=null,this.onclose=null}static create(e){return new Promise((t,i)=>{const r=new WebSocket(e);r.addEventListener("open",()=>t(new n(r))),r.addEventListener("error",i)})}send(e){this._ws.send(e)}close(){this._ws.close()}}t.BrowserWebSocketTransport=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.networkConditions=void 0,t.networkConditions={"Slow 3G":{download:5e4,upload:5e4,latency:2e3},"Fast 3G":{download:18e4,upload:84375,latency:562.5}}},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const s=o(i(16)),a=o(i(3)),c=o(i(2)),l=i(158),d=i(51),u=i(331),h=i(1),p=h.promisify(c.mkdtemp),f=h.promisify(c.writeFile);class A{constructor(e,t,i){this._projectRoot=e,this._preferredRevision=t,this._isPuppeteerCore=i}async launch(e={}){const{ignoreDefaultArgs:t=!1,args:i=[],dumpio:n=!1,executablePath:r=null,pipe:o=!1,env:c=process.env,handleSIGINT:l=!0,handleSIGTERM:h=!0,handleSIGHUP:f=!0,ignoreHTTPSErrors:A=!1,defaultViewport:m={width:800,height:600},slowMo:y=0,timeout:_=3e4}=e,b=a.join(s.tmpdir(),"puppeteer_dev_chrome_profile-"),v=[];t?Array.isArray(t)?v.push(...this.defaultArgs(e).filter(e=>!t.includes(e))):v.push(...i):v.push(...this.defaultArgs(e));let C=null;v.some(e=>e.startsWith("--remote-debugging-"))||v.push(o?"--remote-debugging-pipe":"--remote-debugging-port=0"),v.some(e=>e.startsWith("--user-data-dir"))||(C=await p(b),v.push("--user-data-dir="+C));let w=r;if(!r)if("arm64"===s.arch())w="/usr/bin/chromium-browser";else{const{missingText:e,executablePath:t}=g(this);if(e)throw new Error(e);w=t}const x=v.includes("--remote-debugging-pipe"),E=new u.BrowserRunner(w,v,C);E.start({handleSIGHUP:f,handleSIGTERM:h,handleSIGINT:l,dumpio:n,env:c,pipe:x});try{const e=await E.setupConnection({usePipe:x,timeout:_,slowMo:y,preferredRevision:this._preferredRevision}),t=await d.Browser.create(e,[],A,m,E.proc,E.close.bind(E));return await t.waitForTarget(e=>"page"===e.type()),t}catch(e){throw E.kill(),e}}defaultArgs(e={}){const t=["--disable-background-networking","--enable-features=NetworkService,NetworkServiceInProcess","--disable-background-timer-throttling","--disable-backgrounding-occluded-windows","--disable-breakpad","--disable-client-side-phishing-detection","--disable-component-extensions-with-background-pages","--disable-default-apps","--disable-dev-shm-usage","--disable-extensions","--disable-features=Translate","--disable-hang-monitor","--disable-ipc-flooding-protection","--disable-popup-blocking","--disable-prompt-on-repost","--disable-renderer-backgrounding","--disable-sync","--force-color-profile=srgb","--metrics-recording-only","--no-first-run","--enable-automation","--password-store=basic","--use-mock-keychain","--enable-blink-features=IdleDetection"],{devtools:i=!1,headless:n=!i,args:r=[],userDataDir:o=null}=e;return o&&t.push("--user-data-dir="+a.resolve(o)),i&&t.push("--auto-open-devtools-for-tabs"),n&&t.push("--headless","--hide-scrollbars","--mute-audio"),r.every(e=>e.startsWith("-"))&&t.push("about:blank"),t.push(...r),t}executablePath(){return g(this).executablePath}get product(){return"chrome"}}class m{constructor(e,t,i){this._projectRoot=e,this._preferredRevision=t,this._isPuppeteerCore=i}async launch(e={}){const{ignoreDefaultArgs:t=!1,args:i=[],dumpio:n=!1,executablePath:r=null,pipe:o=!1,env:s=process.env,handleSIGINT:a=!0,handleSIGTERM:c=!0,handleSIGHUP:l=!0,ignoreHTTPSErrors:h=!1,defaultViewport:p={width:800,height:600},slowMo:f=0,timeout:A=3e4,extraPrefsFirefox:m={}}=e,y=[];t?Array.isArray(t)?y.push(...this.defaultArgs(e).filter(e=>!t.includes(e))):y.push(...i):y.push(...this.defaultArgs(e)),y.some(e=>e.startsWith("--remote-debugging-"))||y.push("--remote-debugging-port=0");let _=null;y.includes("-profile")||y.includes("--profile")||(_=await this._createProfile(m),y.push("--profile"),y.push(_)),await this._updateRevision();let b=r;if(!r){const{missingText:e,executablePath:t}=g(this);if(e)throw new Error(e);b=t}const v=new u.BrowserRunner(b,y,_);v.start({handleSIGHUP:l,handleSIGTERM:c,handleSIGINT:a,dumpio:n,env:s,pipe:o});try{const e=await v.setupConnection({usePipe:o,timeout:A,slowMo:f,preferredRevision:this._preferredRevision}),t=await d.Browser.create(e,[],h,p,v.proc,v.close.bind(v));return await t.waitForTarget(e=>"page"===e.type()),t}catch(e){throw v.kill(),e}}executablePath(){return g(this).executablePath}async _updateRevision(){if("latest"===this._preferredRevision){const e=new l.BrowserFetcher(this._projectRoot,{product:this.product}),t=await e.localRevisions();t[0]&&(this._preferredRevision=t[0])}}get product(){return"firefox"}defaultArgs(e={}){const t=["--no-remote","--foreground"];s.platform().startsWith("win")&&t.push("--wait-for-browser");const{devtools:i=!1,headless:n=!i,args:r=[],userDataDir:o=null}=e;return o&&(t.push("--profile"),t.push(o)),n&&t.push("--headless"),i&&t.push("--devtools"),r.every(e=>e.startsWith("-"))&&t.push("about:blank"),t.push(...r),t}async _createProfile(e){const t=await p(a.join(s.tmpdir(),"puppeteer_dev_firefox_profile-")),i=[],n="dummy.test",r={"app.normandy.api_url":"","app.update.checkInstallTime":!1,"app.update.disabledForTesting":!0,"apz.content_response_timeout":6e4,"browser.contentblocking.features.standard":"-tp,tpPrivate,cookieBehavior0,-cm,-fp","browser.dom.window.dump.enabled":!0,"browser.newtabpage.activity-stream.feeds.system.topstories":!1,"browser.newtabpage.enabled":!1,"browser.pagethumbnails.capturing_disabled":!0,"browser.safebrowsing.blockedURIs.enabled":!1,"browser.safebrowsing.downloads.enabled":!1,"browser.safebrowsing.malware.enabled":!1,"browser.safebrowsing.passwords.enabled":!1,"browser.safebrowsing.phishing.enabled":!1,"browser.search.update":!1,"browser.sessionstore.resume_from_crash":!1,"browser.shell.checkDefaultBrowser":!1,"browser.startup.homepage":"about:blank","browser.startup.homepage_override.mstone":"ignore","browser.startup.page":0,"browser.tabs.disableBackgroundZombification":!1,"browser.tabs.warnOnCloseOtherTabs":!1,"browser.tabs.warnOnOpen":!1,"browser.uitour.enabled":!1,"browser.urlbar.suggest.searches":!1,"browser.usedOnWindows10.introURL":"","browser.warnOnQuit":!1,"datareporting.healthreport.documentServerURI":`http://${n}/dummy/healthreport/`,"datareporting.healthreport.logging.consoleEnabled":!1,"datareporting.healthreport.service.enabled":!1,"datareporting.healthreport.service.firstRun":!1,"datareporting.healthreport.uploadEnabled":!1,"datareporting.policy.dataSubmissionEnabled":!1,"datareporting.policy.dataSubmissionPolicyBypassNotification":!0,"devtools.jsonview.enabled":!1,"dom.disable_open_during_load":!1,"dom.file.createInChild":!0,"dom.ipc.reportProcessHangs":!1,"dom.max_chrome_script_run_time":0,"dom.max_script_run_time":0,"extensions.autoDisableScopes":0,"extensions.enabledScopes":5,"extensions.getAddons.cache.enabled":!1,"extensions.installDistroAddons":!1,"extensions.screenshots.disabled":!0,"extensions.update.enabled":!1,"extensions.update.notifyUser":!1,"extensions.webservice.discoverURL":`http://${n}/dummy/discoveryURL`,"fission.autostart":!1,"focusmanager.testmode":!0,"general.useragent.updates.enabled":!1,"geo.provider.testing":!0,"geo.wifi.scan":!1,"hangmonitor.timeout":0,"javascript.options.showInConsole":!0,"media.gmp-manager.updateEnabled":!1,"network.cookie.cookieBehavior":0,"network.cookie.sameSite.laxByDefault":!1,"network.http.prompt-temp-redirect":!1,"network.http.speculative-parallel-limit":0,"network.manage-offline-status":!1,"network.sntp.pools":n,"plugin.state.flash":0,"privacy.trackingprotection.enabled":!1,"remote.enabled":!0,"security.certerrors.mitm.priming.enabled":!1,"security.fileuri.strict_origin_policy":!1,"security.notification_enable_delay":0,"services.settings.server":`http://${n}/dummy/blocklist/`,"signon.autofillForms":!1,"signon.rememberSignons":!1,"startup.homepage_welcome_url":"about:blank","startup.homepage_welcome_url.additional":"","toolkit.cosmeticAnimations.enabled":!1,"toolkit.startup.max_resumed_crashes":-1};Object.assign(r,e);for(const[e,t]of Object.entries(r))i.push(`user_pref(${JSON.stringify(e)}, ${JSON.stringify(t)});`);return await f(a.join(t,"user.js"),i.join("\n")),await f(a.join(t,"prefs.js"),[].join("\n")),t}}function g(e){let t;if(!e._isPuppeteerCore){const e=process.env.PUPPETEER_EXECUTABLE_PATH||process.env.npm_config_puppeteer_executable_path||process.env.npm_package_config_puppeteer_executable_path;if(e){return{executablePath:e,missingText:c.existsSync(e)?null:"Tried to use PUPPETEER_EXECUTABLE_PATH env variable to launch browser but did not find any executable at: "+e}}t=process.env.PUPPETEER_DOWNLOAD_PATH||process.env.npm_config_puppeteer_download_path||process.env.npm_package_config_puppeteer_download_path}const i=new l.BrowserFetcher(e._projectRoot,{product:e.product,path:t});if(!e._isPuppeteerCore&&"chrome"===e.product){const e=process.env.PUPPETEER_CHROMIUM_REVISION;if(e){const t=i.revisionInfo(e),n=t.local?null:"Tried to use PUPPETEER_CHROMIUM_REVISION env variable to launch browser but did not find executable at: "+t.executablePath;return{executablePath:t.executablePath,missingText:n}}}const n=i.revisionInfo(e._preferredRevision),r=`Run \`npm install\` to download the correct Chromium revision (${e._preferredRevision}).`,o=n.local?null:`Could not find expected browser (${e.product}) locally. ${"chrome"===e.product?r:"Run `PUPPETEER_PRODUCT=firefox npm install` to download a supported Firefox browser binary."}`;return{executablePath:n.executablePath,missingText:o}}t.default=function(e,t,i,n){switch(n||i||(n=process.env.PUPPETEER_PRODUCT||process.env.npm_config_puppeteer_product||process.env.npm_package_config_puppeteer_product),n){case"firefox":return new m(e,t,i);case"chrome":default:return void 0!==n&&"chrome"!==n&&console.warn(`Warning: unknown product name ${n}. Falling back to chrome.`),new A(e,t,i)}}},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return r(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserRunner=void 0;const a=i(41),c=s(i(159)),l=o(i(36)),d=i(5),u=i(9),h=i(42),p=i(157),f=i(332),A=o(i(153)),m=i(40),g=i(1).promisify(c.default),y=a.debug("puppeteer:launcher");t.BrowserRunner=class{constructor(e,t,i){this.proc=null,this.connection=null,this._closed=!0,this._listeners=[],this._executablePath=e,this._processArguments=t,this._tempDirectory=i}start(e){const{handleSIGINT:t,handleSIGTERM:i,handleSIGHUP:n,dumpio:r,env:o,pipe:s}=e;let a=["pipe","pipe","pipe"];s&&(a=r?["ignore","pipe","pipe","pipe","pipe"]:["ignore","ignore","ignore","pipe","pipe"]),d.assert(!this.proc,"This process has previously been started."),y(`Calling ${this._executablePath} ${this._processArguments.join(" ")}`),this.proc=l.spawn(this._executablePath,this._processArguments,{detached:"win32"!==process.platform,env:o,stdio:a}),r&&(this.proc.stderr.pipe(process.stderr),this.proc.stdout.pipe(process.stdout)),this._closed=!1,this._processClosing=new Promise(e=>{this.proc.once("exit",()=>{this._closed=!0,this._tempDirectory?g(this._tempDirectory).then(()=>e()).catch(e=>console.error(e)):e()})}),this._listeners=[u.helper.addEventListener(process,"exit",this.kill.bind(this))],t&&this._listeners.push(u.helper.addEventListener(process,"SIGINT",()=>{this.kill(),process.exit(130)})),i&&this._listeners.push(u.helper.addEventListener(process,"SIGTERM",this.close.bind(this))),n&&this._listeners.push(u.helper.addEventListener(process,"SIGHUP",this.close.bind(this)))}close(){return this._closed?Promise.resolve():(this._tempDirectory?this.kill():this.connection&&this.connection.send("Browser.close").catch(e=>{u.debugError(e),this.kill()}),u.helper.removeEventListeners(this._listeners),this._processClosing)}kill(){try{c.default.sync(this._tempDirectory)}catch(e){}if(this.proc&&this.proc.pid&&!this.proc.killed)try{this.proc.kill("SIGKILL")}catch(e){throw new Error("Puppeteer was unable to kill the process which ran the browser binary.\nThis means that, on future Puppeteer launches, Puppeteer might not be able to launch the browser.\nPlease check your open processes and ensure that the browser processes that Puppeteer launched have been killed.\nIf you think this is a bug, please report it on the Puppeteer issue tracker.\nError cause: "+e.stack)}u.helper.removeEventListeners(this._listeners)}async setupConnection(e){const{usePipe:t,timeout:i,slowMo:n,preferredRevision:r}=e;if(t){const{3:e,4:t}=this.proc.stdio,i=new f.PipeTransport(e,t);this.connection=new h.Connection("",i,n)}else{const e=await function(e,t,i){return new Promise((n,r)=>{const o=A.createInterface({input:e.stderr});let s="";const a=[u.helper.addEventListener(o,"line",(function(e){s+=e+"\n";const t=e.match(/^DevTools listening on (ws:\/\/.*)$/);if(!t)return;d(),n(t[1])})),u.helper.addEventListener(o,"close",()=>l()),u.helper.addEventListener(e,"exit",()=>l()),u.helper.addEventListener(e,"error",e=>l(e))],c=t?setTimeout((function(){d(),r(new m.TimeoutError(`Timed out after ${t} ms while trying to connect to the browser! Only Chrome at revision r${i} is guaranteed to work.`))}),t):0;function l(e){d(),r(new Error(["Failed to launch the browser process!"+(e?" "+e.message:""),s,"","TROUBLESHOOTING: https://github.com/puppeteer/puppeteer/blob/main/docs/troubleshooting.md",""].join("\n")))}function d(){c&&clearTimeout(c),u.helper.removeEventListeners(a)}})}(this.proc,i,r),t=await p.NodeWebSocketTransport.create(e);this.connection=new h.Connection(e,t,n)}return this.connection}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PipeTransport=void 0;const n=i(9);t.PipeTransport=class{constructor(e,t){this._pipeWrite=e,this._pendingMessage="",this._eventListeners=[n.helper.addEventListener(t,"data",e=>this._dispatch(e)),n.helper.addEventListener(t,"close",()=>{this.onclose&&this.onclose.call(null)}),n.helper.addEventListener(t,"error",n.debugError),n.helper.addEventListener(e,"error",n.debugError)],this.onmessage=null,this.onclose=null}send(e){this._pipeWrite.write(e),this._pipeWrite.write("\0")}_dispatch(e){let t=e.indexOf("\0");if(-1===t)return void(this._pendingMessage+=e.toString());const i=this._pendingMessage+e.toString(void 0,0,t);this.onmessage&&this.onmessage.call(null,i);let n=t+1;for(t=e.indexOf("\0",n);-1!==t;)this.onmessage&&this.onmessage.call(null,e.toString(void 0,n,t)),n=t+1,t=e.indexOf("\0",n);this._pendingMessage=e.toString(void 0,n)}close(){this._pipeWrite=null,n.helper.removeEventListeners(this._eventListeners)}}}]));